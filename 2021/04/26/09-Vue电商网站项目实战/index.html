<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Vue电商项目实战1. 项目概述  移动Web：移动端的浏览器等访问 多个终端使用同一个数据库，同一个服务端API接口    1.1 管理系统的功能 1.2 开发模式 (前后端分离)  前端基于Vue技术栈的单页面应用项目(SPA) 后端写接口，前端调接口    1.3 项目技术选型1.3.1 前端项目技术栈 1.3.2 后端项目技术栈  JWT：JSON Web Token令牌，状态保持，身份认">
<meta property="og:type" content="article">
<meta property="og:title" content="09-Vue电商项目实战">
<meta property="og:url" content="http://example.com/2021/04/26/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/index.html">
<meta property="og:site_name" content="杨骁的博客">
<meta property="og:description" content="Vue电商项目实战1. 项目概述  移动Web：移动端的浏览器等访问 多个终端使用同一个数据库，同一个服务端API接口    1.1 管理系统的功能 1.2 开发模式 (前后端分离)  前端基于Vue技术栈的单页面应用项目(SPA) 后端写接口，前端调接口    1.3 项目技术选型1.3.1 前端项目技术栈 1.3.2 后端项目技术栈  JWT：JSON Web Token令牌，状态保持，身份认">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019110430555.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019110804214.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019111122433.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019112653524.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019112718552.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151411236.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151834747.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151845028.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164140045.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164324231.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164420980.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164754503.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019165006217.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019165214111.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019201052794.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019204402843.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019204138329.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019205149294.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019205344548.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211027212831681.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101190424190.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101190438137.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101191952878.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101192004837.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101192012818.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193308626.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193316129.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193517869.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194406325.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194422565.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194800125.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101200011669.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101200025803.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211110220753994.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211110221224945.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211115212442721.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211115215543049.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211122212243784.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123212537594.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123213902952.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123220240341.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123222048263.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123225724185.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123230208897.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124200658982.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124200808932.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124201954595.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124202637887.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203710927.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203716622.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203529907.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203931105.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124205445725.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124205935613.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124210826671.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124211833571.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124211917475.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124222157710.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125120252626.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125121833078.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125124836594.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126110819097.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126125249190.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126192733781.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209210301468.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209210647131.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209214936861.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211215170826499.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211215172820759.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220309211759635.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317095218060.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317095535717.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317212124662.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317212552592.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322161321485.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322161331623.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322165919184.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220309212154455.png">
<meta property="og:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220311154524351.png">
<meta property="article:published_time" content="2021-04-26T12:08:17.000Z">
<meta property="article:modified_time" content="2022-07-11T23:45:11.605Z">
<meta property="article:author" content="杨骁">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019110430555.png">

<link rel="canonical" href="http://example.com/2021/04/26/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>09-Vue电商项目实战 | 杨骁的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">杨骁的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/26/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          09-Vue电商项目实战
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-26 20:08:17" itemprop="dateCreated datePublished" datetime="2021-04-26T20:08:17+08:00">2021-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:45:11" itemprop="dateModified" datetime="2022-07-12T07:45:11+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">前端工程化</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Vue电商项目实战"><a href="#Vue电商项目实战" class="headerlink" title="Vue电商项目实战"></a>Vue电商项目实战</h1><h2 id="1-项目概述"><a href="#1-项目概述" class="headerlink" title="1. 项目概述"></a>1. 项目概述</h2><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019110430555.png" alt="image-20211019110430555"></p>
<ul>
<li>移动Web：移动端的浏览器等访问</li>
<li>多个终端使用<strong>同一个数据库</strong>，<strong>同一个服务端API接口</strong></li>
</ul>
<br>

<h3 id="1-1-管理系统的功能"><a href="#1-1-管理系统的功能" class="headerlink" title="1.1 管理系统的功能"></a>1.1 管理系统的功能</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019110804214.png" alt="image-20211019110804214"></p>
<h3 id="1-2-开发模式-前后端分离"><a href="#1-2-开发模式-前后端分离" class="headerlink" title="1.2 开发模式 (前后端分离)"></a>1.2 开发模式 (前后端分离)</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019111122433.png" alt="image-20211019111122433"></p>
<ul>
<li>前端基于Vue技术栈的<strong>单页面应用项目(SPA)</strong></li>
<li>后端写接口，前端调接口</li>
</ul>
<br>

<h3 id="1-3-项目技术选型"><a href="#1-3-项目技术选型" class="headerlink" title="1.3 项目技术选型"></a>1.3 项目技术选型</h3><h4 id="1-3-1-前端项目技术栈"><a href="#1-3-1-前端项目技术栈" class="headerlink" title="1.3.1 前端项目技术栈"></a>1.3.1 前端项目技术栈</h4><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019112653524.png" alt="image-20211019112653524"></p>
<h4 id="1-3-2-后端项目技术栈"><a href="#1-3-2-后端项目技术栈" class="headerlink" title="1.3.2 后端项目技术栈"></a>1.3.2 后端项目技术栈</h4><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019112718552.png" alt="image-20211019112718552"></p>
<ul>
<li><p><code>JWT</code>：<code>JSON Web Token</code>令牌，状态保持，身份认证（认证信息保存在客户端）</p>
</li>
<li><p><code>Sequelize</code>：操作数据库的框架</p>
</li>
</ul>
<br>

<h2 id="2-项目初始化"><a href="#2-项目初始化" class="headerlink" title="2. 项目初始化"></a>2. 项目初始化</h2><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151411236.png" alt="image-20211019151411236"></p>
<ul>
<li>通过图形化界面创建项目 <ul>
<li><code>vue ui</code>命令</li>
</ul>
</li>
<li>Git仓库使用 <strong>码云</strong></li>
</ul>
<h3 id="2-1-安装ElementUI插件"><a href="#2-1-安装ElementUI插件" class="headerlink" title="2.1 安装ElementUI插件"></a>2.1 安装ElementUI插件</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151834747.png" alt="image-20211019151834747"></p>
<h3 id="2-2-安装axios依赖"><a href="#2-2-安装axios依赖" class="headerlink" title="2.2 安装axios依赖"></a>2.2 安装axios依赖</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019151845028.png" alt="image-20211019151845028"></p>
<br>

<h3 id="2-3-初始化Git远程仓库"><a href="#2-3-初始化Git远程仓库" class="headerlink" title="2.3 初始化Git远程仓库"></a>2.3 初始化Git远程仓库</h3><p>使用**码云(<code>Gitee</code>)**作为远程仓库</p>
<p>Gitee使用收藏在浏览器中</p>
<ol>
<li><p>在自己的码云账户设置<strong>公钥SSH</strong></p>
</li>
<li><p>新建仓库vue_shop</p>
</li>
</ol>
<ul>
<li><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164140045.png" alt="image-20211019164140045"></li>
</ul>
<ol start="3">
<li>使用vue创建项目时进行了Git仓库的初始化</li>
</ol>
<ul>
<li><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164324231.png" alt="image-20211019164324231"></p>
</li>
<li><p>项目创建后向仓库第一次提交，摘要信息为 <code>init project</code></p>
<ul>
<li><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164420980.png" alt="image-20211019164420980"></p>
</li>
<li><p>在gitee网页中可以查看</p>
</li>
</ul>
</li>
</ul>
<ol start="4">
<li>将项目创建后安装的依赖和插件提交</li>
</ol>
<ul>
<li><p>项目创建后安装了<code>ElementUI</code>和<code>axios</code></p>
</li>
<li><p>在项目根目录打开<code>powershall</code></p>
<ul>
<li><p>执行 命令<code>git status  </code>查看**工作树(working tree)**环境</p>
<ul>
<li><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019164754503.png" alt="image-20211019164754503"></p>
</li>
<li><p>当前处于<strong>master主分支</strong>下</p>
</li>
<li><p>列出了自上次提交后的做出的操作(增加、修改和删除)</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>使用 命令 <code>git add .</code>  将所有操作加入缓存待提交</p>
<ul>
<li><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019165006217.png" alt="image-20211019165006217"></li>
</ul>
</li>
<li><p>使用 命令 <code>git commit -m &quot;add files&quot;</code>  输入本次提交摘要(<code>add files</code>)并进行提交</p>
<ul>
<li><span style="color:red">此命令提交修改到本地仓库</span></li>
<li><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019165214111.png" alt="image-20211019165214111"></li>
</ul>
</li>
<li><p>使用 命令<code>git remote add origin https://gitee.com/yang-xiao123/vue_shop.git</code></p>
<p>将<strong>远程仓库</strong>与本地仓库<strong>关联</strong>，<strong>并为远程仓库URL起一个简写名称</strong>(上述命令将**自己gitee的远程仓库<code>vue_shop</code>**与本地仓库关联，并为URL起别名为origin)</p>
</li>
<li><p>使用 命令 <code>git push -u origin master</code></p>
<ul>
<li><p><code>git push &lt;远程仓库名&gt; &lt;本地分支名&gt; [&lt;远程分支名&gt;]</code></p>
</li>
<li><p><strong>远程分支名</strong>省略时与<strong>本地分支名相同</strong></p>
</li>
<li><p>使用<code>-u</code>进行追踪</p>
</li>
<li><p>上述代码：将<strong>本地仓库的master分支</strong>推送到origin所代表的<strong>远程仓库的master分支</strong></p>
<ul>
<li>并使用<code>-u</code>追踪<strong>origin远程仓库的master分支</strong></li>
</ul>
</li>
<li><p>追踪之后，下次将<strong>本地仓库的master分支</strong>推送到<strong>远程仓库的master分</strong>支时</p>
<ul>
<li>命令可以简写为 <code>git push</code> </li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-4-后台项目环境安装配置"><a href="#2-4-后台项目环境安装配置" class="headerlink" title="2.4 后台项目环境安装配置"></a>2.4 后台项目环境安装配置</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019201052794.png" alt="image-20211019201052794"></p>
<ul>
<li>使用集成了MySQL数据库的phpstudy软件，导入<code>mydb.sql</code>文件</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019204402843.png" alt="image-20211019204402843"></p>
<ul>
<li>后台接口的文档中查找服务器URL和API等</li>
</ul>
<br>

<h4 id="2-4-1-安装postman进行后台接口测试"><a href="#2-4-1-安装postman进行后台接口测试" class="headerlink" title="2.4.1 安装postman进行后台接口测试"></a>2.4.1 安装postman进行后台接口测试</h4><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019204138329.png" alt="image-20211019204138329"></p>
<ul>
<li><p>运行<code>node app.js</code>开启服务器</p>
</li>
<li><p>输入请求URL选择请求方式</p>
</li>
<li><p>输入请求参数</p>
</li>
<li><p>点击Send发送请求</p>
</li>
<li><p>下方的Body选项中为返回的数据</p>
</li>
</ul>
<p>上图显示返回数据正常代表接口正常</p>
<br>

<h2 id="3-登录功能"><a href="#3-登录功能" class="headerlink" title="3. 登录功能"></a>3. 登录功能</h2><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019205149294.png" alt="image-20211019205149294"></p>
<h3 id="3-1-登录页面布局"><a href="#3-1-登录页面布局" class="headerlink" title="3.1 登录页面布局"></a>3.1 登录页面布局</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211019205344548.png" alt="image-20211019205344548"></p>
<br>

<ol>
<li>创建新分支完成登录功能并验证后再合并回主分支</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b login</span><br></pre></td></tr></table></figure>

<p>创建login分支并切换到其上</p>
<br>

<ol start="2">
<li>清理项目目录中不需要的组件</li>
</ol>
<p>新项目创建会默认生成初始化的页面，将此页面修改为空白页面</p>
<ul>
<li>删除不需要的<code>Home.vue、HelloWorld.vue和About.vue</code>组件</li>
<li>修改router文件夹下的<code>index.js</code>中的前端路由匹配规则</li>
</ul>
<br>

<h3 id="3-2-创建登录组件"><a href="#3-2-创建登录组件" class="headerlink" title="3.2 创建登录组件"></a>3.2 创建登录组件</h3><ol>
<li>新建<code>Login.vue</code>文件进行配置</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>样式兼容less语法并只在本组件生效</li>
</ul>
<p><span style="color:red">注意：</span></p>
<p>使<code>css</code>样式兼容less语法需要安装<code>less-loader和less</code>依赖</p>
<p>注意安装的版本号</p>
<ul>
<li><a href="mailto:&#108;&#101;&#115;&#x73;&#45;&#x6c;&#x6f;&#x61;&#100;&#101;&#114;&#x40;&#52;&#x2e;&#49;&#x2e;&#48;">&#108;&#101;&#115;&#x73;&#45;&#x6c;&#x6f;&#x61;&#100;&#101;&#114;&#x40;&#52;&#x2e;&#49;&#x2e;&#48;</a></li>
<li><a href="mailto:&#x6c;&#101;&#115;&#115;&#x40;&#51;&#46;&#57;&#46;&#48;">&#x6c;&#101;&#115;&#115;&#x40;&#51;&#46;&#57;&#46;&#48;</a></li>
<li><strong>版本过高会报错</strong> (因为项目使用<strong>vue2.x</strong>版本)</li>
</ul>
<br>

<ol start="2">
<li>在<code>App.vue</code>文件中添加路由占位符<code>&lt;router-view&gt;&lt;/router-view&gt;</code></li>
</ol>
<br>

<ol start="3">
<li>在<code>router/index.js</code>文件中引入<code>Login.vue</code>文件并配置路由规则</li>
</ol>
<ul>
<li>```js<br>//路由重定向<br>{ path: ‘/‘, redirect: ‘/login’ },<br>{ path: ‘/login’, component: Login }<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">4. 查看效果</span><br><span class="line"></span><br><span class="line">- ![image-20211019213817487](&#x2F;images&#x2F;09-Vue电商网站项目实战&#x2F;image-20211019213817487.png)</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">### 3.3 登录组件布局</span><br><span class="line"></span><br><span class="line">1. 设置全局CSS文件</span><br><span class="line"></span><br><span class="line">- 在&#96;assets&#x2F;global.css&#96;文件中写全局样式</span><br><span class="line">- 将&#96;global.css&#96;引入&#96;main.js&#96;文件，使全局样式生效</span><br><span class="line">- 在&#96;Login.vue&#96;文件中加入登录框，并设置样式</span><br><span class="line">- 最后的效果为，**登录组件整体占满屏幕**，背景色为&#96;#2b4b6b&#96;，**登录框居中显示为白色**</span><br><span class="line"></span><br><span class="line">![image-20211019222010527](&#x2F;images&#x2F;09-Vue电商网站项目实战&#x2F;image-20211019222010527.png)</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">### 3.4 登录框头部布局</span><br><span class="line"></span><br><span class="line">![image-20211027204823509](&#x2F;images&#x2F;09-Vue电商网站项目实战&#x2F;image-20211027204823509.png)</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">&lt;div class&#x3D;&quot;login_box&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;head_img&quot;&gt;</span><br><span class="line">    	&lt;img src&#x3D;&quot;&#x2F;assets&#x2F;logo.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">.head_img&#123;</span><br><span class="line">    width: 130px;</span><br><span class="line">    height: 130px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border: 1px solid #eee;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">    box-shadow:  0 0 10px #eee;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    &#x2F;&#x2F; less语法嵌套</span><br><span class="line">    img&#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<h3 id="3-5-登录框表单布局"><a href="#3-5-登录框表单布局" class="headerlink" title="3.5 登录框表单布局"></a>3.5 登录框表单布局</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211027212831681.png" alt="image-20211027212831681"></p>
<p>按需导入<code>Element-UI</code>组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Form,FormItem,Input &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line">Vue.use(Button)</span><br><span class="line">Vue.use(Form)</span><br><span class="line">Vue.use(FormItem)</span><br><span class="line">Vue.use(Input)</span><br></pre></td></tr></table></figure>

<CENTER>element.js</CENTER>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 登录表单 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-width</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">class</span>=<span class="string">&quot;login_form&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 用户名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 密码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 按钮 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">class</span>=<span class="string">&quot;btns&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.login_form&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 0 10px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line">.btns&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<center>Login.vue</center>

<h4 id="3-5-1-表单中文本输入框前小图标"><a href="#3-5-1-表单中文本输入框前小图标" class="headerlink" title="3.5.1 表单中文本输入框前小图标"></a>3.5.1 表单中文本输入框前小图标</h4><p><code>Element-UI</code>可以使用带icon的输入框</p>
<p>可以通过 <code>prefix-icon</code> 和 <code>suffix-icon</code> 属性在 input 组件首部和尾部增加显示图标，也可以通过 slot 来放置图标</p>
<p>使用第三方的小图标来源于阿里图标库</p>
<ol>
<li>将font文件夹放入项目中</li>
<li>在<code>main.js</code>文件中引入字体图标<code>css</code>文件(<code>iconfont.css</code>)</li>
<li>在<code>Element-UI</code>的el-input标签中设定<code>prefix-icon</code>属性设定输入框小图标</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101190424190.png" alt="image-20211101190424190"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101190438137.png" alt="image-20211101190438137"></p>
<br>

<h3 id="3-6-登录框表单双向数据绑定"><a href="#3-6-登录框表单双向数据绑定" class="headerlink" title="3.6 登录框表单双向数据绑定"></a>3.6 登录框表单双向数据绑定</h3><p>根据Element-UI官网</p>
<ol>
<li><p>在el-form标签上添加model<strong>属性绑定</strong></p>
</li>
<li><p>在el-input标签上进行<strong>双向数据绑定</strong>(v-model)</p>
</li>
<li><p>在单文件组件的<code>export default &#123;&#125;</code>对象中定义绑定的模板数据对象</p>
</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101191952878.png" alt="image-20211101191952878"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101192004837.png" alt="image-20211101192004837"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101192012818.png" alt="image-20211101192012818"></p>
<br>

<h3 id="3-7-表单输入框数据校验"><a href="#3-7-表单输入框数据校验" class="headerlink" title="3.7 表单输入框数据校验"></a>3.7 表单输入框数据校验</h3><p>在客户端进行表单数据校验</p>
<p>根据<code>Element-UI</code>官方文档</p>
<ol>
<li>在el-form标签上进行<code>rules</code>属性绑定(绑定验证规则模板数据对象)</li>
<li>模板数据中定义验证规则对象</li>
<li>将el-form-item标签的prop属性设置为验证规则名</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193308626.png" alt="image-20211101193308626"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193316129.png" alt="image-20211101193316129"></p>
<ul>
<li>可以使用数组组合多条验证规则</li>
<li><code>message</code>：验证失败时的提示信息</li>
<li><code>trigger</code>：在什么时候进行验证(blur在失焦时验证)</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101193517869.png" alt="image-20211101193517869"></p>
<br>

<h3 id="3-8-表单重置功能实现"><a href="#3-8-表单重置功能实现" class="headerlink" title="3.8 表单重置功能实现"></a>3.8 表单重置功能实现</h3><p>根据Element-UI官方文档</p>
<ol>
<li>给表单对象实例el-form标签添加<code>ref</code>引用属性</li>
<li>给重置按钮绑定事件，点击时触发表单实例的<code>resetFields</code>方法进行重置</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194406325.png" alt="image-20211101194406325"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194422565.png" alt="image-20211101194422565"></p>
<center>输出Login.vue单文件组件</center>

<ul>
<li>在单文件组件本身的<code>$refs</code>属性中可以获取表单组件的引用<code>LoginForm</code></li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101194800125.png" alt="image-20211101194800125"></p>
<br>

<h3 id="3-9-表单提交数据格式验证"><a href="#3-9-表单提交数据格式验证" class="headerlink" title="3.9 表单提交数据格式验证"></a>3.9 表单提交数据格式验证</h3><ol>
<li>获取表单对象实例，提交时触发其<code>validate</code>方法</li>
<li>设定validate方法的参数<ul>
<li>方法的参数为一个回调函数，<ul>
<li>回调函数第一个参数为是否通过的布尔值，</li>
<li>第二个参数为未通过字段组成的对象</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101200011669.png" alt="image-20211101200011669"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211101200025803.png" alt="image-20211101200025803"></p>
<br>

<h3 id="3-10-表单提交时发送请求"><a href="#3-10-表单提交时发送请求" class="headerlink" title="3.10 表单提交时发送请求"></a>3.10 表单提交时发送请求</h3><p>表单提交时根据<strong>格式验证结果</strong>决定是否发送请求</p>
<p>使用<code>axios对象</code>发送请求</p>
<br>

<ol>
<li>axios对象配置</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入axios模块</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">// 配置基准URL</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&#x27;http://127.0.0.1:8888/api/private/v1/&#x27;</span></span><br><span class="line"><span class="comment">// 将axios注册为Vue原型对象的属性</span></span><br><span class="line">Vue.prototype.$http = axios</span><br></pre></td></tr></table></figure>

<center>main.js文件</center>

<ol start="2">
<li>使用axios对象发送请求</li>
</ol>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211110220753994.png" alt="image-20211110220753994"></p>
<center>Login.vue文件</center>

<ul>
<li><p><code>axios.post()</code>返回promise对象，使用<strong>异步函数和await关键字的方式</strong>获取服务端响应对象</p>
</li>
<li><p>响应对象中的<strong>data属性</strong>为服务端<strong>实际响应的数据对象</strong></p>
<ul>
<li>通过对象解构的方法获取data属性值</li>
</ul>
</li>
<li><p>请求使用的URL路径(login)在<strong>后台API接口文档</strong>中查看</p>
</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211110221224945.png" alt="image-20211110221224945"></p>
<center>console.log(res) 的结果</center>

<br>

<h3 id="3-11-登录结果弹窗提示"><a href="#3-11-登录结果弹窗提示" class="headerlink" title="3.11 登录结果弹窗提示"></a>3.11 登录结果弹窗提示</h3><p>使用<code>element-ui</code>的<code>Message 消息提示</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;Message&#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="comment">//将Message注册为Vue原型对象上的属性message(属性名自定义)</span></span><br><span class="line">Vue.prototype.$message = Message</span><br></pre></td></tr></table></figure>

<center>src/plugins/element.js文件</center>

<ul>
<li>Message挂载时需要作为<code>Vue.prototype</code>的属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">          <span class="built_in">this</span>.$message.error(<span class="string">&#x27;登录失败&#x27;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="built_in">this</span>.$message.success(<span class="string">&#x27;登录成功&#x27;</span>)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<center>Login.vue文件</center>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211115212442721.png" alt="image-20211115212442721"></p>
<br>

<h3 id="3-12-登录成功后的处理"><a href="#3-12-登录成功后的处理" class="headerlink" title="3.12 登录成功后的处理"></a>3.12 登录成功后的处理</h3><ol>
<li>登录成功后将token信息保存在<code>sessionStorage</code>中<ul>
<li>登录后进行操作访问其他接口需要使用token验证身份</li>
<li>将token存储在<code>sessionStorage</code>中，页面关闭即删除token信息，提高安全性</li>
<li><code>sessionStorage</code>中的信息以<strong>键值对存储</strong></li>
</ul>
</li>
<li>使用编程式导航跳转到后台主页</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$message.success(<span class="string">&#x27;登录成功&#x27;</span>)</span><br><span class="line"><span class="comment">//将token记录在sessionStorage中</span></span><br><span class="line"><span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&#x27;token&#x27;</span>,res.data.token)</span><br><span class="line"><span class="comment">//通过编程式导航跳转到后台主页</span></span><br><span class="line"><span class="built_in">this</span>.$router.push(<span class="string">&#x27;/home&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211115215543049.png" alt="image-20211115215543049"></p>
<center>浏览器保存的token信息</center>

<br>

<h3 id="3-13-路由导航守卫"><a href="#3-13-路由导航守卫" class="headerlink" title="3.13 路由导航守卫"></a>3.13 路由导航守卫</h3><p>客户端在访问需要权限的页面时需要先进行登录</p>
<p>由<code>vue-router</code>的<strong>导航守卫</strong>来对路由变化的过程进行监控和操作</p>
<p><span style="color:red">“导航”表示路由正在发生改变。</span></p>
<p>使用<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><strong>全局前置守卫</strong></a>对未登录用户的访问作出限制</p>
<br>

<ul>
<li><p>全局前置守卫：</p>
<p> 当一个导航触发时，全局前置守卫按照创建顺序调用。守卫是异步解析执行，此时导航在所有守卫 resolve 完之前一直处于 <strong>等待中</strong>。</p>
<p>每个守卫方法接收<strong>三个参数</strong>：</p>
<ul>
<li><strong><code>to: Route</code></strong>: 即将要进入的目标 <a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1">路由对象</a></li>
<li><strong><code>from: Route</code></strong>: 当前导航正要离开的路由对象</li>
<li><strong><code>next: Function</code></strong>: 一定要调用该方法来 <strong>resolve</strong> 这个钩子。执行效果依赖 <code>next</code> 方法的调用参数。</li>
</ul>
</li>
</ul>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在导出路由对象前设置全局前置守卫</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//若导航的目标为登录页面则直接放行</span></span><br><span class="line">  <span class="keyword">if</span>(to.path === <span class="string">&#x27;/login&#x27;</span>) <span class="keyword">return</span> next()</span><br><span class="line">  <span class="comment">//获取token信息</span></span><br><span class="line">  <span class="keyword">let</span> tokenmsg = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="comment">//未登录(没有token信息)则跳转到&#x27;/login&#x27;路由(跳转到登录页面)</span></span><br><span class="line">  <span class="keyword">if</span>(!tokenmsg) <span class="keyword">return</span> next(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">  <span class="comment">//已经登录则直接放行</span></span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出路由对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<center>router/index.js</center>

<br>

<h3 id="3-14-退出登录"><a href="#3-14-退出登录" class="headerlink" title="3.14 退出登录"></a>3.14 退出登录</h3><p>在<code>Home.vue</code>组件中加入退出登录的按钮(el-button)，绑定点击事件</p>
<ul>
<li>删除浏览器<code>session Storage</code>中的token信息</li>
<li>编程式导航到登录页面(‘/login’)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">          logout:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="comment">//清除sessionStroage信息</span></span><br><span class="line">              <span class="built_in">window</span>.sessionStorage.clear()</span><br><span class="line">              <span class="comment">//编程式导航</span></span><br><span class="line">              <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="3-15-提交登录功能代码到码云"><a href="#3-15-提交登录功能代码到码云" class="headerlink" title="3.15 提交登录功能代码到码云"></a>3.15 提交登录功能代码到码云</h3><ol>
<li><p><strong>将本地仓库的<code>login</code>分支合并到<code>master</code>分支</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge login</span><br></pre></td></tr></table></figure>

<ul>
<li>login分支合并到master分支时，login分支的<strong>提交日志</strong>会被一起合并到master分支</li>
</ul>
</li>
<li><p><strong>将本地仓库的<code>master</code>分支推送更新到远端仓库的<code>master</code>分支</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push <span class="comment">//项目初始化时已经设定远程链接 使用简写命令进行推送</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>将本地仓库的<code>login</code>分支推送到远端仓库的<code>login</code>分支来记录开发过程</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout login</span><br><span class="line">git push -u origin login	<span class="comment">//将本地仓库的login分支推送到远端仓库的login分支并建立远程链接，之后的推送可以使用简写命令</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查看码云远端仓库</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211122212243784.png" alt="image-20211122212243784"></p>
<p>​    远端仓库新建了login分支以接收本地仓库推送的login分支</p>
</li>
</ol>
<br>

<h2 id="4-处理语法警告问题"><a href="#4-处理语法警告问题" class="headerlink" title="4. 处理语法警告问题"></a>4. 处理语法警告问题</h2><p><code>eslint</code>语法校验不允许使用双引号以及在花括号后加分号</p>
<p>在项目根目录下新建<code>.prettierrc</code>文件来配置文档格式化规则</p>
<p><code>vscode</code>格式化文档快捷键：<code>Shift + Alt + F</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;semi&quot;</span>: <span class="literal">false</span>,	<span class="comment">//不添加分号</span></span><br><span class="line">    <span class="attr">&quot;singleQuote&quot;</span>:<span class="literal">true</span>	<span class="comment">//使用单引号</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h2 id="5-主页Home组件布局"><a href="#5-主页Home组件布局" class="headerlink" title="5. 主页Home组件布局"></a>5. 主页Home组件布局</h2><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123212537594.png" alt="image-20211123212537594"></p>
<p>主页由头部Header和下方主体部分的Aside和Main组成</p>
<p>使用<code>Element-UI</code>组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span> <span class="attr">class</span>=<span class="string">&quot;home-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">      Header</span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">plain</span> @<span class="attr">click</span>=<span class="string">&quot;logout&quot;</span>&gt;</span>退出登录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span>Aside<span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-main</span>&gt;</span>Main<span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">.home-container &#123;</span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100%</span>;	<span class="comment">/*长度占满窗口*/</span></span></span><br><span class="line">&#125;</span><br><span class="line">.el-header &#123;</span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#373d41</span>;</span></span><br><span class="line">&#125;</span><br><span class="line">.el-aside &#123;</span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#333744</span>;</span></span><br><span class="line">&#125;</span><br><span class="line">.el-main &#123;</span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#eaedf1</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<center>Home.vue</center>

<p><code>Element-UI</code>中的组件名即为其类名，也可以自定义类名</p>
<br>

<h3 id="5-1-Header布局"><a href="#5-1-Header布局" class="headerlink" title="5.1 Header布局"></a>5.1 Header布局</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123213902952.png" alt="image-20211123213902952"></p>
<ul>
<li>图标、文字标识居左，退出按钮居右</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/heima.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>电商后台管理系统<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">plain</span> @<span class="attr">click</span>=<span class="string">&quot;logout&quot;</span>&gt;</span>退出登录<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.el-header &#123;</span><br><span class="line">        background-color: #373d41;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">        align-items: center;</span><br><span class="line">        &gt; div &#123;	</span><br><span class="line">            display: flex;</span><br><span class="line">            align-items: center;</span><br><span class="line">            span &#123;</span><br><span class="line">                padding-left: 5px;</span><br><span class="line">                font-size: 20px;</span><br><span class="line">                color:#fff;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<center>Home.vue</center>

<br>

<h3 id="5-2-侧边导航菜单栏布局"><a href="#5-2-侧边导航菜单栏布局" class="headerlink" title="5.2 侧边导航菜单栏布局"></a>5.2 侧边导航菜单栏布局</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 导航栏组件 --&gt;</span></span><br><span class="line">    &lt;el-menu</span><br><span class="line">        background-color=&quot;#333744&quot;</span><br><span class="line">        text-color=&quot;#fff&quot;</span><br><span class="line">        active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">    &gt;</span><br><span class="line">        <span class="comment">&lt;!-- 一级菜单 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-submenu</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-location&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>导航一<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 二级菜单 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-1&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-location&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>选项一<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-submenu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123220240341.png" alt="image-20211123220240341"></p>
<br>

<h3 id="5-3-通过接口获取菜单数据"><a href="#5-3-通过接口获取菜单数据" class="headerlink" title="5.3 通过接口获取菜单数据"></a>5.3 通过接口获取菜单数据</h3><p>对于登录之外的接口，服务器需要token令牌进行验证。</p>
<p>为了规避<code>CSRF</code>攻击，token一般作为请求头字段<code>Authorization</code>的值传送给服务器</p>
<p>对于<code>axios</code>请求，可以设置<strong>请求拦截器</strong>给发送前的请求添加token令牌</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//配置请求拦截器</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(config);	<span class="comment">//config为请求对象</span></span><br><span class="line">  config.headers.common.Authorization = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<center>main.js</center>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123222048263.png" alt="image-20211123222048263"></p>
<ul>
<li>因为登录请求时客户端还没有存储token，所以Authorization字段值为null</li>
</ul>
<br>

<h4 id="5-3-1-获取菜单数据并渲染在模板中"><a href="#5-3-1-获取菜单数据并渲染在模板中" class="headerlink" title="5.3.1 获取菜单数据并渲染在模板中"></a>5.3.1 获取菜单数据并渲染在模板中</h4><ol>
<li>获取菜单数据</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">           <span class="comment">//菜单数据数组</span></span><br><span class="line">           menuList: [],</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;	<span class="comment">//生命周期钩子</span></span><br><span class="line">       <span class="comment">//组件创建完时获取菜单数据</span></span><br><span class="line">       <span class="built_in">this</span>.getMenu()</span><br><span class="line">   &#125;,</span><br><span class="line">getMenu: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">           <span class="comment">//axios请求get方式获取菜单数据</span></span><br><span class="line">           <span class="keyword">let</span> &#123; <span class="attr">data</span>: res &#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.get(<span class="string">&#x27;menus&#x27;</span>)</span><br><span class="line">           <span class="keyword">if</span> (res.meta.status !== <span class="number">200</span>) &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="built_in">this</span>.$message.error(res.meta.msg)</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">this</span>.menuList = res.data	<span class="comment">//将菜单数据赋值给模板数据</span></span><br><span class="line">           <span class="built_in">console</span>.log(<span class="built_in">this</span>.menuList)</span><br><span class="line">       &#125;,</span><br></pre></td></tr></table></figure>

<center>Home.vue的组件配置对象内容</center>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123225724185.png" alt="image-20211123225724185"></p>
<center>返回的菜单数据数组</center>

<ul>
<li>子菜单保存在<code>children</code>数组中</li>
</ul>
<br>

<ol start="2">
<li>渲染菜单数据</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 一级菜单 --&gt;</span></span><br><span class="line">&lt;el-submenu</span><br><span class="line">            :index=&quot;item.id + &#x27;&#x27;&quot;</span><br><span class="line">            v-for=&quot;item in menuList&quot;   <span class="comment">&lt;!-- 一级菜单循环 --&gt;</span></span><br><span class="line">            :key=&quot;item.id&quot;</span><br><span class="line">            &gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-location&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item.authName &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 二级菜单 --&gt;</span></span><br><span class="line">    &lt;el-menu-item</span><br><span class="line">                  :index=&quot;subitem.id + &#x27;&#x27;&quot;</span><br><span class="line">                  v-for=&quot;subitem in item.children&quot; <span class="comment">&lt;!-- 二级菜单循环 --&gt;</span></span><br><span class="line">                  :key=&quot;subitem.id&quot;</span><br><span class="line">                  &gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-location&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; subitem.authName &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-submenu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用<strong>两层循环结构</strong>渲染菜单数据<ul>
<li>循环时注意使用id值属性绑定<code>:key</code></li>
<li>index属性为<code>Element-UI</code>组件库对每个菜单项的标识，同样使用id值绑定<ul>
<li>index属性值规定为<strong>String类型</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211123230208897.png" alt="image-20211123230208897"></p>
<br>

<h3 id="5-4-左侧菜单格式美化"><a href="#5-4-左侧菜单格式美化" class="headerlink" title="5.4 左侧菜单格式美化"></a>5.4 左侧菜单格式美化</h3><p>替换<strong>二级菜单图标</strong>、<strong>一级菜单图标</strong>和<strong>选中二级菜单时的颜色</strong></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124200658982.png" alt="image-20211124200658982"></p>
<center>修改选中时的颜色</center>

<p>根据<code>Element-UI</code>组件库的图标类名<strong>修改二级菜单i标签class属性值</strong></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124200808932.png" alt="image-20211124200808932"></p>
<center>二级菜单图标</center>

<p>使用导入的第三方组件库的小图标替换一级菜单图标</p>
<ul>
<li>循环生成的一级菜单需要使用不同的小图标</li>
<li>利用<strong>模板数据对象</strong>存储每个一级菜单项的<strong>图标class属性值</strong>，根据ID值设置不同的小图标</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">:class</span>=<span class="string">&quot;iconList[item.id]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"></span><br><span class="line">data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            menuList: [],</span><br><span class="line">            iconList: &#123;</span><br><span class="line">                125: &#x27;iconfont icon-user&#x27;,</span><br><span class="line">                103: &#x27;iconfont icon-tijikongjian&#x27;,</span><br><span class="line">                101: &#x27;iconfont icon-shangpin&#x27;,</span><br><span class="line">                102: &#x27;iconfont icon-danju&#x27;,</span><br><span class="line">                145: &#x27;iconfont icon-baobiao&#x27;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<br>

<h3 id="5-5-左侧菜单优化"><a href="#5-5-左侧菜单优化" class="headerlink" title="5.5 左侧菜单优化"></a>5.5 左侧菜单优化</h3><ol>
<li><p>实现同时只展开一个下拉菜单功能</p>
<p>根据<code>Element-UI</code>官方文档在<code>el-menu</code>组件添加属性解决</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124201954595.png" alt="image-20211124201954595"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124202637887.png" alt="image-20211124202637887"></p>
<ul>
<li>标签属性值为Boolean类型时需要进行<strong>属性绑定</strong>，否则’true’会被默认识别为String类型</li>
</ul>
</li>
</ol>
<br>

<ol start="2">
<li><p>解决下拉菜单边框超出父元素问题</p>
<p>将el-menu标签的<code>boder-right</code>设置为<code>none</code></p>
</li>
</ol>
<br>

<h3 id="5-6-左侧菜单折叠功能"><a href="#5-6-左侧菜单折叠功能" class="headerlink" title="5.6 左侧菜单折叠功能"></a>5.6 左侧菜单折叠功能</h3><p>使用<code>Element-UI</code>组件库的<code>menu</code>组件的属性实现折叠</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203710927.png" alt="image-20211124203710927"></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203716622.png" alt="image-20211124203716622"></p>
<ol>
<li><p>添加实现折叠功能的div</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203529907.png" alt="image-20211124203529907"></p>
</li>
<li><p>为div写<code>css</code>样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.toggle-button</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#4A5064</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">0.2em</span>;  //字母间间隔</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>给div绑定点击事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">toggleButton: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    		<span class="comment">//使用isToggle模板数据作为collapse属性的值 初始为false(不折叠)</span></span><br><span class="line">    		<span class="comment">//点击div修改此Boolean值实现折叠效果</span></span><br><span class="line">            <span class="built_in">this</span>.isToggle = !<span class="built_in">this</span>.isToggle</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124203931105.png" alt="image-20211124203931105"></p>
</li>
</ol>
<center>折叠效果</center>

<br>

<h3 id="5-7-主页重定向显示welcome信息"><a href="#5-7-主页重定向显示welcome信息" class="headerlink" title="5.7 主页重定向显示welcome信息"></a>5.7 主页重定向显示welcome信息</h3><p>1.创建<code>Welcome.vue</code>单文件组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;Welcome&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>2.设定其作为<code>/home</code>路由的嵌套子路由规则</p>
<p>3.设定<code>/home</code>路由重定向到<code>/welcome</code>路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="comment">//路由重定向</span></span><br><span class="line">    redirect: <span class="string">&#x27;/welcome&#x27;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    <span class="comment">// /welcome路由作为/home的嵌套子路由</span></span><br><span class="line">    children: [</span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;/welcome&#x27;</span>, <span class="attr">component</span>: Welcome &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<center>src/router/index.js</center>

<p>4.在<code>home.vue</code>模板中设定路由占位符</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 路由占位符 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p>重定向的流程</p>
<ul>
<li>锚链接更改为<code>/home</code>，将<code>Home</code>组件渲染到<code>vue</code>根实例中</li>
<li><code>/home</code>路由重定向到<code>/welcome</code>，将<code>Welcome</code>组件渲染到<code>Home</code>组件中的路由占位符处</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124205445725.png" alt="image-20211124205445725"></p>
<center>重定向到/welcome路由的效果</center>

<br>

<h3 id="5-8-侧边菜单栏路由改造"><a href="#5-8-侧边菜单栏路由改造" class="headerlink" title="5.8 侧边菜单栏路由改造"></a>5.8 侧边菜单栏路由改造</h3><p>根据<code>Element-UI</code>文档<strong>给menu组件添加router属性开启<code>vue-router</code>模式</strong></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124205935613.png" alt="image-20211124205935613"></p>
<p>修改二级菜单的<strong>index属性</strong>，二级菜单被激活时，根据其index值进行路由跳转</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 二级菜单 --&gt;</span></span><br><span class="line">&lt;el-menu-item</span><br><span class="line">    :index=&quot; &#x27;/&#x27; + subitem.path&quot;</span><br><span class="line">    v-for=&quot;subitem in item.children&quot;</span><br><span class="line">    :key=&quot;subitem.id&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>获取响应数据的path属性加上<code>&#39;/&#39;</code>作为index值进行路由跳转</li>
</ul>
<br>

<h3 id="5-9-用户列表二级菜单路由"><a href="#5-9-用户列表二级菜单路由" class="headerlink" title="5.9 用户列表二级菜单路由"></a>5.9 用户列表二级菜单路由</h3><p>1.创建<code>Users.vue</code>组件</p>
<p>2.添加<code>Home</code>组件的子路由规则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">children: [</span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;/welcome&#x27;</span>, <span class="attr">component</span>: Welcome &#125;,</span><br><span class="line">      <span class="comment">//Home组件的子路由规则渲染Users组件</span></span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;/users&#x27;</span>, <span class="attr">component</span>: Users&#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124210826671.png" alt="image-20211124210826671"></p>
<br>

<h3 id="5-10-菜单栏选中状态保持"><a href="#5-10-菜单栏选中状态保持" class="headerlink" title="5.10 菜单栏选中状态保持"></a>5.10 菜单栏选中状态保持</h3><p>默认在登陆后并<strong>点击二级菜单时</strong>，二级菜单会<strong>蓝色高亮显示</strong></p>
<p>但是当刷新页面时，对应的二级菜单组件仍被渲染，但是选中状态丢失</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124211833571.png" alt="image-20211124211833571"></p>
<center>选中状态丢失</center>

<p><strong>解决办法</strong></p>
<p>menu组件的属性<code>default-active</code>值为当前选中的导航项的index值</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124211917475.png" alt="image-20211124211917475"></p>
<p>在每次点击菜单项时，保存选中项的index值，在刷新等情况下对<code>default-active</code>属性重新赋值，以此保持登录状态</p>
<br>

<p><strong>1.为每个二级菜单添加点击事件，将其index值记录在<code>sessionStorage</code>中</strong></p>
<p><code>default-active</code>的取值属性绑定<code>activeIndex</code>数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 二级菜单 --&gt;</span><br><span class="line">&lt;el-menu-item</span><br><span class="line">    :index=<span class="string">&quot; &#x27;/&#x27; + subitem.path&quot;</span></span><br><span class="line">    v-<span class="keyword">for</span>=<span class="string">&quot;subitem in item.children&quot;</span></span><br><span class="line">    :key=<span class="string">&quot;subitem.id&quot;</span></span><br><span class="line">    @click=<span class="string">&quot;getNavState(&#x27;/&#x27; + subitem.path)&quot;</span></span><br><span class="line">&gt;</span><br><span class="line">                            </span><br><span class="line">getNavState:<span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&#x27;activeIndex&#x27;</span>,index)</span><br><span class="line">    <span class="comment">//将选中项的index值赋给activeIndex变量，以此更改导航栏的选中项</span></span><br><span class="line">    <span class="built_in">this</span>.activeIndex = index</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2.在Home组件的<code>created</code>钩子函数中进行<code>default-active</code>属性的赋值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">//组件创建完时获取菜单数据</span></span><br><span class="line">        <span class="built_in">this</span>.getMenu()</span><br><span class="line">    	<span class="comment">//activeIndex属性赋值</span></span><br><span class="line">        <span class="built_in">this</span>.activeIndex = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;activeIndex&#x27;</span>)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<br>

<h2 id="6-用户列表Users组件"><a href="#6-用户列表Users组件" class="headerlink" title="6. 用户列表Users组件"></a>6. 用户列表Users组件</h2><h3 id="6-1-用户列表基本UI结构绘制"><a href="#6-1-用户列表基本UI结构绘制" class="headerlink" title="6.1 用户列表基本UI结构绘制"></a>6.1 用户列表基本UI结构绘制</h3><p>用户列表基本<code>UI</code>结构由<strong>面包屑导航条</strong>和<strong>卡片容器</strong>构成</p>
<br>

<p><strong>1.面包屑导航条</strong></p>
<p>使用<code>Element-UI</code>的<code>el-breadcrumb</code>组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 面包屑导航 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-breadcrumb</span> <span class="attr">separator-class</span>=<span class="string">&quot;el-icon-arrow-right&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-breadcrumb-item</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; path: &#x27;/&#x27; &#125;&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户列表<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-breadcrumb</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<p><strong>2.卡片容器</strong></p>
<p>使用<code>el-card</code>组件实现卡片容器</p>
<p>使用<code>el-row</code>和<code>el-col</code>组件实现分栏布局</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 卡片容器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-card</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 分栏布局 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- gutter设定每列间隔 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 占据8栏 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;8&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 输入框组件 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入内容&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">slot</span>=<span class="string">&quot;append&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>查找用户<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>分栏布局</strong></p>
<p>通过基础的24分栏，快速构建布局</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211124222157710.png" alt="image-20211124222157710"></p>
<center>基本UI绘制</center>

<br>

<h3 id="6-2-用户列表数据获取"><a href="#6-2-用户列表数据获取" class="headerlink" title="6.2 用户列表数据获取"></a>6.2 用户列表数据获取</h3><p>根据后台API接口文档建立<code>axios get</code>请求</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125120252626.png" alt="image-20211125120252626"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.usersList()	<span class="comment">//组件创建完后即发起axios请求</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        usersList:<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.get(<span class="string">&#x27;users&#x27;</span>,&#123;<span class="attr">params</span>:<span class="built_in">this</span>.paramsInfo&#125;)	<span class="comment">//使用构建好的paramsInfo数据作为请求参数</span></span><br><span class="line">            <span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.$message.error(res.meta.msg)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.userlist = res.data.users	<span class="comment">//查询出的用户数组赋值</span></span><br><span class="line">            <span class="built_in">this</span>.total = res.data.total		<span class="comment">//查询出的总数赋值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="6-3-用户列表数据表格绘制"><a href="#6-3-用户列表数据表格绘制" class="headerlink" title="6.3 用户列表数据表格绘制"></a>6.3 用户列表数据表格绘制</h3><p>使用<code>el-table</code>和<code>el-table-column</code>组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 用户数据表格渲染 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- stripe隔行变色 border竖直边框 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- data即为表格数据源userlist数组 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;userlist&quot;</span> <span class="attr">stripe</span> <span class="attr">border</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- type=&quot;index&quot; 添加表格索引列 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;#&quot;</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- label表格列名 prop列数据对应的值(userlist中的对象属性) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;电话&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;mobile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;角色&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;role_name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;状态&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;mg_state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125121833078.png" alt="image-20211125121833078"></p>
<br>

<h4 id="6-3-1-通过作用域插槽渲染状态列开关"><a href="#6-3-1-通过作用域插槽渲染状态列开关" class="headerlink" title="6.3.1 通过作用域插槽渲染状态列开关"></a>6.3.1 通过作用域插槽渲染状态列开关</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;状态&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;mg_state&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 作用域插槽 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;scope.row.mg_state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>el-table-column</code>组件的<code>template</code>模板字段中使用<strong>slot插槽的row属性</strong>向父组件传递了当前行的信息，父组件通过<strong>作用域插槽</strong>的<code>slot-scope</code>属性接收</p>
<ul>
<li>使用<code>scope.row.mg_state</code>即可获取当前行状态列的值(Boolean值)</li>
</ul>
<br>

<p>使用<code>Element-UI</code>组件库的<strong>Switch开关组件</strong>实现状态列的开关显示</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;scope.row.mg_state&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>开关组件<strong>双向数据绑定</strong><code>scope.row.mg_state</code>(Boolean类型)，开关组件根据Boolean值改变状态</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211125124836594.png" alt="image-20211125124836594"></p>
<center>状态列开关组件渲染</center>

<br>

<h4 id="6-3-2-作用域插槽渲染操作列按钮"><a href="#6-3-2-作用域插槽渲染操作列按钮" class="headerlink" title="6.3.2 作用域插槽渲染操作列按钮"></a>6.3.2 作用域插槽渲染操作列按钮</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 修改按钮 --&gt;</span></span><br><span class="line">        &lt;el-button</span><br><span class="line">            type=&quot;primary&quot;</span><br><span class="line">            icon=&quot;el-icon-edit&quot;</span><br><span class="line">            size=&quot;mini&quot;</span><br><span class="line">         &gt;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">		 <span class="comment">&lt;!-- 删除按钮 --&gt;</span></span><br><span class="line">         &lt;el-button</span><br><span class="line">            type=&quot;danger&quot;</span><br><span class="line">            icon=&quot;el-icon-delete&quot;</span><br><span class="line">            size=&quot;mini&quot;</span><br><span class="line">          &gt;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">		  <span class="comment">&lt;!-- 鼠标悬停时提示文字 --&gt;</span></span><br><span class="line">          &lt;el-tooltip</span><br><span class="line">              :enterable=&quot;false&quot;</span><br><span class="line">              class=&quot;item&quot;</span><br><span class="line">              effect=&quot;dark&quot;</span><br><span class="line">              content=&quot;分配角色&quot;</span><br><span class="line">              placement=&quot;top&quot;</span><br><span class="line">          &gt; </span><br><span class="line">            <span class="comment">&lt;!-- 分配角色按钮 --&gt;</span></span><br><span class="line">            &lt;el-button</span><br><span class="line">                type=&quot;warning&quot;</span><br><span class="line">                icon=&quot;el-icon-setting&quot;</span><br><span class="line">                size=&quot;mini&quot;</span><br><span class="line">            &gt;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    	  <span class="tag">&lt;/<span class="name">el-tooltip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用<code>el-button</code>组件和<code>el-tooltip</code>组件</p>
<p><code>el-tooltip</code>组件用于展示<strong>鼠标悬停时的提示信息</strong></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126110819097.png" alt="image-20211126110819097"></p>
<br>

<h3 id="6-4-数据分页效果"><a href="#6-4-数据分页效果" class="headerlink" title="6.4 数据分页效果"></a>6.4 数据分页效果</h3><p>使用<code>el-pagination</code>组件实现分页效果</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-pagination</span><br><span class="line">   @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">   @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">   :current-page=&quot;paramsInfo.pagenum&quot;</span><br><span class="line">   :page-sizes=&quot;[1, 2, 3, 4]&quot;</span><br><span class="line">   :page-size=&quot;paramsInfo.pagesize&quot;</span><br><span class="line">   layout=&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class="line">   :total=&quot;total&quot;</span><br><span class="line">               &gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>size-change：自定义事件绑定，<strong>每页显示数据条数</strong>改变时触发</li>
<li>current-change：当前显示页变化时触发</li>
<li>current-page：当前显示的页码，属性绑定<code>paramsInfo.pagenum</code></li>
<li>page-sizes：属性绑定一个数组，表示可选的<strong>每页数据条数</strong></li>
<li>layout：分页组件功能布局(总数，页数据条数选择等)</li>
<li>total：属性绑定查询的数据总数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">handleSizeChange:<span class="function"><span class="keyword">function</span>(<span class="params">newsize</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.paramsInfo.pagesize = newsize</span><br><span class="line">    <span class="built_in">this</span>.usersList()</span><br><span class="line">&#125;,</span><br><span class="line">handleCurrentChange:<span class="function"><span class="keyword">function</span>(<span class="params">newpage</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//修改请求参数对象</span></span><br><span class="line">    <span class="built_in">this</span>.paramsInfo.pagenum = newpage</span><br><span class="line">    <span class="comment">//重新发起请求</span></span><br><span class="line">    <span class="built_in">this</span>.usersList()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>事件处理函数，当<strong>每页数据条数变化</strong>或者<strong>当前显示页码变化</strong>时触发</li>
<li>根据<strong>新的查询参数重新发起请求</strong>后渲染数据表格</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126125249190.png" alt="image-20211126125249190"></p>
<br>

<h3 id="6-5-状态列修改保存到数据库"><a href="#6-5-状态列修改保存到数据库" class="headerlink" title="6.5 状态列修改保存到数据库"></a>6.5 状态列修改保存到数据库</h3><p>1.状态开关绑定<strong>change事件</strong>，传递<strong>当前行用户信息</strong>作为参数</p>
<p>2.事件处理函数中发起修改用户信息的put请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-<span class="keyword">switch</span></span><br><span class="line">    v-model=<span class="string">&quot;scope.row.mg_state</span></span><br><span class="line"><span class="string">	//change事件绑定</span></span><br><span class="line"><span class="string">    @change=&quot;</span>switchChange(scope.row)<span class="string">&quot;</span></span><br><span class="line"><span class="string">&gt;&lt;/el-switch&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">switchChange: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">userinfo</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//发起put修改请求</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.put(<span class="string">`users/<span class="subst">$&#123;userinfo.id&#125;</span>/state/<span class="subst">$&#123;userinfo.mg_state&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="comment">//修改失败 弹窗错误信息</span></span><br><span class="line">        <span class="built_in">this</span>.$message.error(res.meta.msg)</span><br><span class="line">        <span class="comment">//重置用户状态</span></span><br><span class="line">        userinfo.mg_state = !userinfo.mg_state</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//修改成功 弹窗成功提示</span></span><br><span class="line">        <span class="built_in">this</span>.$message.success(res.meta.msg)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>修改状态开关后提交请求<strong>修改数据库中的用户数据</strong>，保存新状态信息</p>
<br>

<h3 id="6-6-搜索按钮功能实现"><a href="#6-6-搜索按钮功能实现" class="headerlink" title="6.6 搜索按钮功能实现"></a>6.6 搜索按钮功能实现</h3><p>1.输入框双向属性绑定<code>paramsInfo.query</code>，输入框内容即为<code>get</code>请求参数中的<code>query</code>参数</p>
<p>2.<strong>搜索按钮绑定点击事件</strong>调用<code>userList</code>方法发起<code>get</code>请求</p>
<p>3.在输入框添加<strong>清空按钮</strong>，输入框绑定清空事件，<strong>清空时重新发起请求</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input</span><br><span class="line">   placeholder=&quot;请输入内容&quot;</span><br><span class="line">   v-model=&quot;paramsInfo.query&quot;</span><br><span class="line">   clearable</span><br><span class="line">   @clear=&quot;usersList&quot;</span><br><span class="line">&gt;</span><br><span class="line">    &lt;el-button</span><br><span class="line">        slot=&quot;append&quot;</span><br><span class="line">        class=&quot;el-icon-search&quot;</span><br><span class="line">        @click=&quot;usersList&quot;</span><br><span class="line">        &gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>el-input</code>的<code>clearable</code>属性：是否可清空</p>
<p><code>clear</code>事件绑定：在点击输入框清空按钮后触发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">paramsInfo: &#123;</span><br><span class="line">    query: <span class="string">&#x27;&#x27;</span>,	<span class="comment">//根据字符串查询对应用户名的用户信息</span></span><br><span class="line">    pagenum: <span class="number">1</span>,</span><br><span class="line">    pagesize: <span class="number">2</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>query参数可以为空，不为空时<strong>查询所有用户名包含query参数</strong>的用户信息</p>
<br>

<h3 id="6-7-添加用户表单"><a href="#6-7-添加用户表单" class="headerlink" title="6.7 添加用户表单"></a>6.7 添加用户表单</h3><p>点击添加用户按钮，修改<code>el-dialog</code>组件的<code>visible.sync</code>属性<strong>显示用户表单弹窗</strong></p>
<p>使用<code>el-dialog</code>组件弹窗实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form</span><br><span class="line">         :model=&quot;addUserInfo&quot;</span><br><span class="line">         :rules=&quot;addUserRules&quot;</span><br><span class="line">         ref=&quot;addUserRef&quot;</span><br><span class="line">         label-width=&quot;70px&quot;</span><br><span class="line">&gt;</span><br><span class="line">	<span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;addUserInfo.username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;密码&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;addUserInfo.password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;addUserInfo.email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;手机号&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;mobile&quot;</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;addUserInfo.mobile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">addUserRules:&#123;</span><br><span class="line">    username:[</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;用户名必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">5</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 3 到 5 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    password:[</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;密码必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">min</span>: <span class="number">6</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 6 到 10 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    email:[</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;邮箱必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    mobile:[</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;邮箱必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">min</span>: <span class="number">11</span>, <span class="attr">max</span>: <span class="number">11</span>, <span class="attr">message</span>: <span class="string">&#x27;长度为 11 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211126192733781.png" alt="image-20211126192733781"></p>
<br>

<h4 id="6-7-1-自定义验证规则使用"><a href="#6-7-1-自定义验证规则使用" class="headerlink" title="6.7.1 自定义验证规则使用"></a>6.7.1 自定义验证规则使用</h4><p>对于<strong>邮箱和手机号</strong>使用自定义验证规则进行验证</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> checkemail = <span class="function">(<span class="params">rule,value,cb</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//使用正则表达式进行验证</span></span><br><span class="line">    <span class="keyword">const</span> regEmail = <span class="regexp">/^([A-Za-z0-9_-])+@([A-Za-z0-9-_])+(\.[a-zA-Z0-9_-])+/</span></span><br><span class="line">    <span class="keyword">if</span>(regEmail.test(value))&#123;</span><br><span class="line">        <span class="comment">//通过验证</span></span><br><span class="line">        <span class="keyword">return</span> cb()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//验证失败</span></span><br><span class="line">    <span class="keyword">return</span> cb(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;请输入正确格式的邮箱&#x27;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> checkmobile = <span class="function">(<span class="params">rule,value,cb</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> regMobile = <span class="regexp">/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/</span></span><br><span class="line">    <span class="keyword">if</span>(regMobile.test(value))&#123;</span><br><span class="line">        <span class="keyword">return</span> cb()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cb(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;请输入正确格式的手机号&#x27;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在组件数据<code>data()&#123;&#125;</code>中定义 验证规则(在<code>return</code>前定义)</li>
<li>自定义验证规则变量为一个<strong>箭头函数</strong><ul>
<li>接收3个参数 <code>rule,value和cb</code></li>
<li><code>rule</code>：验证规则</li>
<li><code>value</code>：<strong>待验证的数据</strong></li>
<li><code>cb</code>：回调函数，返回验证结果时调用(通过则无参数调用，失败则以错误对象作为参数)</li>
</ul>
</li>
</ul>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">email:[</span><br><span class="line">    &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;邮箱必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">    <span class="comment">//使用自定义验证规则进行验证(validator:验证规则对象)</span></span><br><span class="line">    &#123; <span class="attr">validator</span>: checkemail, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>&#125;</span><br><span class="line">],</span><br><span class="line">mobile:[</span><br><span class="line">   &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;邮箱必填&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">   &#123; <span class="attr">validator</span>: checkmobile, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ul>
<li>在<code>addUserRules</code>验证规则对象中使用自定义验证规则</li>
</ul>
<br>

<h4 id="6-7-2-添加用户表单关闭后重置"><a href="#6-7-2-添加用户表单关闭后重置" class="headerlink" title="6.7.2 添加用户表单关闭后重置"></a>6.7.2 添加用户表单关闭后重置</h4><p>1.监听dialog关闭事件</p>
<p>2.在关闭事件中调用表单引用的resetFields方法清空表单</p>
<br>

<h4 id="6-7-3-添加用户前预校验"><a href="#6-7-3-添加用户前预校验" class="headerlink" title="6.7.3 添加用户前预校验"></a>6.7.3 添加用户前预校验</h4><p>1.确定按钮绑定点击事件</p>
<p>2.点击事件中调用表单引用的<code>validate</code>方法进行预校验</p>
<br>

<h4 id="6-7-4-校验通过发送添加用户请求"><a href="#6-7-4-校验通过发送添加用户请求" class="headerlink" title="6.7.4 校验通过发送添加用户请求"></a>6.7.4 校验通过发送添加用户请求</h4><p>1.在表单引用的<code>validate</code>方法的<strong>参数箭头函数</strong>中发送添加用户请求 (根据接口文档中请求格式)</p>
<p>2.发送后获取响应，判断是否添加成功，成功则<strong>提示成功信息，隐藏dialog，刷新用户列表</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$refs.addUserRef.validate(<span class="keyword">async</span> valid =&gt; &#123;</span><br><span class="line">    <span class="comment">//验证不通过</span></span><br><span class="line">    <span class="keyword">if</span>(!valid) <span class="keyword">return</span></span><br><span class="line">    <span class="comment">//通过则发起添加用户请求 </span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.post(<span class="string">&#x27;users&#x27;</span>,<span class="built_in">this</span>.addUserInfo)</span><br><span class="line">    <span class="keyword">if</span>(res.meta.status !== <span class="number">201</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.error(<span class="string">&#x27;添加用户失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.success(<span class="string">&#x27;添加用户成功&#x27;</span>)</span><br><span class="line">        <span class="comment">//添加成功后隐藏dialog</span></span><br><span class="line">        <span class="built_in">this</span>.userAddVisible = <span class="literal">false</span></span><br><span class="line">        <span class="comment">//添加成功后刷新用户列表</span></span><br><span class="line">        <span class="built_in">this</span>.usersList()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<br>

<h3 id="6-8-修改用户弹窗"><a href="#6-8-修改用户弹窗" class="headerlink" title="6.8 修改用户弹窗"></a>6.8 修改用户弹窗</h3><p>1.加入修改用户的<code>dialog</code>弹窗，控制弹窗显示的变量为<code>userEditVisible</code></p>
<p>2.修改按钮绑定点击事件</p>
<p>3.点击事件中置<code>userEditVisible</code>为<code>true</code>，显示修改弹窗，进行修改相应的操作</p>
<h4 id="6-8-1-根据ID查询待修改用户的数据"><a href="#6-8-1-根据ID查询待修改用户的数据" class="headerlink" title="6.8.1 根据ID查询待修改用户的数据"></a>6.8.1 根据ID查询待修改用户的数据</h4><p>发起请求查询用户数据 <strong>(users/:id)</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改用户</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">userEdit</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//显示弹窗</span></span><br><span class="line">    <span class="built_in">this</span>.userEditVisible = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.get(<span class="string">&#x27;users/&#x27;</span> + id)</span><br><span class="line">    <span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.error(<span class="string">&#x27;查询用户信息失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//保存用户信息到editUserInfo中</span></span><br><span class="line">        <span class="built_in">this</span>.editUserInfo = res.data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-8-2-修改用户表单绘制"><a href="#6-8-2-修改用户表单绘制" class="headerlink" title="6.8.2 修改用户表单绘制"></a>6.8.2 修改用户表单绘制</h4><p>1.在修改用户的<code>dialog</code>弹窗中<strong>加入修改表单作为<code>dialog</code>主体</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;editForm&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;editFormRules&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;editFormRef&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;70px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;用户名&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;editForm.username&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;editForm.email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;手机&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;mobile&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;editForm.mobile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.组件数据中加入修改表单的验证规则<code>editFormRules</code></p>
<br>

<h4 id="6-8-3-修改弹窗关闭后重置"><a href="#6-8-3-修改弹窗关闭后重置" class="headerlink" title="6.8.3 修改弹窗关闭后重置"></a>6.8.3 修改弹窗关闭后重置</h4><p>1.弹窗添加close事件</p>
<p>2.close事件处理函数中调用表单引用的resetFields方法</p>
<h4 id="6-8-4-修改预验证通过后提交"><a href="#6-8-4-修改预验证通过后提交" class="headerlink" title="6.8.4 修改预验证通过后提交"></a>6.8.4 修改预验证通过后提交</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改提交预验证</span></span><br><span class="line"><span class="function"><span class="title">userEditInfo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs.editFormRef.validate( <span class="keyword">async</span> valid =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span>(!valid) <span class="keyword">return</span></span><br><span class="line">        <span class="comment">//验证通过发送修改请求</span></span><br><span class="line">        <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.put(<span class="string">&#x27;users/&#x27;</span> + <span class="built_in">this</span>.editForm.id, &#123;</span><br><span class="line">            email:<span class="built_in">this</span>.editForm.email,</span><br><span class="line">            mobile:<span class="built_in">this</span>.editForm.mobile</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">if</span>(res.meta.status != <span class="number">200</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.$message.error(<span class="string">&#x27;修改失败&#x27;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//关闭弹窗</span></span><br><span class="line">            <span class="built_in">this</span>.userEditVisible = <span class="literal">false</span></span><br><span class="line">            <span class="comment">//刷新用户数据</span></span><br><span class="line">            <span class="built_in">this</span>.usersList()</span><br><span class="line">            <span class="comment">//提示修改成功</span></span><br><span class="line">            <span class="built_in">this</span>.$message.success(<span class="string">&#x27;修改成功&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>通过<code>validate</code>方法进行预验证</li>
<li>通过验证后发送修改请求(PUT方式)</li>
<li>接收正确响应后，关闭修改弹窗，刷新用户数据，提示成功信息</li>
</ol>
<br>

<h3 id="6-9-用户删除操作"><a href="#6-9-用户删除操作" class="headerlink" title="6.9 用户删除操作"></a>6.9 用户删除操作</h3><h4 id="6-9-1-删除用户弹框"><a href="#6-9-1-删除用户弹框" class="headerlink" title="6.9.1 删除用户弹框"></a>6.9.1 删除用户弹框</h4><p>点击删除用户按钮后弹框提示再次确认</p>
<ol>
<li>从<code>ElementUI</code>按需导入<code>MessageBox</code>，注册为<code>Vue</code>原型对象的属性<code>Vue.prototype.$confirm = MessageBox</code></li>
<li>删除按钮绑定点击事件(用户id作为参数)</li>
<li>点击事件中使用<code>$confirm</code>进行弹框提示</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按id删除用户</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">removeUserByID</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//弹框再次确认</span></span><br><span class="line">    <span class="keyword">let</span> confirmRes =  <span class="keyword">await</span> <span class="built_in">this</span>.$confirm(<span class="string">&#x27;此操作将永久删除该用户, 是否继续?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">        confirmButtonText: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">        cancelButtonText: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">        type: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> err)	<span class="comment">//关闭弹框时的处理</span></span><br><span class="line">    <span class="comment">//判断用户点击确认还是关闭弹框</span></span><br><span class="line">    <span class="keyword">if</span>(confirmRes != <span class="string">&#x27;confirm&#x27;</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.info(<span class="string">&#x27;取消删除&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.success(<span class="string">&#x27;确认删除&#x27;</span>)</span><br><span class="line">        <span class="comment">//发送删除请求</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li><code>this.$confirm</code>返回Promise对象，使用<code>async</code>和<code>await</code>简化操作</li>
</ul>
<h4 id="6-9-2-发送删除请求"><a href="#6-9-2-发送删除请求" class="headerlink" title="6.9.2 发送删除请求"></a>6.9.2 发送删除请求</h4><p>再次确认删除后发送删除请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//发送删除请求</span></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.delete(<span class="string">&#x27;users/&#x27;</span> + id)</span><br><span class="line"><span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.$message.error(<span class="string">&#x27;删除失败&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$message.success(<span class="string">&#x27;删除成功&#x27;</span>)</span><br><span class="line">    <span class="comment">//刷新用户数据</span></span><br><span class="line">    <span class="built_in">this</span>.usersList()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>根据id删除用户后刷新用户数据</li>
</ul>
<br>

<h2 id="7-权限列表Rights组件"><a href="#7-权限列表Rights组件" class="headerlink" title="7. 权限列表Rights组件"></a>7. 权限列表Rights组件</h2><ol>
<li>创建<code>Rights.vue</code>文件</li>
<li><code>router/index.js</code>中设置路由规则</li>
</ol>
<h3 id="7-1-权限列表页面布局"><a href="#7-1-权限列表页面布局" class="headerlink" title="7.1 权限列表页面布局"></a>7.1 权限列表页面布局</h3><p>1.面包屑</p>
<p>2.卡片视图</p>
<h3 id="7-2-权限列表数据获取"><a href="#7-2-权限列表数据获取" class="headerlink" title="7.2 权限列表数据获取"></a>7.2 权限列表数据获取</h3><p>使用get请求在<strong>created钩子函数</strong>中获取权限列表</p>
<p>请求URL为 <code>/rights/list</code>，获取<strong>数组格式</strong>的权限数据</p>
<h3 id="7-3-权限列表表格布局"><a href="#7-3-权限列表表格布局" class="headerlink" title="7.3 权限列表表格布局"></a>7.3 权限列表表格布局</h3><p>权限等级列使用<strong>el-tag组件</strong>展示等级标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;权限等级&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;level&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 作用域插槽获取本行数据 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">v-if</span>=<span class="string">&quot;scope.row.level === &#x27;0&#x27;&quot;</span>&gt;</span>一级<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">v-else-if</span>=<span class="string">&quot;scope.row.level === &#x27;1&#x27;&quot;</span>&gt;</span>二级<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">v-else</span>&gt;</span>三级<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>v-if</code>选择指令<strong>判断应该显示的等级标签</strong></li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209210301468.png" alt="image-20211209210301468"></p>
<br>

<h3 id="7-4-权限管理业务分析"><a href="#7-4-权限管理业务分析" class="headerlink" title="7.4 权限管理业务分析"></a>7.4 权限管理业务分析</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209210647131.png" alt="image-20211209210647131"></p>
<center>用户-角色-权限关系图</center>

<ul>
<li>给用户设置角色，每个角色对应不同的权限</li>
<li><strong>用户根据自身角色拥有对应权限</strong></li>
</ul>
<br>

<h2 id="8-角色列表Roles组件"><a href="#8-角色列表Roles组件" class="headerlink" title="8. 角色列表Roles组件"></a>8. 角色列表Roles组件</h2><ol>
<li>创建<code>Roles.vue</code>文件</li>
<li><code>router/index.js</code>中设置路由规则</li>
</ol>
<h3 id="8-1-角色列表页面布局"><a href="#8-1-角色列表页面布局" class="headerlink" title="8.1 角色列表页面布局"></a>8.1 角色列表页面布局</h3><p>1.面包屑</p>
<p>2.卡片视图</p>
<h3 id="8-2-角色列表数据获取"><a href="#8-2-角色列表数据获取" class="headerlink" title="8.2 角色列表数据获取"></a>8.2 角色列表数据获取</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getRolesList</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//get请求获取角色列表数据</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.get(<span class="string">&#x27;roles&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span>(res.meta.status != <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.error(<span class="string">&#x27;角色列表获取失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.rolesList = res.data</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.rolesList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-3-角色列表表格布局"><a href="#8-3-角色列表表格布局" class="headerlink" title="8.3 角色列表表格布局"></a>8.3 角色列表表格布局</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 角色列表表格 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;rolesList&quot;</span> <span class="attr">stripe</span> <span class="attr">border</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 展开列 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;expand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 索引列 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;index&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;roleName&quot;</span> <span class="attr">label</span>=<span class="string">&quot;角色名称&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;roleDesc&quot;</span> <span class="attr">label</span>=<span class="string">&quot;角色描述&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 操作列 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-edit&quot;</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-setting&quot;</span>&gt;</span>分配权限<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211209214936861.png" alt="image-20211209214936861"></p>
<br>

<h3 id="8-4-展开列各级权限视图渲染"><a href="#8-4-展开列各级权限视图渲染" class="headerlink" title="8.4 展开列各级权限视图渲染"></a>8.4 展开列各级权限视图渲染</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 展开列 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;expand&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;bdbottom&#x27; , i1 === 0 ? &#x27;bdtop&#x27; : &#x27;&#x27;,&#x27;vcenter&#x27;]&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item1,i1) in scope.row.children&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item1.id&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 渲染一级权限 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;5&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-tag</span>&gt;</span>&#123;&#123;item1.authName&#125;&#125;<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-caret-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 二三级权限 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;19&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:class</span>=<span class="string">&quot;[i2 === 0 ? &#x27;&#x27; : &#x27;bdtop&#x27;, &#x27;vcenter&#x27; ]&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item2,i2) in item1.children&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item2.id&quot;</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 二级权限 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>&#123;&#123;item2.authName&#125;&#125;<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-caret-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 三级权限 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;18&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item3,i3) in item2.children&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item3.id&quot;</span>&gt;</span>&#123;&#123;item3.authName&#125;&#125;<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211215170826499.png" alt="image-20211215170826499"></p>
<ul>
<li><p>循环每一级数据的<strong>children数组</strong>渲染各级权限</p>
</li>
<li><p>设置最小宽度，使窗口过小时显示宽度不变</p>
<ul>
<li>```css<br>#app{<pre><code>/* 页面宽度小于1400px时，固定为1400px显示 */
min-width: 1400px;
</code></pre>
}<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 设置tag组件垂直居中（使用flex布局）</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;css</span><br><span class="line">    &#x2F;&#x2F; 垂直居中</span><br><span class="line">    .vcenter&#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        align-items: center;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<br>

<h3 id="8-5-展开列下删除角色指定权限"><a href="#8-5-展开列下删除角色指定权限" class="headerlink" title="8.5 展开列下删除角色指定权限"></a>8.5 展开列下删除角色指定权限</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20211215172820759.png" alt="image-20211215172820759"></p>
<ul>
<li>给<strong>各级tag标签</strong>添加删除按钮</li>
<li>绑定close事件</li>
<li>事件<code>deleteRightsById</code>中进行删除操作( MessageBox 弹框)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除角色权限</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">deleteRightsById</span>(<span class="params">role, rightId</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> confirmResult = <span class="keyword">await</span> <span class="built_in">this</span>.$confirm(</span><br><span class="line">        <span class="string">&#x27;此操作将永久删除该权限, 是否继续?&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;提示&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            confirmButtonText: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">            cancelButtonText: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;warning&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> err)</span><br><span class="line">    <span class="keyword">if</span> (confirmResult != <span class="string">&#x27;confirm&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$message.info(<span class="string">&#x27;取消删除&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//确认删除，发起delete请求</span></span><br><span class="line">        <span class="keyword">let</span> &#123; <span class="attr">data</span>: res &#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.delete(</span><br><span class="line">            <span class="string">`roles/<span class="subst">$&#123;role.id&#125;</span>/rights/<span class="subst">$&#123;rightId&#125;</span>`</span></span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> (res.meta.status !== <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.$message.error(<span class="string">&#x27;删除权限失败&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//修改当前角色的权限信息，避免全部刷新，仅刷新当前角色权限</span></span><br><span class="line">            role.children = res.data</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>delete请求返回结果后，修改<strong>当前角色的权限信息</strong>，避免全部刷新</li>
</ul>
<br>

<h3 id="8-6-分配权限"><a href="#8-6-分配权限" class="headerlink" title="8.6 分配权限"></a>8.6 分配权限</h3><p>1.点击分配权限按钮，从后台获取权限信息，显示在弹出的dialog对话框中    </p>
<ul>
<li>使用<strong>树形控件</strong>(Element-UI组件)将权限树形展示</li>
</ul>
<br>

<p>2.对树形控件进行优化</p>
<ul>
<li>每个权限显示复选框</li>
<li>对话框展示自动展开所有权限</li>
<li>树形中<strong>每个权限节点设置对应的唯一标识</strong>(使用权限id做为标识)</li>
</ul>
<br>

<p>3.已有三级权限的默认勾选</p>
<p><strong>使用递归获取角色拥有的三级权限id</strong>，使用树形控件的<code>default-checked-keys</code>属性默认勾选角色已有权限。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过递归获取角色已有三级权限的id，存入defKeys数组，使对话框默认选中已有权限</span></span><br><span class="line"><span class="function"><span class="title">getLeafKeys</span>(<span class="params">node,arr</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 没有children说明是最后一级权限</span></span><br><span class="line">    <span class="keyword">if</span>(!node.children) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr.push(node.id)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        node.children.forEach(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">this</span>.getLeafKeys(item,arr))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<center>递归获取角色的三级权限id</center>

<br>

<p>4.树形权限结构中修改权限后发起请求同步修改</p>
<ul>
<li>分配权限Dialog框确定按钮绑定<code>allowRights</code>事件</li>
<li><code>allowRights</code>事件中<strong>获取选中权限的id</strong>，发起请求(<code>角色授权</code>)修改数据库</li>
<li>重新获取<code>rightsList</code>，隐藏Dialog框</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">allowRights</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//获取选中和半选中节点的key值数组</span></span><br><span class="line">    <span class="keyword">let</span> keys = [...this.$refs.treeRef.getCheckedKeys(),</span><br><span class="line">                ...this.$refs.treeRef.getHalfCheckedKeys()</span><br><span class="line">               ]</span><br><span class="line">    <span class="keyword">const</span> idStr = keys.join(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    <span class="comment">//选中的权限id发送到后台</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:res&#125; = <span class="keyword">await</span> <span class="built_in">this</span>.$http.post(<span class="string">`roles/<span class="subst">$&#123;<span class="built_in">this</span>.roleId&#125;</span>/rights`</span>,&#123;<span class="attr">rids</span>:idStr&#125;)</span><br><span class="line">    <span class="keyword">if</span>(res.meta.status !== <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.error(<span class="string">&#x27;分配权限失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message.success(<span class="string">&#x27;分配权限成功&#x27;</span>)</span><br><span class="line">        <span class="comment">//重新获取权限数据</span></span><br><span class="line">        <span class="built_in">this</span>.getRolesList()</span><br><span class="line">        <span class="built_in">this</span>.setRightDialogVisible = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="8-7-用户列表Users组件给用户分配角色"><a href="#8-7-用户列表Users组件给用户分配角色" class="headerlink" title="* 8.7 用户列表Users组件给用户分配角色"></a>* 8.7 用户列表Users组件给用户分配角色</h3><p>1.分配角色弹框</p>
<p>2.弹框中下拉列表(<code>el-select</code>)选择用户的新角色</p>
<ul>
<li>弹框关闭清除选中的新角色id (<code>selectedRoleId</code>)，下次打开下拉列表显示<code>&#39;请选择&#39;</code></li>
</ul>
<p>3.使用新角色id发送请求同步数据</p>
<p>4.重新获取用户数据列表</p>
<br>

<h3 id="8-8-权限管理开发完毕Git提交"><a href="#8-8-权限管理开发完毕Git提交" class="headerlink" title="8.8 权限管理开发完毕Git提交"></a>8.8 权限管理开发完毕Git提交</h3><ul>
<li>rights分支本地提交(commit)，远端提交(push)</li>
<li>master分支合并rights分支(merge)，远端提交master分支(push)</li>
</ul>
<br>

<h2 id="9-商品管理"><a href="#9-商品管理" class="headerlink" title="9. 商品管理"></a>9. 商品管理</h2><p>在<code>goods_cate</code>分支下开发商品管理模块    </p>
<h3 id="9-1-商品分类Cate组件"><a href="#9-1-商品分类Cate组件" class="headerlink" title="9.1 商品分类Cate组件"></a>9.1 商品分类Cate组件</h3><ul>
<li>创建<code>/components/goods/Cate.vue</code></li>
<li>定义路由</li>
</ul>
<h4 id="9-1-1-Cate组件布局"><a href="#9-1-1-Cate组件布局" class="headerlink" title="9.1.1 Cate组件布局"></a>9.1.1 Cate组件布局</h4><ul>
<li>面包屑导航</li>
<li>卡片视图<ul>
<li>添加分类按钮</li>
<li>分类表格(使用<code>vue-table-with-tree-grid</code>插件,<a target="_blank" rel="noopener" href="https://github.com/MisterTaki/vue-table-with-tree-grid">插件的GitHub</a>)</li>
<li>分页部分</li>
</ul>
</li>
</ul>
<h4 id="9-1-2-分类表格自定义模板列"><a href="#9-1-2-分类表格自定义模板列" class="headerlink" title="9.1.2 分类表格自定义模板列"></a>9.1.2 分类表格自定义模板列</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">columns: [</span><br><span class="line">                &#123;</span><br><span class="line">                    label: <span class="string">&#x27;分类名称&#x27;</span>,</span><br><span class="line">                    prop: <span class="string">&#x27;cat_name&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    label: <span class="string">&#x27;是否有效&#x27;</span>,</span><br><span class="line">                    <span class="comment">//定义为模板列</span></span><br><span class="line">                    type: <span class="string">&#x27;template&#x27;</span>,</span><br><span class="line">                    <span class="comment">//对应的模板名字为isok</span></span><br><span class="line">                    template: <span class="string">&#x27;isok&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            ],</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 是否有效 模板列 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;isok&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">    &lt;i</span><br><span class="line">        class=&quot;el-icon-success&quot;</span><br><span class="line">        v-if=&quot;scope.row.cat_deleted === false&quot;</span><br><span class="line">        style=&quot;color: lightgreen;&quot;</span><br><span class="line">    &gt;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-error&quot;</span> <span class="attr">v-else</span> <span class="attr">style</span>=<span class="string">&quot;color: red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="9-1-3-分页部分"><a href="#9-1-3-分页部分" class="headerlink" title="9.1.3 分页部分"></a>9.1.3 分页部分</h4><p>通过<code>el-pagination</code>组件实现</p>
<br>

<h4 id="9-1-4-Cate组件新增分类功能"><a href="#9-1-4-Cate组件新增分类功能" class="headerlink" title="9.1.4 Cate组件新增分类功能"></a>9.1.4 Cate组件新增分类功能</h4><ul>
<li>点击按钮弹出dialog框<ul>
<li>输入新分类名，选择其父级分类</li>
<li>校验后发起请求同步数据</li>
</ul>
</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220309211759635.png" alt="image-20220309211759635"></p>
<center>添加分类dialog</center>

<p>选择父级分类使用<code>el-cascader</code>组件(级联选择器)实现</p>
<br>

<h3 id="9-2-分类参数Params组件"><a href="#9-2-分类参数Params组件" class="headerlink" title="9.2 分类参数Params组件"></a>9.2 分类参数Params组件</h3><p>商品的分类参数分为<strong>动态参数</strong>和<strong>静态参数</strong></p>
<ul>
<li>动态参数：可以动态选择的参数，比如商品的不同型号</li>
<li>静态参数：只能够看到的商品固定信息</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317095218060.png" alt="image-20220317095218060"></p>
<br>

<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317095535717.png" alt="image-20220317095535717"></p>
<ul>
<li>选择商品分类，只允许选择三级分类</li>
<li>选择参数按钮，弹出dialog框添加参数，未选择分类时禁用</li>
<li>使用表格显示详细参数，展开行使用<code>el-tag</code>显示参数值</li>
<li>展开行添加按钮进行简单的参数值添加</li>
</ul>
<br>

<h3 id="9-3-商品列表List组件"><a href="#9-3-商品列表List组件" class="headerlink" title="9.3 商品列表List组件"></a>9.3 商品列表List组件</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317212124662.png" alt="image-20220317212124662"></p>
<ul>
<li>添加商品区域<ul>
<li>带按钮的输入框(搜索指定商品)</li>
<li>添加按钮(跳转到<code>Add组件</code>进行商品添加)</li>
</ul>
</li>
<li>商品列表数据表格<ul>
<li>通过<strong>Vue全局过滤器</strong><code>dateFormat</code>处理<strong>毫秒数</strong>的创建时间</li>
</ul>
</li>
<li>分页功能 (<code>el-pagination</code>组件)</li>
</ul>
<br>

<h3 id="9-4-添加商品Add组件"><a href="#9-4-添加商品Add组件" class="headerlink" title="9.4 添加商品Add组件"></a>9.4 添加商品Add组件</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220317212552592.png" alt="image-20220317212552592"></p>
<ul>
<li><code>alert</code>警告框</li>
<li>step步骤条</li>
<li>左侧tab页签</li>
</ul>
<h4 id="9-4-1-Form表单数据"><a href="#9-4-1-Form表单数据" class="headerlink" title="9.4.1 Form表单数据"></a>9.4.1 Form表单数据</h4><p>Form表单包裹<code>el-tabs</code>组件，每个tab页签中均有表单数据。</p>
<p>el-tab组件<strong>必须</strong>被el-tabs组件直接包裹，所以Form表单只能包裹el-tabs组件</p>
<h4 id="9-4-2-基本信息tab页签"><a href="#9-4-2-基本信息tab页签" class="headerlink" title="9.4.2 基本信息tab页签"></a>9.4.2 基本信息tab页签</h4><ul>
<li>待验证的input输入框</li>
<li>级联选择器(选择商品所属分类) <code>el-cascader</code>组件</li>
<li><strong>未选择分类时禁止跳转向其他页签</strong></li>
</ul>
<h4 id="9-4-3-商品参数tab页签"><a href="#9-4-3-商品参数tab页签" class="headerlink" title="9.4.3 商品参数tab页签"></a>9.4.3 商品参数tab页签</h4><ul>
<li><p>请求分类的动态参数</p>
</li>
<li><p>通过<strong>复选框组</strong>(<code>el-checkbox-group</code>)展示分类的所有<strong>动态参数</strong></p>
</li>
</ul>
<h4 id="9-4-4-商品属性tab页签"><a href="#9-4-4-商品属性tab页签" class="headerlink" title="9.4.4 商品属性tab页签"></a>9.4.4 商品属性tab页签</h4><ul>
<li>请求分类的静态属性</li>
<li>通过<strong>input输入框</strong>展示所有的静态属性</li>
</ul>
<h4 id="9-4-5-商品图片tab页签"><a href="#9-4-5-商品图片tab页签" class="headerlink" title="9.4.5 商品图片tab页签"></a>9.4.5 商品图片tab页签</h4><ul>
<li>使用<code>el-upload</code>组件实现图片上传(请求头添加token)<ul>
<li>图片预览</li>
<li>已上传图片的移除</li>
</ul>
</li>
<li>图片上传后将图片临时地址保存在pics数组中</li>
<li>图片预览事件<ul>
<li>获取图片URL，显示dialog进行预览，dialog中的img标签显示图片</li>
</ul>
</li>
<li>图片移除事件<ul>
<li>获取图片临时地址</li>
<li>在addForm中的pics中查找图片索引</li>
<li>根据索引删除pics数组中该图片对象</li>
</ul>
</li>
</ul>
<h4 id="9-4-6-商品内容tab页签"><a href="#9-4-6-商品内容tab页签" class="headerlink" title="9.4.6 商品内容tab页签"></a>9.4.6 商品内容tab页签</h4><p>使用<code>vue-quill-editor</code>插件，构建富文本编辑器</p>
<ul>
<li><strong>添加商品</strong>按钮<ul>
<li>使用<code>lodash</code>插件深拷贝<code>addForm</code></li>
<li>处理<code>attrs</code>字段和<code>goods_cat</code>字段</li>
<li>路径<code>&#39;goods&#39;</code>，<strong>发起<code>post</code>请求</strong>添加商品</li>
<li>商品添加完后，编程式路由导航跳转到商品列表页面</li>
</ul>
</li>
</ul>
<h4 id="9-4-7-商品管理模块开发完成"><a href="#9-4-7-商品管理模块开发完成" class="headerlink" title="9.4.7 商品管理模块开发完成"></a>9.4.7 商品管理模块开发完成</h4><p>Git提交</p>
<br>

<h2 id="10-订单管理"><a href="#10-订单管理" class="headerlink" title="10.订单管理"></a>10.订单管理</h2><h3 id="10-1-页面布局"><a href="#10-1-页面布局" class="headerlink" title="10.1 页面布局"></a>10.1 页面布局</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322161321485.png" alt="image-20220322161321485"></p>
<h3 id="10-2-修改地址操作"><a href="#10-2-修改地址操作" class="headerlink" title="10.2 修改地址操作"></a>10.2 修改地址操作</h3><p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322161331623.png" alt="image-20220322161331623"></p>
<h3 id="10-3-查看订单物流信息"><a href="#10-3-查看订单物流信息" class="headerlink" title="10.3 查看订单物流信息"></a>10.3 查看订单物流信息</h3><p>使用<code>TimeLine</code> (Element-UI组件)</p>
<p>因为接口失效，所以没有完成</p>
<br>

<h2 id="11-数据统计"><a href="#11-数据统计" class="headerlink" title="11.数据统计"></a>11.数据统计</h2><p>使用<code>echarts</code>插件在页面显示统计图表</p>
<p><a target="_blank" rel="noopener" href="https://echarts.apache.org/handbook/zh/get-started/">echarts官方文档</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 1. 为 ECharts 准备一个定义了宽高的 DOM --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 750px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;main&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.指定图表的配置项和数据</span></span><br><span class="line"><span class="keyword">let</span> result = _.merge(<span class="built_in">this</span>.options, res.data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">myChart.setOption(result)</span><br></pre></td></tr></table></figure>

<ul>
<li>初始化<code>echarts</code>实例要在<code>mounted</code>钩子中进行<ul>
<li>mounted钩子调用时，页面DOM元素<strong>已经加载完毕</strong></li>
</ul>
</li>
</ul>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220322165919184.png" alt="image-20220322165919184"></p>
<br>

<h2 id="12-项目优化和上线"><a href="#12-项目优化和上线" class="headerlink" title="12. 项目优化和上线"></a>12. 项目优化和上线</h2><br>

<h2 id="遇见的问题"><a href="#遇见的问题" class="headerlink" title="##. 遇见的问题"></a>##. 遇见的问题</h2><h3 id="1-el-cascader组件在选项过多时列表过长显示不完全"><a href="#1-el-cascader组件在选项过多时列表过长显示不完全" class="headerlink" title="1.el-cascader组件在选项过多时列表过长显示不完全"></a>1.<code>el-cascader</code>组件在选项过多时列表过长显示不完全</h3><p>级联选择器</p>
<p>在<code>global.css</code><strong>全局css文件</strong>中设置<code>el-cascader-panel</code>类的<code>height</code>属性限制列表高度</p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220309212154455.png" alt="image-20220309212154455"></p>
<p>在<code>Cate.vue</code>文件中的style标签中设置<code>el-cascader-panel</code>类的样式<strong>无效</strong></p>
<p>scoped属性使得该style标签下的样式<strong>仅作用于本单文件组件中的类</strong></p>
<p>而<code>el-cascader-panel</code>是在项目运行后才生成的类，所以不起效</p>
<br>

<h3 id="2-input输入域在渲染后自动获取焦点"><a href="#2-input输入域在渲染后自动获取焦点" class="headerlink" title="2. input输入域在渲染后自动获取焦点"></a>2. input输入域在渲染后自动获取焦点</h3><p>点击<code>+New Tag</code>按钮后，通过v-if渲染出input输入域并<strong>自动获取其焦点</strong></p>
<p><img data-src="/images/09-Vue%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/image-20220311154524351.png" alt="image-20220311154524351"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//显示新参数值输入框</span></span><br><span class="line"><span class="function"><span class="title">showInput</span>(<span class="params">row</span>)</span> &#123;</span><br><span class="line">    row.inputVisible = <span class="literal">true</span></span><br><span class="line">    <span class="comment">//文本框自动获取焦点</span></span><br><span class="line">    <span class="built_in">this</span>.$nextTick( <span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//获取焦点</span></span><br><span class="line">        <span class="built_in">this</span>.$refs.saveTagInput.$refs.input.focus();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>this.$nextTick()</code>方法：</p>
<ul>
<li>在页面重新渲染后(此处为input输入域渲染完后) 触发其回调函数获取input焦点</li>
<li>若不使用此方法，<span style="color:red;">则会在还没有渲染出input域时就获取焦点</span>，结果报错</li>
</ul>
<br>

<h3 id="3-图片上传问题"><a href="#3-图片上传问题" class="headerlink" title="3. 图片上传问题"></a>3. 图片上传问题</h3><p>在<strong>添加商品</strong>时</p>
<p>使用<code>el-upload</code>组件进行图片的上传</p>
<p>通过组件的action属性设置请求URL后<span style="color:red;">由组件自动发起请求</span></p>
<ul>
<li>未使用<code>axios</code>，<code>action</code>属性值应为<strong>完整的</strong>后台接口URL。</li>
<li>未使用<code>axios</code>，请求头的token信息需要<strong>手动添加</strong>。(<code>main.js</code>文件中请求拦截添加的不生效)</li>
</ul>
<p><code>el-upload</code>组件的<code>header</code>属性可以指定请求头对象</p>
<br>

<h3 id="4-添加商品时对goods-cat字段的处理"><a href="#4-添加商品时对goods-cat字段的处理" class="headerlink" title="4. 添加商品时对goods_cat字段的处理"></a>4. 添加商品时对goods_cat字段的处理</h3><p><code>addForm.goods_cat</code>与<code>el-cascader</code>级联选择器<strong>双向数据绑定</strong></p>
<p>若直接在<code>addForm</code>上处理<code>goods_cat</code>为字符串，会导致<strong>级联选择器双向数据绑定字符串而报错</strong></p>
<ul>
<li><code>el-cascader</code>级联选择器 双向数据绑定<strong>必须为数组</strong></li>
</ul>
<p>解决：使用<code>lodash</code>插件将<code>addForm</code>进行<strong>深拷贝</strong>后再处理数据</p>
<p>深拷贝也可以通过<strong>递归深入对象内部进行拷贝完成</strong></p>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/vue/" rel="tag"><i class="fa fa-tag"></i> vue</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/19/03-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97Gulp/" rel="prev" title="03-第三方模块Gulp">
      <i class="fa fa-chevron-left"></i> 03-第三方模块Gulp
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/04/26/08-Element-UI/" rel="next" title="08-Element-UI">
      08-Element-UI <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98"><span class="nav-text">Vue电商项目实战</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0"><span class="nav-text">1. 项目概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-text">1.1 管理系统的功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F-%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB"><span class="nav-text">1.2 开发模式 (前后端分离)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="nav-text">1.3 项目技术选型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-1-%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-text">1.3.1 前端项目技术栈</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-2-%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-text">1.3.2 后端项目技术栈</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">2. 项目初始化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%AE%89%E8%A3%85ElementUI%E6%8F%92%E4%BB%B6"><span class="nav-text">2.1 安装ElementUI插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E5%AE%89%E8%A3%85axios%E4%BE%9D%E8%B5%96"><span class="nav-text">2.2 安装axios依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E5%88%9D%E5%A7%8B%E5%8C%96Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-text">2.3 初始化Git远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%90%8E%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="nav-text">2.4 后台项目环境安装配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-%E5%AE%89%E8%A3%85postman%E8%BF%9B%E8%A1%8C%E5%90%8E%E5%8F%B0%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95"><span class="nav-text">2.4.1 安装postman进行后台接口测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="nav-text">3. 登录功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-text">3.1 登录页面布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E5%88%9B%E5%BB%BA%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6"><span class="nav-text">3.2 创建登录组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-%E7%99%BB%E5%BD%95%E6%A1%86%E8%A1%A8%E5%8D%95%E5%B8%83%E5%B1%80"><span class="nav-text">3.5 登录框表单布局</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-1-%E8%A1%A8%E5%8D%95%E4%B8%AD%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86%E5%89%8D%E5%B0%8F%E5%9B%BE%E6%A0%87"><span class="nav-text">3.5.1 表单中文本输入框前小图标</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-%E7%99%BB%E5%BD%95%E6%A1%86%E8%A1%A8%E5%8D%95%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-text">3.6 登录框表单双向数据绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5%E6%A1%86%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="nav-text">3.7 表单输入框数据校验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-%E8%A1%A8%E5%8D%95%E9%87%8D%E7%BD%AE%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="nav-text">3.8 表单重置功能实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9-%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E9%AA%8C%E8%AF%81"><span class="nav-text">3.9 表单提交数据格式验证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-10-%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E6%97%B6%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="nav-text">3.10 表单提交时发送请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-11-%E7%99%BB%E5%BD%95%E7%BB%93%E6%9E%9C%E5%BC%B9%E7%AA%97%E6%8F%90%E7%A4%BA"><span class="nav-text">3.11 登录结果弹窗提示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-12-%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F%E5%90%8E%E7%9A%84%E5%A4%84%E7%90%86"><span class="nav-text">3.12 登录成功后的处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-13-%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="nav-text">3.13 路由导航守卫</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-14-%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95"><span class="nav-text">3.14 退出登录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-15-%E6%8F%90%E4%BA%A4%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81%E5%88%B0%E7%A0%81%E4%BA%91"><span class="nav-text">3.15 提交登录功能代码到码云</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%A4%84%E7%90%86%E8%AF%AD%E6%B3%95%E8%AD%A6%E5%91%8A%E9%97%AE%E9%A2%98"><span class="nav-text">4. 处理语法警告问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E4%B8%BB%E9%A1%B5Home%E7%BB%84%E4%BB%B6%E5%B8%83%E5%B1%80"><span class="nav-text">5. 主页Home组件布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Header%E5%B8%83%E5%B1%80"><span class="nav-text">5.1 Header布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E4%BE%A7%E8%BE%B9%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95%E6%A0%8F%E5%B8%83%E5%B1%80"><span class="nav-text">5.2 侧边导航菜单栏布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E9%80%9A%E8%BF%87%E6%8E%A5%E5%8F%A3%E8%8E%B7%E5%8F%96%E8%8F%9C%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="nav-text">5.3 通过接口获取菜单数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-1-%E8%8E%B7%E5%8F%96%E8%8F%9C%E5%8D%95%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%B8%B2%E6%9F%93%E5%9C%A8%E6%A8%A1%E6%9D%BF%E4%B8%AD"><span class="nav-text">5.3.1 获取菜单数据并渲染在模板中</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E6%A0%BC%E5%BC%8F%E7%BE%8E%E5%8C%96"><span class="nav-text">5.4 左侧菜单格式美化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E4%BC%98%E5%8C%96"><span class="nav-text">5.5 左侧菜单优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E6%8A%98%E5%8F%A0%E5%8A%9F%E8%83%BD"><span class="nav-text">5.6 左侧菜单折叠功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-%E4%B8%BB%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E6%98%BE%E7%A4%BAwelcome%E4%BF%A1%E6%81%AF"><span class="nav-text">5.7 主页重定向显示welcome信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-8-%E4%BE%A7%E8%BE%B9%E8%8F%9C%E5%8D%95%E6%A0%8F%E8%B7%AF%E7%94%B1%E6%94%B9%E9%80%A0"><span class="nav-text">5.8 侧边菜单栏路由改造</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-9-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E4%BA%8C%E7%BA%A7%E8%8F%9C%E5%8D%95%E8%B7%AF%E7%94%B1"><span class="nav-text">5.9 用户列表二级菜单路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-10-%E8%8F%9C%E5%8D%95%E6%A0%8F%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E4%BF%9D%E6%8C%81"><span class="nav-text">5.10 菜单栏选中状态保持</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8Users%E7%BB%84%E4%BB%B6"><span class="nav-text">6. 用户列表Users组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E5%9F%BA%E6%9C%ACUI%E7%BB%93%E6%9E%84%E7%BB%98%E5%88%B6"><span class="nav-text">6.1 用户列表基本UI结构绘制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="nav-text">6.2 用户列表数据获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%A0%BC%E7%BB%98%E5%88%B6"><span class="nav-text">6.3 用户列表数据表格绘制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-1-%E9%80%9A%E8%BF%87%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD%E6%B8%B2%E6%9F%93%E7%8A%B6%E6%80%81%E5%88%97%E5%BC%80%E5%85%B3"><span class="nav-text">6.3.1 通过作用域插槽渲染状态列开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-2-%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD%E6%B8%B2%E6%9F%93%E6%93%8D%E4%BD%9C%E5%88%97%E6%8C%89%E9%92%AE"><span class="nav-text">6.3.2 作用域插槽渲染操作列按钮</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5%E6%95%88%E6%9E%9C"><span class="nav-text">6.4 数据分页效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5-%E7%8A%B6%E6%80%81%E5%88%97%E4%BF%AE%E6%94%B9%E4%BF%9D%E5%AD%98%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">6.5 状态列修改保存到数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6-%E6%90%9C%E7%B4%A2%E6%8C%89%E9%92%AE%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="nav-text">6.6 搜索按钮功能实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-7-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E8%A1%A8%E5%8D%95"><span class="nav-text">6.7 添加用户表单</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-7-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99%E4%BD%BF%E7%94%A8"><span class="nav-text">6.7.1 自定义验证规则使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-7-2-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E8%A1%A8%E5%8D%95%E5%85%B3%E9%97%AD%E5%90%8E%E9%87%8D%E7%BD%AE"><span class="nav-text">6.7.2 添加用户表单关闭后重置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-7-3-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%89%8D%E9%A2%84%E6%A0%A1%E9%AA%8C"><span class="nav-text">6.7.3 添加用户前预校验</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-7-4-%E6%A0%A1%E9%AA%8C%E9%80%9A%E8%BF%87%E5%8F%91%E9%80%81%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E8%AF%B7%E6%B1%82"><span class="nav-text">6.7.4 校验通过发送添加用户请求</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-8-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%BC%B9%E7%AA%97"><span class="nav-text">6.8 修改用户弹窗</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-8-1-%E6%A0%B9%E6%8D%AEID%E6%9F%A5%E8%AF%A2%E5%BE%85%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-text">6.8.1 根据ID查询待修改用户的数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-8-2-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E8%A1%A8%E5%8D%95%E7%BB%98%E5%88%B6"><span class="nav-text">6.8.2 修改用户表单绘制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-8-3-%E4%BF%AE%E6%94%B9%E5%BC%B9%E7%AA%97%E5%85%B3%E9%97%AD%E5%90%8E%E9%87%8D%E7%BD%AE"><span class="nav-text">6.8.3 修改弹窗关闭后重置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-8-4-%E4%BF%AE%E6%94%B9%E9%A2%84%E9%AA%8C%E8%AF%81%E9%80%9A%E8%BF%87%E5%90%8E%E6%8F%90%E4%BA%A4"><span class="nav-text">6.8.4 修改预验证通过后提交</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-9-%E7%94%A8%E6%88%B7%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="nav-text">6.9 用户删除操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-9-1-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E5%BC%B9%E6%A1%86"><span class="nav-text">6.9.1 删除用户弹框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-9-2-%E5%8F%91%E9%80%81%E5%88%A0%E9%99%A4%E8%AF%B7%E6%B1%82"><span class="nav-text">6.9.2 发送删除请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%9D%83%E9%99%90%E5%88%97%E8%A1%A8Rights%E7%BB%84%E4%BB%B6"><span class="nav-text">7. 权限列表Rights组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-%E6%9D%83%E9%99%90%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-text">7.1 权限列表页面布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-%E6%9D%83%E9%99%90%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="nav-text">7.2 权限列表数据获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-%E6%9D%83%E9%99%90%E5%88%97%E8%A1%A8%E8%A1%A8%E6%A0%BC%E5%B8%83%E5%B1%80"><span class="nav-text">7.3 权限列表表格布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E4%B8%9A%E5%8A%A1%E5%88%86%E6%9E%90"><span class="nav-text">7.4 权限管理业务分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E8%A7%92%E8%89%B2%E5%88%97%E8%A1%A8Roles%E7%BB%84%E4%BB%B6"><span class="nav-text">8. 角色列表Roles组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-%E8%A7%92%E8%89%B2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-text">8.1 角色列表页面布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-%E8%A7%92%E8%89%B2%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="nav-text">8.2 角色列表数据获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-%E8%A7%92%E8%89%B2%E5%88%97%E8%A1%A8%E8%A1%A8%E6%A0%BC%E5%B8%83%E5%B1%80"><span class="nav-text">8.3 角色列表表格布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-%E5%B1%95%E5%BC%80%E5%88%97%E5%90%84%E7%BA%A7%E6%9D%83%E9%99%90%E8%A7%86%E5%9B%BE%E6%B8%B2%E6%9F%93"><span class="nav-text">8.4 展开列各级权限视图渲染</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-5-%E5%B1%95%E5%BC%80%E5%88%97%E4%B8%8B%E5%88%A0%E9%99%A4%E8%A7%92%E8%89%B2%E6%8C%87%E5%AE%9A%E6%9D%83%E9%99%90"><span class="nav-text">8.5 展开列下删除角色指定权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-6-%E5%88%86%E9%85%8D%E6%9D%83%E9%99%90"><span class="nav-text">8.6 分配权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-7-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8Users%E7%BB%84%E4%BB%B6%E7%BB%99%E7%94%A8%E6%88%B7%E5%88%86%E9%85%8D%E8%A7%92%E8%89%B2"><span class="nav-text">* 8.7 用户列表Users组件给用户分配角色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-8-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%BC%80%E5%8F%91%E5%AE%8C%E6%AF%95Git%E6%8F%90%E4%BA%A4"><span class="nav-text">8.8 权限管理开发完毕Git提交</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E5%95%86%E5%93%81%E7%AE%A1%E7%90%86"><span class="nav-text">9. 商品管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E5%95%86%E5%93%81%E5%88%86%E7%B1%BBCate%E7%BB%84%E4%BB%B6"><span class="nav-text">9.1 商品分类Cate组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-1-Cate%E7%BB%84%E4%BB%B6%E5%B8%83%E5%B1%80"><span class="nav-text">9.1.1 Cate组件布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-2-%E5%88%86%E7%B1%BB%E8%A1%A8%E6%A0%BC%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E6%9D%BF%E5%88%97"><span class="nav-text">9.1.2 分类表格自定义模板列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-3-%E5%88%86%E9%A1%B5%E9%83%A8%E5%88%86"><span class="nav-text">9.1.3 分页部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-4-Cate%E7%BB%84%E4%BB%B6%E6%96%B0%E5%A2%9E%E5%88%86%E7%B1%BB%E5%8A%9F%E8%83%BD"><span class="nav-text">9.1.4 Cate组件新增分类功能</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E5%88%86%E7%B1%BB%E5%8F%82%E6%95%B0Params%E7%BB%84%E4%BB%B6"><span class="nav-text">9.2 分类参数Params组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8List%E7%BB%84%E4%BB%B6"><span class="nav-text">9.3 商品列表List组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-%E6%B7%BB%E5%8A%A0%E5%95%86%E5%93%81Add%E7%BB%84%E4%BB%B6"><span class="nav-text">9.4 添加商品Add组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-1-Form%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="nav-text">9.4.1 Form表单数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-2-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AFtab%E9%A1%B5%E7%AD%BE"><span class="nav-text">9.4.2 基本信息tab页签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-3-%E5%95%86%E5%93%81%E5%8F%82%E6%95%B0tab%E9%A1%B5%E7%AD%BE"><span class="nav-text">9.4.3 商品参数tab页签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-4-%E5%95%86%E5%93%81%E5%B1%9E%E6%80%A7tab%E9%A1%B5%E7%AD%BE"><span class="nav-text">9.4.4 商品属性tab页签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-5-%E5%95%86%E5%93%81%E5%9B%BE%E7%89%87tab%E9%A1%B5%E7%AD%BE"><span class="nav-text">9.4.5 商品图片tab页签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-6-%E5%95%86%E5%93%81%E5%86%85%E5%AE%B9tab%E9%A1%B5%E7%AD%BE"><span class="nav-text">9.4.6 商品内容tab页签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-7-%E5%95%86%E5%93%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E5%AE%8C%E6%88%90"><span class="nav-text">9.4.7 商品管理模块开发完成</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86"><span class="nav-text">10.订单管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10-1-%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-text">10.1 页面布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-2-%E4%BF%AE%E6%94%B9%E5%9C%B0%E5%9D%80%E6%93%8D%E4%BD%9C"><span class="nav-text">10.2 修改地址操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-3-%E6%9F%A5%E7%9C%8B%E8%AE%A2%E5%8D%95%E7%89%A9%E6%B5%81%E4%BF%A1%E6%81%AF"><span class="nav-text">10.3 查看订单物流信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1"><span class="nav-text">11.数据统计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%92%8C%E4%B8%8A%E7%BA%BF"><span class="nav-text">12. 项目优化和上线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%81%87%E8%A7%81%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-text">##. 遇见的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-el-cascader%E7%BB%84%E4%BB%B6%E5%9C%A8%E9%80%89%E9%A1%B9%E8%BF%87%E5%A4%9A%E6%97%B6%E5%88%97%E8%A1%A8%E8%BF%87%E9%95%BF%E6%98%BE%E7%A4%BA%E4%B8%8D%E5%AE%8C%E5%85%A8"><span class="nav-text">1.el-cascader组件在选项过多时列表过长显示不完全</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-input%E8%BE%93%E5%85%A5%E5%9F%9F%E5%9C%A8%E6%B8%B2%E6%9F%93%E5%90%8E%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9"><span class="nav-text">2. input输入域在渲染后自动获取焦点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E9%97%AE%E9%A2%98"><span class="nav-text">3. 图片上传问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%B7%BB%E5%8A%A0%E5%95%86%E5%93%81%E6%97%B6%E5%AF%B9goods-cat%E5%AD%97%E6%AE%B5%E7%9A%84%E5%A4%84%E7%90%86"><span class="nav-text">4. 添加商品时对goods_cat字段的处理</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="杨骁"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">杨骁</p>
  <div class="site-description" itemprop="description">学习博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Templar136" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Templar136" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨骁</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
