<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="学习博客">
<meta property="og:type" content="website">
<meta property="og:title" content="杨骁的博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="杨骁的博客">
<meta property="og:description" content="学习博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="杨骁">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>杨骁的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">杨骁的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/23/10-Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/10-Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">10-Git命令行命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-23 00:00:00 / 修改时间：00:19:54" itemprop="dateCreated datePublished" datetime="2022-04-23T00:00:00+08:00">2022-04-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">前端工程化</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Git命令行命令"><a href="#Git命令行命令" class="headerlink" title="Git命令行命令"></a>Git命令行命令</h1><h2 id="1-git-status"><a href="#1-git-status" class="headerlink" title="1. git status"></a>1. <code>git status</code></h2><p>查看你的文件在工作目录与缓存的状态</p>
<ul>
<li>修改没有送入缓存区时</li>
<li>红色代表<strong>修改完但没有送入缓存区</strong></li>
</ul>
<p><img data-src="/images/10-Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%91%BD%E4%BB%A4/image-20211019172434607.png" alt="image-20211019172434607"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/10-Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%91%BD%E4%BB%A4/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/" class="post-title-link" itemprop="url">04-组件化开发案例-购物车</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:32:38" itemprop="dateModified" datetime="2022-07-12T07:32:38+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="组件化开发案例-购物车"><a href="#组件化开发案例-购物车" class="headerlink" title="组件化开发案例-购物车"></a>组件化开发案例-购物车</h1><ul>
<li>将静态页面转化为Vue组件化页面</li>
<li>通过js逻辑实现Vue组件的功能</li>
</ul>
<p><img data-src="/images/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/image-20210923120231415.png" alt="image-20210923120231415"></p>
<center>图一</center>

<h2 id="1-Vue组件化页面"><a href="#1-Vue组件化页面" class="headerlink" title="1. Vue组件化页面"></a>1. Vue组件化页面</h2><ul>
<li>购物车<strong>标题</strong>、<strong>商品列表</strong>和<strong>总计</strong>分为三个组件<ul>
<li>三个组件作为my-cart全局组件的子组件</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">//标题组件</span></span><br><span class="line"><span class="keyword">var</span> CartTitle = &#123;</span><br><span class="line">      template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;title&quot;&gt;我的商品&lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//商品列表组件</span></span><br><span class="line">    <span class="keyword">var</span> CartList = &#123;</span><br><span class="line">      template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img src=&quot;img/a.jpg&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;change&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;－&lt;/a&gt;</span></span><br><span class="line"><span class="string">              &lt;input type=&quot;text&quot; class=&quot;num&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;＋&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;del&quot;&gt;×&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img src=&quot;img/b.jpg&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;change&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;－&lt;/a&gt;</span></span><br><span class="line"><span class="string">              &lt;input type=&quot;text&quot; class=&quot;num&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;＋&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;del&quot;&gt;×&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img src=&quot;img/c.jpg&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;change&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;－&lt;/a&gt;</span></span><br><span class="line"><span class="string">              &lt;input type=&quot;text&quot; class=&quot;num&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;＋&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;del&quot;&gt;×&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img src=&quot;img/d.jpg&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;change&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;－&lt;/a&gt;</span></span><br><span class="line"><span class="string">              &lt;input type=&quot;text&quot; class=&quot;num&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;＋&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;del&quot;&gt;×&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img src=&quot;img/e.jpg&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;change&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;－&lt;/a&gt;</span></span><br><span class="line"><span class="string">              &lt;input type=&quot;text&quot; class=&quot;num&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;a href=&quot;&quot;&gt;＋&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;del&quot;&gt;×&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//总计组件</span></span><br><span class="line">    <span class="keyword">var</span> CartTotal = &#123;</span><br><span class="line">      template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;total&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;span&gt;总价：123&lt;/span&gt;</span></span><br><span class="line"><span class="string">          &lt;button&gt;结算&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//全局组件my-cart</span></span><br><span class="line">    Vue.component(<span class="string">&#x27;my-cart&#x27;</span>,&#123;</span><br><span class="line">      template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&#x27;cart&#x27;&gt;</span></span><br><span class="line"><span class="string">          &lt;cart-title&gt;&lt;/cart-title&gt;</span></span><br><span class="line"><span class="string">          &lt;cart-list&gt;&lt;/cart-list&gt;</span></span><br><span class="line"><span class="string">          &lt;cart-total&gt;&lt;/cart-total&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span>,</span><br><span class="line">        <span class="comment">//定义三个子组件</span></span><br><span class="line">      components: &#123;</span><br><span class="line">        <span class="string">&#x27;cart-title&#x27;</span>: CartTitle,</span><br><span class="line">        <span class="string">&#x27;cart-list&#x27;</span>: CartList,</span><br><span class="line">        <span class="string">&#x27;cart-total&#x27;</span>: CartTotal</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<br>

<h2 id="2-组件功能实现"><a href="#2-组件功能实现" class="headerlink" title="2.组件功能实现"></a>2.组件功能实现</h2><ul>
<li>头部组件 ：显示用户名称 （<strong>‘用户’的购物车</strong>）</li>
<li>总计组件 ：计算并显示购物车商品总价</li>
</ul>
<h3 id="2-1-头部组件功能"><a href="#2-1-头部组件功能" class="headerlink" title="2.1 头部组件功能"></a>2.1 头部组件功能</h3><ul>
<li>在my-cart父组件中定义<code>uname</code>数据</li>
<li>将<code>uname</code>数据传递给子组件cart-title（父子组件传值）</li>
<li>cart-title组件接受后在模板内容中使用</li>
</ul>
<p><img data-src="/images/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/image-20210923121939512.png" alt="image-20210923121939512"></p>
<center>图二</center>

<h3 id="2-2-总计组件功能"><a href="#2-2-总计组件功能" class="headerlink" title="2.2 总计组件功能"></a>2.2 总计组件功能</h3><ul>
<li>将my-cart组件的<strong>list数据</strong>（存储商品信息的数组）传递给子组件cart-total</li>
<li>cart-total中定义<strong>计算属性</strong>（computed）根据商品数量和单价计算总价后在模板内容中使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">            total:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">let</span> t = <span class="number">0</span></span><br><span class="line">                <span class="built_in">this</span>.list.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                    t += item.price * item.num</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="keyword">return</span> t</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/image-20210923122126797.png" alt="image-20210923122126797"></p>
<center>图三</center>

<h3 id="2-3-列表组件功能"><a href="#2-3-列表组件功能" class="headerlink" title="2.3 列表组件功能"></a>2.3 列表组件功能</h3><ul>
<li>商品信息展示</li>
<li>删除商品</li>
<li>修改商品数量</li>
</ul>
<h4 id="2-3-1-商品信息展示"><a href="#2-3-1-商品信息展示" class="headerlink" title="2.3.1 商品信息展示"></a>2.3.1 商品信息展示</h4><ul>
<li>my-cart组件将list数据传递给cart-list子组件</li>
<li>子组件通过循环list数组生成商品信息列表</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">template: `</span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">:key</span>=<span class="string">&#x27;item.id&#x27;</span> <span class="attr">v-for</span>=<span class="string">&#x27;item in list&#x27;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.img&quot;</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;change&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>－<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;num&quot;</span> /&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>＋<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;del&quot;</span>&gt;</span>×<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       `</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/04-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B-%E8%B4%AD%E7%89%A9%E8%BD%A6/image-20210923122932996.png" alt="image-20210923122932996"></p>
<center>图四</center>

<h4 id="2-3-2-商品删除"><a href="#2-3-2-商品删除" class="headerlink" title="2.3.2 商品删除"></a>2.3.2 商品删除</h4><p>通过点击商品后面的<code>‘X’</code>号删除商品</p>
<ul>
<li>因为删除商品需要对list数组进行操作，而list数组是my-cart父组件的数据</li>
<li>所以通过<strong>子组件向父组件传值</strong>的方式在父组件中修改list数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//cart-list组件中设置&#x27;X&#x27;被点击时触发del函数并传入当前商品id</span></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;del&quot;</span> @click=<span class="string">&#x27;del(item.id)&#x27;</span>&gt;×&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//del函数触发自定义事件把商品id传递给父组件</span></span><br><span class="line">del:<span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">                <span class="comment">//触发自定义事件给父组件传值</span></span><br><span class="line">                <span class="built_in">this</span>.$emit(<span class="string">&#x27;item-del&#x27;</span>,id)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//父组件template模板内容中进行自定义事件监听后获取商品id</span></span><br><span class="line">&lt;cart-list :list=<span class="string">&#x27;list&#x27;</span> @item-del=<span class="string">&#x27;delItem($event)&#x27;</span>&gt;&lt;/cart-list&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过事件处理函数删除list数组中的目标商品</span></span><br><span class="line">delItem:<span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">              <span class="comment">//找出list数组中匹配的元素并删除</span></span><br><span class="line">              <span class="keyword">let</span> target = <span class="built_in">this</span>.list.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                  <span class="keyword">if</span>(item.id == id)&#123;</span><br><span class="line">                      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">              <span class="built_in">this</span>.list.splice(target,<span class="number">1</span>)</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="2-3-3-商品数量修改"><a href="#2-3-3-商品数量修改" class="headerlink" title="2.3.3 商品数量修改"></a>2.3.3 商品数量修改</h4><ul>
<li>表单输入域修改</li>
<li>通过 <code>&#39;+&#39;</code> 和 <code>&#39;-&#39;</code> 修改</li>
</ul>
<p>先通过给<strong>表单输入域进行value属性绑定</strong>获取商品默认的数量</p>
<h5 id="表单输入域修改数量"><a href="#表单输入域修改数量" class="headerlink" title="表单输入域修改数量"></a>表单输入域修改数量</h5><ul>
<li>表单输入域添加change事件，出发后将<strong>当前商品id和新数量</strong>传递给处理函数</li>
<li>处理函数触发自定义函数将数据传递给父组件</li>
<li>父组件监听自定义事件后修改list数组中商品数量</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//属性绑定value显示初始数量 change事件绑定触发自定义事件</span></span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;num&quot;</span> :value=<span class="string">&#x27;item.num&#x27;</span> @change=<span class="string">&#x27;changeNum(item.id,$event)&#x27;</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//触发自定义事件num-change</span></span><br><span class="line"><span class="comment">//因为传递给父组件的数据只能为一个变量，所以将两个数据包裹为对象传递</span></span><br><span class="line">changeNum:<span class="function"><span class="keyword">function</span>(<span class="params">id,event</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">this</span>.$emit(<span class="string">&#x27;num-change&#x27;</span>,&#123;</span><br><span class="line">                    id:id,</span><br><span class="line">                    num:event.target.value</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//父组件接受数据后修改list中商品数量</span></span><br><span class="line">changeNum:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.list.some(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(item.id == val.id)&#123;</span><br><span class="line">                    item.num = <span class="built_in">parseInt</span>(val.num)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>此处子组件向父组件传递数据时需要传递<strong>商品id和新数量两个数据</strong></li>
<li>而父组件接受数据时只使用<code>$event</code>一个变量，索引将两个数据<strong>包裹为一个对象传送</strong></li>
</ul>
<br>

<h5 id="或-修改数量"><a href="#或-修改数量" class="headerlink" title="+或-修改数量"></a><code>+</code>或<code>-</code>修改数量</h5><p>点击<code>+</code>或<code>-</code>触发点击事件，在事件处理函数中使用自定义事件向父组件传递数据</p>
<ul>
<li><p>此处<strong>三种修改方式使用同一个自定义事件</strong>(父组件接受后根据传递的type值判断是哪一种修改方式)</p>
</li>
<li><p>因为<code>+</code>和<code>-</code>为a标签，再点击事件触发时要禁止其默认行为<code>(@click.prevent)</code></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//+ - 点击事件绑定</span></span><br><span class="line">&lt;a href=<span class="string">&quot;&quot;</span> @click.prevent=<span class="string">&#x27;sub(item.id)&#x27;</span>&gt;－&lt;/a&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;&quot;</span> @click.prevent=<span class="string">&#x27;add(item.id)&#x27;</span>&gt;＋&lt;/a&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向父组件传递的数据中type值代表了修改的方式</span></span><br><span class="line">sub:<span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">this</span>.$emit(<span class="string">&#x27;num-change&#x27;</span>,&#123;</span><br><span class="line">                    id:id,</span><br><span class="line">                    type:<span class="string">&#x27;sub&#x27;</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            </span><br><span class="line"><span class="comment">//父组件判断type值进行不同修改方式的处理</span></span><br><span class="line">changeNum:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.list.some(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(item.id == val.id)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(val.type == <span class="string">&#x27;change&#x27;</span>)&#123;</span><br><span class="line">                        item.num = <span class="built_in">parseInt</span>(val.num)</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(val.type == <span class="string">&#x27;add&#x27;</span>)&#123;</span><br><span class="line">                        item.num += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        item.num -= <span class="number">1</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/" class="post-title-link" itemprop="url">06-图书管理案例前后端交互</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:24:59" itemprop="dateModified" datetime="2022-07-12T07:24:59+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="图书管理案例前后端交互"><a href="#图书管理案例前后端交互" class="headerlink" title="图书管理案例前后端交互"></a>图书管理案例前后端交互</h1><h2 id="1-案例分析"><a href="#1-案例分析" class="headerlink" title="1. 案例分析"></a>1. 案例分析</h2><p><img data-src="../images/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210925110848676.png" alt="image-20210925110848676"></p>
<center>图一</center>

<h2 id="2-项目初始化"><a href="#2-项目初始化" class="headerlink" title="2. 项目初始化"></a>2. 项目初始化</h2><p><img data-src="../images/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210925114117214.png" alt="image-20210925114117214"></p>
<center>图二</center>

<ul>
<li>public静态资源文件夹<ul>
<li>html文件夹<ul>
<li><code>index.html</code>图书管理页面</li>
</ul>
</li>
<li>js文件夹<ul>
<li>三个js库<code>（axios,jQuery,Vue）</code></li>
</ul>
</li>
<li><code>data.json</code>文件：存放图书列表数据</li>
</ul>
</li>
<li>route路由模块文件夹<ul>
<li><code>router.js</code>路由列表文件</li>
<li><code>service.js</code>路由处理函数文件</li>
</ul>
</li>
<li>app.js 项目入口文件(服务器程序)</li>
</ul>
<br>

<p>服务器运行在<code>http://localhost:3000</code></p>
<br>

<h2 id="3-图书列表数据加载功能"><a href="#3-图书列表数据加载功能" class="headerlink" title="3. 图书列表数据加载功能"></a>3. 图书列表数据加载功能</h2><p>在<code>index.html</code>文件中的<code>mounted</code>函数中使用<code>axios</code>接口请求图书列表数据</p>
<p>使用<code>async/await</code>接受异步操作的<u>结果（图书列表数据）</u></p>
<ul>
<li><code>index.html</code>文件中设置了<code>axios</code>接口的基准URL</li>
<li>使用响应拦截器<strong>提取响应对象中的数据</strong>（图书数据数组）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//axios基准URL</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&#x27;http://localhost:3000/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//axios响应拦截器</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> config.data</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//mounted在Vue实例初始化完成后调用</span></span><br><span class="line">mounted: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//axios API向服务器发送请求</span></span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">await</span> axios.get(<span class="string">&#x27;/books&#x27;</span>)</span><br><span class="line">    <span class="comment">//使用后台数据填充Vue实例中的模板数据</span></span><br><span class="line">    <span class="built_in">this</span>.list = data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="../images/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210925115455365.png" alt="image-20210925115455365"></p>
<center>图三</center>

<h2 id="4-增加图书功能"><a href="#4-增加图书功能" class="headerlink" title="4. 增加图书功能"></a>4. 增加图书功能</h2><p>表单中输入新增图书名字后点击提交</p>
<p>在<code>handle</code>函数中使用<code>axios API</code> 发送post请求获取服务器响应</p>
<ul>
<li>将新书名字作为post请求参数<ul>
<li>新增图书的<code>id</code>和<code>time</code>在后台动态添加</li>
</ul>
</li>
<li>后台接受增加请求后在<code>data.json</code>文件中新增书籍数据</li>
<li>修改json文件成功后响应<code>&#123;status:200&#125;</code></li>
<li>客户端接受服务端响应结果后，若status为200则调用<u><code>queryData</code>函数</u>（重新加载图书列表数据）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handle:<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                  <span class="comment">//判断当前操作是新建还是修改</span></span><br><span class="line">                  <span class="keyword">if</span>(<span class="built_in">this</span>.flag == <span class="literal">false</span>)&#123;</span><br><span class="line">                      <span class="comment">//添加</span></span><br><span class="line">                      <span class="keyword">let</span> res = <span class="keyword">await</span> axios.post(<span class="string">&#x27;books&#x27;</span>,&#123;</span><br><span class="line">                          name:<span class="built_in">this</span>.name</span><br><span class="line">                      &#125;)</span><br><span class="line">                      <span class="keyword">if</span>(res.status == <span class="number">200</span>)&#123;</span><br><span class="line">                          <span class="built_in">this</span>.queryData()</span><br><span class="line">                      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                          alert(<span class="string">&#x27;错误&#x27;</span>)</span><br><span class="line">                      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                          <span class="comment">//修改...</span></span><br><span class="line">                      &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>后台操作<code>data.json</code>的代码省略</li>
</ul>
<br>

<h2 id="5-验证图书名称是否存在"><a href="#5-验证图书名称是否存在" class="headerlink" title="5. 验证图书名称是否存在"></a>5. 验证图书名称是否存在</h2><p>在Vue的侦听器watch中使用<code>axios API</code>发送请求</p>
<p>当前文本框输入内容作为get请求参数</p>
<p>请求使用<code>Restful URL</code></p>
<p>后台查找名称是否存在并返回状态</p>
<ul>
<li>状态为1则存在，禁用提交按钮</li>
<li>否则解除禁用</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">             <span class="comment">//监听name模板数据</span></span><br><span class="line">             <span class="comment">//val即为变化后的name数据值</span></span><br><span class="line">             name:<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">                 <span class="keyword">let</span> res = <span class="keyword">await</span> axios.get(<span class="string">&#x27;books/book/&#x27;</span>+ val)</span><br><span class="line">                 <span class="keyword">if</span>(res.status == <span class="number">1</span>)&#123;</span><br><span class="line">                     <span class="comment">//存在 禁用提交按钮</span></span><br><span class="line">                     <span class="built_in">this</span>.submitFlag = <span class="literal">true</span></span><br><span class="line">                 &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                     <span class="built_in">this</span>.submitFlag = <span class="literal">false</span></span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br></pre></td></tr></table></figure>

<br>

<h2 id="6-编辑-根据ID查询图书信息"><a href="#6-编辑-根据ID查询图书信息" class="headerlink" title="6. 编辑-根据ID查询图书信息"></a>6. 编辑-根据ID查询图书信息</h2><p>当点击修改按钮后，向服务器发送数据</p>
<p>根据ID查询最新的图书信息后返回给客户端</p>
<p>客户端将最新数据显示在输入域中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">edit: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//在后台寻找要修改的图书数据</span></span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> axios.get(<span class="string">&#x27;books/&#x27;</span>+id)</span><br><span class="line">    <span class="built_in">this</span>.id = res.id</span><br><span class="line">    <span class="built_in">this</span>.name = res.name</span><br><span class="line">    <span class="comment">//标识当前是修改操作</span></span><br><span class="line">    <span class="built_in">this</span>.flag = <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<br>

<h2 id="7-编辑-提交修改图书信息"><a href="#7-编辑-提交修改图书信息" class="headerlink" title="7. 编辑-提交修改图书信息"></a>7. 编辑-提交修改图书信息</h2><p>点击按钮后根据flag数据的值判断是<strong>修改提交</strong>还是<strong>增加提交</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改</span></span><br><span class="line"><span class="keyword">let</span> res = <span class="keyword">await</span> axios.put(<span class="string">&#x27;books/&#x27;</span>+<span class="built_in">this</span>.id,&#123;</span><br><span class="line">    name:<span class="built_in">this</span>.name</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//修改成功</span></span><br><span class="line"><span class="keyword">if</span>(res.status == <span class="number">200</span>)&#123;</span><br><span class="line">    <span class="comment">//重新获取图书列表</span></span><br><span class="line">    <span class="built_in">this</span>.queryData()</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;错误&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-删除数据"><a href="#8-删除数据" class="headerlink" title="8. 删除数据"></a>8. 删除数据</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deletebook: <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> axios.delete(<span class="string">&#x27;books/&#x27;</span>+id)</span><br><span class="line">    <span class="keyword">if</span>(res.status == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.queryData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,	</span><br></pre></td></tr></table></figure>

<h2 id="9-遇见的问题"><a href="#9-遇见的问题" class="headerlink" title="9. 遇见的问题"></a>9. 遇见的问题</h2><p>在数组some方法<strong>内部</strong>使用<code>res.send()</code>进行请求的响应会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> find = <span class="function">(<span class="params">req,res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> id = req.params.id</span><br><span class="line">    data.some(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(item.id == id)&#123;</span><br><span class="line">            <span class="comment">//响应查询到的书籍信息</span></span><br><span class="line">            res.send(item)	<span class="comment">//报错</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="../images/06-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E6%A1%88%E4%BE%8B%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210925190929333.png" alt="image-20210925190929333"></p>
<p>解决办法：在some方法<strong>外部</strong>进行响应即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/09-Vuex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/09-Vuex/" class="post-title-link" itemprop="url">09-Vuex</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:37:14" itemprop="dateModified" datetime="2022-07-12T07:37:14+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><h1 id="1-组件之间共享数据的方式"><a href="#1-组件之间共享数据的方式" class="headerlink" title="1.组件之间共享数据的方式"></a>1.组件之间共享数据的方式</h1><ul>
<li><p><strong>父向子：</strong>v-bind属性绑定，通过props接收</p>
</li>
<li><p><strong>子向父：</strong>$emit触发自定义事件并传值，父组件$on监听相应事件接收数据</p>
</li>
<li><p>兄弟组件/不相干组件传值：<code>EventBus</code>事件中心</p>
<ul>
<li>发送数据组件：使用<code>EventBus.$emit</code>触发自定义事件并传值</li>
<li>接收数据组件：使用<code>EventBus.$on</code>监听自定义事件接收数据</li>
</ul>
</li>
</ul>
<p><strong>问题：</strong>当多个组件<strong>结构复杂</strong>时，传值<strong>操作繁琐</strong>且<strong>不利于维护</strong>。</p>
<br>

<h1 id="2-Vuex概念"><a href="#2-Vuex概念" class="headerlink" title="2. Vuex概念"></a>2. Vuex概念</h1><p>Vuex实现组件<strong>全局状态管理</strong>的一种机制。</p>
<p><img data-src="/images/09-Vuex/image-20220411151713435.png" alt="image-20220411151713435"></p>
<ul>
<li>左图没有使用Vuex传值繁琐不利于维护</li>
<li>右图使用Vuex，组件可以从<code>STORE</code>获取共享的全局数据</li>
</ul>
<br>

<h1 id="3-Vuex统一管理共享状态的好处"><a href="#3-Vuex统一管理共享状态的好处" class="headerlink" title="3.Vuex统一管理共享状态的好处"></a>3.Vuex统一管理共享状态的好处</h1><p><img data-src="/images/09-Vuex/image-20220411151922911.png" alt="image-20220411151922911"></p>
<p>Vuex中的数据<strong>响应式</strong>，保持模板与视图同步。</p>
<br>

<h1 id="4-Vuex存储哪类数据"><a href="#4-Vuex存储哪类数据" class="headerlink" title="4.Vuex存储哪类数据"></a>4.Vuex存储哪类数据</h1><p>需要<strong>在组件之间共享的数据</strong></p>
<ul>
<li>组件的<strong>私有数据</strong>仍存储在各自的data中</li>
</ul>
<br>

<h1 id="5-Vuex使用"><a href="#5-Vuex使用" class="headerlink" title="5.Vuex使用"></a>5.Vuex使用</h1><h2 id="1-安装Vuex插件"><a href="#1-安装Vuex插件" class="headerlink" title="1.安装Vuex插件"></a>1.安装Vuex插件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure>

<ul>
<li>或者在Vue脚手架图形化界面中创建组件时勾选安装Vuex</li>
</ul>
<h2 id="2-在项目中导入Vuex，使用Vue-use注册"><a href="#2-在项目中导入Vuex，使用Vue-use注册" class="headerlink" title="2.在项目中导入Vuex，使用Vue.use注册"></a>2.在项目中导入Vuex，使用<code>Vue.use</code>注册</h2><h2 id="3-创建Vuex-store实例"><a href="#3-创建Vuex-store实例" class="headerlink" title="3.创建Vuex.store实例"></a>3.创建<code>Vuex.store</code>实例</h2><p><img data-src="/images/09-Vuex/image-20220411154014914.png" alt="image-20220411154014914"></p>
<br>

<h2 id="4-将Vuex-Store实例挂载到Vue根实例上"><a href="#4-将Vuex-Store实例挂载到Vue根实例上" class="headerlink" title="4.将Vuex.Store实例挂载到Vue根实例上"></a>4.将Vuex.Store实例挂载到Vue根实例上</h2><p><img data-src="/images/09-Vuex/image-20220411154149998.png" alt="image-20220411154149998"></p>
<br>

<h1 id="6-Vuex核心概念"><a href="#6-Vuex核心概念" class="headerlink" title="6. Vuex核心概念"></a>6. Vuex核心概念</h1><p><img data-src="/images/09-Vuex/image-20220411162730924.png" alt="image-20220411162730924"></p>
<h2 id="1-State"><a href="#1-State" class="headerlink" title="1. State"></a>1. State</h2><p><img data-src="/images/09-Vuex/image-20220411162810440.png" alt="image-20220411162810440"></p>
<h3 id="访问state数据第一种方式"><a href="#访问state数据第一种方式" class="headerlink" title="访问state数据第一种方式"></a>访问state数据第一种方式</h3><p><img data-src="/images/09-Vuex/image-20220411162847251.png" alt="image-20220411162847251"></p>
<p><img data-src="/images/09-Vuex/image-20220411162903968.png" alt="image-20220411162903968"></p>
<br>

<h3 id="访问state数据第二种方式"><a href="#访问state数据第二种方式" class="headerlink" title="访问state数据第二种方式"></a>访问state数据第二种方式</h3><p><img data-src="/images/09-Vuex/image-20220411163258344.png" alt="image-20220411163258344"></p>
<p><img data-src="/images/09-Vuex/image-20220411163629515.png" alt="image-20220411163629515"></p>
<br>

<h2 id="2-Mutation"><a href="#2-Mutation" class="headerlink" title="2. Mutation"></a>2. Mutation</h2><p><img data-src="/images/09-Vuex/image-20220411164338066.png" alt="image-20220411164338066"></p>
<ul>
<li>其他组件<strong>修改全局数据</strong>使用<code>mutations</code>中的方法<ul>
<li>将修改全局数据的方法集中管理，易于维护</li>
</ul>
</li>
<li><code>mutations</code>中的方法，<strong>第一个参数为state</strong>(全局状态)，<strong>之后的参数为调用时传递的值</strong></li>
</ul>
<br>

<h3 id="触发mutations中方法的两种方式"><a href="#触发mutations中方法的两种方式" class="headerlink" title="触发mutations中方法的两种方式"></a>触发mutations中方法的两种方式</h3><p>1.<code>this.$store.commit(&#39;方法名&#39;)</code></p>
<p>2.导入<code>mapMutations</code>，将方法映射为组件<code>methods</code>中的方法</p>
<p><img data-src="/images/09-Vuex/image-20220411165218895.png" alt="image-20220411165218895"></p>
<h3 id="触发mutations中的方法时传递参数"><a href="#触发mutations中的方法时传递参数" class="headerlink" title="触发mutations中的方法时传递参数"></a>触发mutations中的方法时传递参数</h3><p><img data-src="/images/09-Vuex/image-20220411164757435.png" alt="image-20220411164757435"></p>
<h2 id="3-Action"><a href="#3-Action" class="headerlink" title="3. Action"></a>3. Action</h2><p><code>mutations</code>中的方法<span style="color:red;">不能执行异步代码</span>，会导致调试器<strong>错误显示state全局状态的值</strong></p>
<p>Action中定义的方法<strong>可以执行异步代码</strong>，但<span style="color:red;">最终修改state数据仍是通过mutations中的方法。</span></p>
<ul>
<li>只有<code>mutations</code>中的方法有权修改state状态</li>
</ul>
<p><img data-src="/images/09-Vuex/image-20220411170602067.png" alt="image-20220411170602067"></p>
<p><img data-src="/images/09-Vuex/image-20220411171028485.png" alt="image-20220411171028485"></p>
<ul>
<li>使用定时器延时1s修改count数据要使用<code>actions</code>中的方法完成</li>
</ul>
<br>

<h3 id="触发actions异步任务时传递参数"><a href="#触发actions异步任务时传递参数" class="headerlink" title="触发actions异步任务时传递参数"></a>触发actions异步任务时传递参数</h3><p><img data-src="/images/09-Vuex/image-20220412154747938.png" alt="image-20220412154747938"></p>
<br>

<h3 id="触发actions的两种方式"><a href="#触发actions的两种方式" class="headerlink" title="触发actions的两种方式"></a>触发actions的两种方式</h3><p>1.<code>this.$store.dispatch(&#39;actions函数名&#39;,参数)</code></p>
<p>2.通过导入<code>mapActions</code>函数将<code>actions</code>函数映射为当前组件的<code>methods</code></p>
<p><img data-src="/images/09-Vuex/image-20220412161538081.png" alt="image-20220412161538081"></p>
<br>

<h2 id="4-Getter"><a href="#4-Getter" class="headerlink" title="4.Getter"></a>4.Getter</h2><ul>
<li><code>Getter</code>用于对<code>state</code>中的数据进行加工处理后<strong>形成新的数据</strong>(不会修改state数据)<ul>
<li>形成新的数据 类似于Vue的<code>computed</code>计算属性</li>
<li>Getter形成的<strong>新数据会根据state响应式变化</strong></li>
</ul>
</li>
</ul>
<h3 id="使用Getter的两种方式"><a href="#使用Getter的两种方式" class="headerlink" title="使用Getter的两种方式"></a>使用Getter的两种方式</h3><ul>
<li><p>第一种方式直接过去store实例中的<code>getters</code></p>
</li>
<li><p>第二种方式映射为<code>computed</code>计算属性</p>
</li>
</ul>
<p><img data-src="/images/09-Vuex/image-20220412162238536.png" alt="image-20220412162238536"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/08-Vue%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E8%B7%AF%E7%94%B1%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/08-Vue%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E8%B7%AF%E7%94%B1%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">08-Vue后台管理路由案例</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:36:28" itemprop="dateModified" datetime="2022-07-12T07:36:28+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue后台管理路由案例"><a href="#Vue后台管理路由案例" class="headerlink" title="Vue后台管理路由案例"></a>Vue后台管理路由案例</h1><h2 id="项目概述"><a href="#项目概述" class="headerlink" title="项目概述"></a>项目概述</h2><p><img data-src="/images/08-Vue/image-20210926215440605.png" alt="image-20210926215440605"></p>
<center>图一</center>

<center>图一为项目的效果图</center>

<ul>
<li>项目分为上中下三部分</li>
<li>中间部分<strong>通过左侧按钮进行路由跳转</strong></li>
<li>路由跳转后渲染的模板中还有详情<strong>子级路由</strong></li>
<li>子级路由对应组件渲染详情页面</li>
</ul>
<br>

<h2 id="1-抽离渲染app根组件"><a href="#1-抽离渲染app根组件" class="headerlink" title="1. 抽离渲染app根组件"></a>1. 抽离渲染app根组件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 中间主体区域 --&gt;</span><br><span class="line">       &lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">           &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//主体部分模板</span></span><br><span class="line"><span class="keyword">var</span> main = &#123;</span><br><span class="line">           template: <span class="string">`</span></span><br><span class="line"><span class="string">           &lt;div class=&quot;main&quot;&gt;</span></span><br><span class="line"><span class="string">               &lt;!-- 左侧菜单栏 --&gt;</span></span><br><span class="line"><span class="string">               &lt;div class=&quot;content left&quot;&gt;</span></span><br><span class="line"><span class="string">               &lt;ul&gt;</span></span><br><span class="line"><span class="string">                   &lt;li&gt;用户管理&lt;/li&gt;</span></span><br><span class="line"><span class="string">                   &lt;li&gt;权限管理&lt;/li&gt;</span></span><br><span class="line"><span class="string">                   &lt;li&gt;商品管理&lt;/li&gt;</span></span><br><span class="line"><span class="string">                   &lt;li&gt;订单管理&lt;/li&gt;</span></span><br><span class="line"><span class="string">                   &lt;li&gt;系统设置&lt;/li&gt;</span></span><br><span class="line"><span class="string">               &lt;/ul&gt;</span></span><br><span class="line"><span class="string">               &lt;/div&gt;</span></span><br><span class="line"><span class="string">               &lt;!-- 右侧内容区域 --&gt;</span></span><br><span class="line"><span class="string">               &lt;div class=&quot;content right&quot;&gt;&lt;div class=&quot;main-content&quot;&gt;添加用户表单&lt;/div&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">           &lt;/div&gt;`</span></span><br><span class="line">       &#125;</span><br><span class="line">   	<span class="comment">//创建路由实例配置规则</span></span><br><span class="line">       <span class="keyword">var</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">           routes:[&#123;</span><br><span class="line">               path:<span class="string">&#x27;/&#x27;</span>,<span class="attr">component</span>:main</span><br><span class="line">           &#125;]</span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>当用户打开页面时默认hash为<code>/</code>，根据路由规则匹配渲染main组件中的模板</li>
</ul>
<br>

<h2 id="2-主体部分左侧菜单改造为路由链接"><a href="#2-主体部分左侧菜单改造为路由链接" class="headerlink" title="2. 主体部分左侧菜单改造为路由链接"></a>2. 主体部分左侧菜单改造为路由链接</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/users&#x27;</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/rights&#x27;</span>&gt;</span>权限管理<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/goods&#x27;</span>&gt;</span>商品管理<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/orders&#x27;</span>&gt;</span>订单管理<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/settings&#x27;</span>&gt;</span>系统设置<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-左侧菜单创建路由组件"><a href="#3-左侧菜单创建路由组件" class="headerlink" title="3. 左侧菜单创建路由组件"></a>3. 左侧菜单创建路由组件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> User = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&lt;h3&gt;用户管理&lt;/h3&gt;&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Right = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&lt;h3&gt;权限管理&lt;/h3&gt;&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Good = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&lt;h3&gt;商品管理&lt;/h3&gt;&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Order = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&lt;h3&gt;订单管理&lt;/h3&gt;&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Setting = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&lt;h3&gt;系统设置&lt;/h3&gt;&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-右侧主体内容添加路由占位符"><a href="#4-右侧主体内容添加路由占位符" class="headerlink" title="4. 右侧主体内容添加路由占位符"></a>4. 右侧主体内容添加路由占位符</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 右侧内容区域 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content right&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main-content&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">routes:[&#123;</span><br><span class="line">    //左侧菜单的路由为/的子级路由</span><br><span class="line">    path:&#x27;/&#x27;,component:main,children:[&#123;</span><br><span class="line">    	path:&#x27;/users&#x27;,component:User</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    	path:&#x27;/rights&#x27;,component:Right</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    	path:&#x27;/goods&#x27;,component:Good</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    	path:&#x27;/orders&#x27;,component:Order</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    	path:&#x27;/settings&#x27;,component:Setting</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<ul>
<li>左侧菜单的四个路由<code>/user ... /settings</code>为<code>/</code>路由的<strong>子路由</strong></li>
<li>路由规则定义在<code>/</code>路由规则的<strong>children属性中</strong></li>
</ul>
<p>main组件作为<strong>根组件app</strong>的子组件</p>
<p>左侧菜单的四个路由组件作为<strong>main组件</strong>的子组件</p>
<br>

<h2 id="5-设置默认路由重定向"><a href="#5-设置默认路由重定向" class="headerlink" title="5. 设置默认路由重定向"></a>5. 设置默认路由重定向</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">routes:[&#123;</span><br><span class="line">            path:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="comment">//路由重定向到用户管理</span></span><br><span class="line">            redirect:<span class="string">&#x27;/users&#x27;</span>,</span><br><span class="line">            component:main,</span><br><span class="line">            children:...</span><br></pre></td></tr></table></figure>

<h2 id="6-渲染用户列表数据"><a href="#6-渲染用户列表数据" class="headerlink" title="6. 渲染用户列表数据"></a>6. 渲染用户列表数据</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="comment">//用户列表数据</span></span><br><span class="line">                    list:[</span><br><span class="line">                        &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;y1&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;,</span><br><span class="line">                        &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;y2&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;,</span><br><span class="line">                        &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;y3&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;,</span><br><span class="line">                        &#123;<span class="attr">id</span>:<span class="number">4</span>,<span class="attr">name</span>:<span class="string">&#x27;y4&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                        &lt;h3&gt;用户管理&lt;/h3&gt;</span></span><br><span class="line"><span class="string">                        &lt;table&gt;</span></span><br><span class="line"><span class="string">                            &lt;thead&gt;</span></span><br><span class="line"><span class="string">                                &lt;tr&gt;</span></span><br><span class="line"><span class="string">                                    &lt;th&gt;编号&lt;/th&gt;</span></span><br><span class="line"><span class="string">                                    &lt;th&gt;姓名&lt;/th&gt;</span></span><br><span class="line"><span class="string">                                    &lt;th&gt;年龄&lt;/th&gt;</span></span><br><span class="line"><span class="string">                                    &lt;th&gt;操作&lt;/th&gt;</span></span><br><span class="line"><span class="string">                                &lt;/tr&gt;   </span></span><br><span class="line"><span class="string">                            &lt;/thead&gt;</span></span><br><span class="line"><span class="string">                            &lt;tbody&gt;</span></span><br><span class="line"><span class="string">								//循环生成用户数据表格</span></span><br><span class="line"><span class="string">                                &lt;tr v-for=&#x27;item in list&#x27;&gt;</span></span><br><span class="line"><span class="string">                                    &lt;td&gt;&#123;&#123;item.id&#125;&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                                    &lt;td&gt;&#123;&#123;item.name&#125;&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                                    &lt;td&gt;&#123;&#123;item.age&#125;&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                                    &lt;td&gt;&lt;a href=&quot;javascript:;&quot;&gt;修改&lt;/a&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                                &lt;/tr&gt;</span></span><br><span class="line"><span class="string">                            &lt;/tbody&gt;    </span></span><br><span class="line"><span class="string">                        &lt;/table&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在User路由组件中<strong>定义用户列表数据数组</strong></li>
<li>在User路由组件template中<strong>利用循环生成用户列表数据表格</strong></li>
</ul>
<h2 id="7-编程式导航跳转到用户详情页"><a href="#7-编程式导航跳转到用户详情页" class="headerlink" title="7. 编程式导航跳转到用户详情页"></a>7. 编程式导航跳转到用户详情页</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &lt;td&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&#x27;change(item.id)&#x27;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span>&lt;/td&gt;</span><br><span class="line">     </span><br><span class="line">change:<span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">                    <span class="comment">//编程式导航 路由跳转 传递id参数</span></span><br><span class="line">                    <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/userinfo/&#x27;</span>+id)</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>表格中的修改超链接被点击后触发change事件并<strong>传递当前数据的id</strong></li>
<li>编程式导航跳转带上id参数</li>
</ul>
<h2 id="8-在用户详情页使用编程式导航回退到上一页"><a href="#8-在用户详情页使用编程式导航回退到上一页" class="headerlink" title="8. 在用户详情页使用编程式导航回退到上一页"></a>8. 在用户详情页使用编程式导航回退到上一页</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&#x27;back&#x27;</span>&gt;返回上一页&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">back:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">this</span>.$router.go(-<span class="number">1</span>)</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在<code>Userinfo</code>组件的template模板中创建button实现回退</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/10-Vuex%E6%A1%88%E4%BE%8BtodoList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/10-Vuex%E6%A1%88%E4%BE%8BtodoList/" class="post-title-link" itemprop="url">10-Vuex案例 todoList</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:37:37" itemprop="dateModified" datetime="2022-07-12T07:37:37+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vuex案例-todoList"><a href="#Vuex案例-todoList" class="headerlink" title="Vuex案例 todoList"></a>Vuex案例 todoList</h1><h2 id="1-项目初始化"><a href="#1-项目初始化" class="headerlink" title="1.项目初始化"></a>1.项目初始化</h2><ul>
<li><p>项目目录</p>
<ul>
<li>```text<br>E:\1前端学习资料和代码\1-23 学习代码\17-Vue基础代码\06-Vuex\02-vuex-todolist<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">![image-20220412200231243](&#x2F;images&#x2F;10-Vuex案例todoList&#x2F;image-20220412200231243.png)</span><br><span class="line"></span><br><span class="line">- 依赖版本</span><br><span class="line"></span><br><span class="line">![image-20220412200253363](&#x2F;images&#x2F;10-Vuex案例todoList&#x2F;image-20220412200253363.png)</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">## 2.获取list数据</span><br><span class="line"></span><br><span class="line">&#96;App.vue&#96;组件的created钩子中调用store实例的actions方法</span><br><span class="line"></span><br><span class="line">actions方法使用axios异步获取&#96;list.json&#96;中的数据</span><br><span class="line"></span><br><span class="line">&#96;App.vue&#96;通过调用&#96;...mapState&#96;**将state数据映射为计算属性后使用**</span><br><span class="line"></span><br><span class="line">## 3.input输入域数据绑定</span><br><span class="line"></span><br><span class="line">与state.inputValue绑定</span><br><span class="line"></span><br><span class="line">输入域change事件触发，调用&#96;mutations&#96;函数修改inputValue</span><br><span class="line"></span><br><span class="line">## 4.增加任务</span><br><span class="line"></span><br><span class="line">点击添加，根据&#96;state.inputValue&#96;进行添加</span><br><span class="line"></span><br><span class="line">## 5.删除任务</span><br><span class="line"></span><br><span class="line">根据id删除</span><br><span class="line"></span><br><span class="line">## 6.复选框状态绑定</span><br><span class="line"></span><br><span class="line">## 7.修改复选框状态</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">        &lt;a-checkbox @change&#x3D;&quot;(e) &#x3D;&gt; &#123;checkboxChange(e,item.id)&#125;&quot; :checked&#x3D;&quot;item.done&quot;&gt;&#123;&#123;item.info&#125;&#125;&lt;&#x2F;a-checkbox&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取事件对象的同时传递参数</span></span><br><span class="line">(e) =&gt; &#123;checkboxChange(e,item.id)&#125;	<span class="comment">//change事件处理函数</span></span><br></pre></td></tr></table></figure>

<h2 id="8-计算未完成任务数目"><a href="#8-计算未完成任务数目" class="headerlink" title="8.计算未完成任务数目"></a>8.计算未完成任务数目</h2><p>通过getters根据state数据 计算出<strong>未完成数目(新数据)</strong></p>
<p>将getters<strong>映射为App.vue的计算属性</strong></p>
<h2 id="9-清除已完成任务"><a href="#9-清除已完成任务" class="headerlink" title="9.清除已完成任务"></a>9.清除已完成任务</h2><p>过滤出list数组中<code>done=false</code>的任务</p>
<h2 id="10-点击下方三个按钮改变样式"><a href="#10-点击下方三个按钮改变样式" class="headerlink" title="10.点击下方三个按钮改变样式"></a>10.点击下方三个按钮改变样式</h2><p>根据state.key值设置按钮的样式，点击按钮修改<code>state.key</code>值以实现样式的改变</p>
<h2 id="11-切换显示不同状态的任务"><a href="#11-切换显示不同状态的任务" class="headerlink" title="11.切换显示不同状态的任务"></a>11.切换显示不同状态的任务</h2><p>使用getters，根据key值(当前要显示的任务的状态)返回相应的任务列表</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当前选择显示的任务列表</span></span><br><span class="line"><span class="function"><span class="title">infoList</span>(<span class="params">state</span>)</span> &#123;	<span class="comment">//getters</span></span><br><span class="line">    <span class="keyword">if</span>(state.key === <span class="string">&#x27;all&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.list</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(state.key === <span class="string">&#x27;undone&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.list.filter(<span class="function"><span class="params">x</span> =&gt;</span> !x.done)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(state.key === <span class="string">&#x27;done&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.list.filter(<span class="function"><span class="params">x</span> =&gt;</span> x.done)</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state.list</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">03-Vue组件化开发</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-23 23:07:56" itemprop="dateModified" datetime="2022-04-23T23:07:56+08:00">2022-04-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue组件化开发"><a href="#Vue组件化开发" class="headerlink" title="Vue组件化开发"></a>Vue组件化开发</h1><h2 id="1-组件化开发思想"><a href="#1-组件化开发思想" class="headerlink" title="1. 组件化开发思想"></a>1. 组件化开发思想</h2><ul>
<li>标准：多个组件最后要进行结合生成完整的程序，统一的标准的必不可少的</li>
<li>分治：将大问题，化解为多个小问题，即多个组件</li>
<li>重用：一个组件可以被多次使用，提升开发效率</li>
<li>组合</li>
</ul>
<p>对于应用程序开发来说，将应用的<strong>多个功能封装为多个组件</strong>，最后通过这些<strong>组件的结合形成完整的应用</strong></p>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920184832329.png" alt="组件示例"></p>
<center>图一</center>

<ul>
<li>对于图一左侧的页面，可以将其中<strong>不同的元素（功能）</strong>分为多个组件</li>
<li>右侧的绿色盒子即为<strong>多个组件之间的关系</strong><ul>
<li>兄弟组件</li>
<li>父子组件</li>
</ul>
</li>
</ul>
<h3 id="1-1-组件化规范"><a href="#1-1-组件化规范" class="headerlink" title="1.1 组件化规范"></a>1.1 组件化规范</h3><p>使用组件化思想进行开发如果没有统一的标准会产生许多问题：</p>
<ul>
<li>自定义组件不太容易（HTML,CSS,JS的组合）</li>
<li>多次使用组件可能导致冲突</li>
</ul>
<p><strong>组件化规范：Web Components</strong></p>
<ul>
<li><p><strong>Web Components</strong>通过创建<strong>封装好功能的定制元素</strong>解决组件化思想开发的问题</p>
</li>
<li><p>但是目前这个规范<strong>还没有被浏览器广泛的支持</strong></p>
</li>
</ul>
<p><strong>Vue的组件化</strong>已经部分实现了<strong>Web Components</strong>的规则</p>
<br>

<h2 id="2-组件注册"><a href="#2-组件注册" class="headerlink" title="2. 组件注册"></a>2. 组件注册</h2><p>使用Vue的API <code>Vue.component()</code>进行组件的<span style="color:red">全局注册</span></p>
<ul>
<li>第一个参数为<strong>组件名称</strong></li>
<li>第二个参数为一个<strong>配置对象</strong>（与创建Vue根实例的配置对象相同）<ul>
<li>对象中data属性为<strong>组件的数据</strong><ul>
<li>data属性的值为一个<strong>函数</strong>(为组件重用考虑，<strong>数据互不影响</strong>)，函数的返回值为一个对象，<strong>在该对象中定义组件数据</strong></li>
</ul>
</li>
<li>对象中template属性为<strong>组件模板内容</strong><ul>
<li>一个封装好功能的定制DOM元素</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920190235276.png" alt="组件注册实例"></p>
<center>图二</center>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">template:&quot;<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&#x27;count++&#x27;</span>&gt;</span>点击了&#123;&#123;count&#125;&#125;次<span class="tag">&lt;/<span class="name">button</span>&gt;</span>&quot;,</span><br></pre></td></tr></table></figure>

<p>上述代码段即<strong>创建了一个封装好功能的定制DOM元素</strong><code>&lt;button-counter&gt;&lt;/button-counter&gt;</code>（组件使用的方式——<strong>组件名标签</strong>）</p>
<p>实际上<strong>Vue根实例也是一个组件</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;button-counter&gt;&lt;/button-counter&gt;</span><br><span class="line">        &lt;button-counter&gt;&lt;/button-counter&gt;</span><br><span class="line">        &lt;button-counter&gt;&lt;/button-counter&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>当Vue根实例绑定id为app的元素时，<code>&lt;button-counter&gt;</code>组件实际上是Vue根实例的<strong>子组件</strong></li>
</ul>
<h3 id="2-1-组件的使用"><a href="#2-1-组件的使用" class="headerlink" title="2.1 组件的使用"></a>2.1 组件的使用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>对于图二注册的组件，直接<strong>在html文档中使用该组件名的标签（元素）即可</strong></p>
</li>
<li><p>组件的<strong>template模板</strong>会覆盖<code>&lt;button-counter&gt;&lt;/button-counter&gt;</code>标签</p>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920190813282.png" alt="&lt;button-counter&gt;组件"></p>
<center>图三</center>

<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920193503791.png" alt="image-20210920193503791"></p>
<center>图四</center>

<ul>
<li>图三即为组件在页面中实际显示效果，每点击一次，按钮中的数字就会加一</li>
<li>count即为data中定义的组件数据</li>
</ul>
<h4 id="2-1-1-组件占位符标签"><a href="#2-1-1-组件占位符标签" class="headerlink" title="2.1.1 组件占位符标签"></a>2.1.1 组件占位符标签</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;&#x27;组件名&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用component标签并<strong>绑定属性is</strong>，is属性的值为组件名（字符串格式的组件名）</li>
<li>对应的组件template模板将<strong>覆盖component标签</strong></li>
</ul>
<h3 id="2-2-组件的重用"><a href="#2-2-组件的重用" class="headerlink" title="2.2 组件的重用"></a>2.2 组件的重用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述组件<strong>使用了三次</strong>，在html文档中会<strong>创建三个元素</strong></p>
<p><u>并且上述三个组件的数据是独立的，它们都对count进行加一操作，但是各自的值互不影响</u></p>
<p>因为配置对象中的<strong>data属性为函数</strong>，所以每个组件实例的<strong>数据互相独立</strong></p>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920191643212.png" alt="image-20210920191643212"></p>
<center>图五</center>

<ul>
<li>图五中3个组件操作的均为count数据，但是三个组件中都使用独立的count数据，所以互不影响</li>
</ul>
<br>

<h3 id="2-3-组件注册注意事项"><a href="#2-3-组件注册注意事项" class="headerlink" title="2.3 组件注册注意事项"></a>2.3 组件注册注意事项</h3><h4 id="2-3-1-data的值为一个函数"><a href="#2-3-1-data的值为一个函数" class="headerlink" title="2.3.1 data的值为一个函数"></a>2.3.1 data的值为一个函数</h4><p>data的值为一个函数是为了<strong>保证每个组件的数据相互独立</strong></p>
<ul>
<li>相当于形成了<strong>闭包</strong></li>
</ul>
<p>注册组件时，当data的值不为函数时，浏览器会报错</p>
<h4 id="2-3-2-组件的模板内容template必须包含在一个根元素中"><a href="#2-3-2-组件的模板内容template必须包含在一个根元素中" class="headerlink" title="2.3.2 组件的模板内容template必须包含在一个根元素中"></a>2.3.2 组件的模板内容template必须包含在一个根元素中</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">template:<span class="string">&quot;&lt;button @click=&#x27;count++&#x27;&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;&lt;button&gt;测试&lt;/button&gt;&quot;</span>,</span><br></pre></td></tr></table></figure>

<p>如果template的内容如上，在浏览器会报错</p>
<ul>
<li>此时两个button为兄弟关系，没有包含在一个根元素中</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">template:<span class="string">&quot;&lt;div&gt;&lt;button @click=&#x27;count++&#x27;&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;&lt;button&gt;测试&lt;/button&gt;&lt;/div&gt;&quot;</span>,</span><br></pre></td></tr></table></figure>

<ul>
<li>此时使用div标签将两个button包裹，此时模板内容包含在一个根元素（div）中，不会报错</li>
</ul>
<br>

<p>对于Vue根实例来说，它的模板内容也是包含在一个根元素(<code>id=app</code>)中</p>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920193257616.png" alt="image-20210920193257616"></p>
<center>图六</center>

<ul>
<li>图六红框的el属性即指示Vue实例绑定的根元素，<strong>该Vue根实例模板内容都要写在该id值为app的根元素内部</strong></li>
</ul>
<br>

<h4 id="2-3-3-组件的模板内容可以使用模板字符串"><a href="#2-3-3-组件的模板内容可以使用模板字符串" class="headerlink" title="2.3.3 组件的模板内容可以使用模板字符串"></a>2.3.3 组件的模板内容可以使用模板字符串</h4><p>当template字段的内容过多时，一行长代码会降低代码的可读性</p>
<p>使用ES6的模板字符串可以<strong>实现字符串的换行</strong>，提高代码可读性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                     &lt;button @click=&#x27;count++&#x27;&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;</span></span><br><span class="line"><span class="string">                     &lt;button&gt;测试&lt;/button&gt;</span></span><br><span class="line"><span class="string">                   &lt;/div&gt;`</span>,</span><br></pre></td></tr></table></figure>

<h4 id="2-3-4-组件template模板绑定事件时可以使用处理函数"><a href="#2-3-4-组件template模板绑定事件时可以使用处理函数" class="headerlink" title="2.3.4 组件template模板绑定事件时可以使用处理函数"></a>2.3.4 组件template模板绑定事件时可以使用处理函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&#x27;count++&#x27;</span>&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>上述click点击事件的处理函数直接<strong>使用表达式替代</strong></p>
<ul>
<li>但处理内容多时，使用处理函数是更好的方式</li>
</ul>
<p>组件注册时，第二个参数中除了data和template字段外，还可以使用methods字段定义方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">template:<span class="string">&quot;&lt;button @click=&#x27;add&#x27;&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;&quot;</span>,</span><br><span class="line">methods:&#123;</span><br><span class="line">               add:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                   <span class="built_in">this</span>.count++</span><br><span class="line">               &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>上述代码就是用了methods字段中定义的add函数作为处理函数</li>
<li>注意在函数中使用组件数据时加上this指向</li>
</ul>
<br>

<h4 id="2-3-5-组件命名方式"><a href="#2-3-5-组件命名方式" class="headerlink" title="2.3.5 组件命名方式"></a>2.3.5 组件命名方式</h4><p>组件的命名方式有两种：</p>
<ul>
<li><strong>驼峰式</strong>：例如<code>HelloWorld</code></li>
<li><strong>短横线方式</strong>：例如<code>hello-world</code></li>
</ul>
<p><strong>驼峰式</strong>命名的组件直接在<strong>html文档</strong>中使用会报错，例如<code>&lt;helloWorld&gt;&lt;/helloWorld&gt;</code>会报错。</p>
<p><strong>短横线</strong>方式既可以在HTML文档中使用，也可以在组件template模板字符串中使用(作为嵌套组件使用)</p>
<ul>
<li>推荐组件都以<strong>短横线</strong>的方式命名</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HelloWorld组件</span></span><br><span class="line">      Vue.component(<span class="string">&#x27;HelloWorld&#x27;</span>,&#123;</span><br><span class="line">          data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="keyword">return</span> &#123;</span><br><span class="line">                  msg:<span class="string">&#x27;helloworld&#x27;</span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          template:<span class="string">`&lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;`</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">//button-counter组件</span></span><br><span class="line">      Vue.component(<span class="string">&#x27;button-counter&#x27;</span>,&#123;</span><br><span class="line">          data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="keyword">return</span> &#123;</span><br><span class="line">                  count:<span class="number">0</span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                      &lt;button @click=&#x27;count++&#x27;&gt;点击了&#123;&#123;count&#125;&#125;次&lt;/button&gt;</span></span><br><span class="line"><span class="string">                      &lt;button&gt;测试&lt;/button&gt;</span></span><br><span class="line"><span class="string">                      &lt;HelloWorld&gt;&lt;/HelloWorld&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;`</span></span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>上述代码中，<code>button-counter</code>组件注册中的template字段使用了<code>HelloWorld</code>组件</p>
<ul>
<li><p>因为<code>HelloWorld</code>组件作为<strong>全局组件定义</strong>，所以可以在其他组件中使用</p>
</li>
<li><p>此时驼峰命名的<code>HelloWorld</code>组件在模板内容字符串中使用，可以正常使用</p>
</li>
</ul>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920195440768.png" alt="image-20210920195440768"></p>
<center>图七</center>

<br>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 报错 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;HelloWorld&gt;&lt;/HelloWorld&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 正常显示 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello-world</span>&gt;</span><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>当直接在HTML文档中使用驼峰命名的组件时会<strong>报错</strong></p>
</li>
<li><p>使用短横线命名的组件<strong>正常</strong></p>
<ul>
<li><p>组件<strong>以驼峰命名方式注册时</strong>，在<strong>HTML文档中也可以用短横线方式使用</strong></p>
</li>
<li><p>注册时名为<code>HelloWorld</code>,使用时<code>&lt;hello-world&gt;</code>也可以匹配到<code>HelloWorld</code>组件</p>
</li>
</ul>
</li>
</ul>
<h3 id="2-4-局部组件注册"><a href="#2-4-局部组件注册" class="headerlink" title="2.4 局部组件注册"></a>2.4 局部组件注册</h3><p>组件注册分为局部组件和全局组件，上面使用<code>Vue.component()</code>方法注册的为全局组件</p>
<br>

<p>局部组件在另一个组件的<code>components</code>字段中注册</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;  </span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;&#125;,</span><br><span class="line"><span class="comment">//注册局部组件</span></span><br><span class="line">components:&#123;</span><br><span class="line">                <span class="string">&#x27;组件名&#x27;</span>:<span class="string">&#x27;组件配置对象&#x27;</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>组件名即为短横线方式的组件名</li>
<li>组件配置对象与<code>Vue.component()</code>全局注册方法的<strong>第二个参数相同</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;hello-world&gt;&lt;/hello-world&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//组件配置对象</span></span><br><span class="line"><span class="keyword">var</span> HelloWorld = &#123;</span><br><span class="line">            template:<span class="string">`&lt;div&gt;test&lt;/div&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;,</span><br><span class="line">    		<span class="comment">//定义局部组件</span></span><br><span class="line">            components:&#123;</span><br><span class="line">                <span class="comment">//组件名：组件配置对象</span></span><br><span class="line">                <span class="string">&#x27;hello-world&#x27;</span>:HelloWorld</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>当前名为<code>hello-world</code>的组件注册在<strong>组件vm（Vue根实例）</strong>中，此时<code>hello-world</code>组件<strong>只能在vm组件中使用</strong></li>
</ul>
<br>

<ul>
<li>当<code>hello-world</code>组件的<strong>父组件非vm时报错</strong>（超出局部组件使用范围）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;test-com&#x27;</span>,&#123;</span><br><span class="line">           <span class="comment">//hello-world作为test-com的子组件使用报错</span></span><br><span class="line">           template:<span class="string">`&lt;div&gt;&lt;hello-world&gt;&lt;/hello-world&gt;&lt;/div&gt;`</span></span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>上述代码<code>hello-world</code>局部组件超出使用范围（作为全局组件test-com的子组件使用）报错</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920204314281.png" alt="image-20210920204314281"></p>
<center>图八</center>

<h2 id="3-Vue调试工具"><a href="#3-Vue调试工具" class="headerlink" title="3. Vue调试工具"></a>3. Vue调试工具</h2><p>Vue组件使用后在浏览器控制台<strong>默认</strong>只能看到<strong>最后的结果</strong>（原生的DOM元素），不利于调试</p>
<p>在Chrome网上应用商店下载<code>Vue.js devtools</code>扩展程序</p>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920213313849.png" alt="image-20210920213313849"></p>
<center>图九</center>

<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920213358876.png" alt="image-20210920213358876"></p>
<center>图十</center>

<ul>
<li>在详情中开启红框所示选项</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920213501628.png" alt="image-20210920213501628"></p>
<center>图十一</center>

<ul>
<li>现在浏览器控制台出现Vue选项，选项中<strong>清晰的列出了Vue组件的层次结构</strong></li>
</ul>
<br>

<h2 id="4-组件间数据传递"><a href="#4-组件间数据传递" class="headerlink" title="4. 组件间数据传递"></a>4. 组件间数据传递</h2><h3 id="4-1-父组件向子组件传递数据"><a href="#4-1-父组件向子组件传递数据" class="headerlink" title="4.1 父组件向子组件传递数据"></a>4.1 父组件向子组件传递数据</h3><ol>
<li>父组件通过<strong>在子组件的HTML标签上设置属性</strong>进行数据传递（设置多个属性则传递多条数据）</li>
<li>子组件通过<code>props</code>字段接收父组件传递的数据<ul>
<li><code>props</code>字段<strong>值为一个数组</strong>，其中元素为<strong>父组件设置的属性名</strong></li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;item-menu title=<span class="string">&#x27;父组件传递给子组件数据&#x27;</span> :name=<span class="string">&#x27;name&#x27;</span>&gt;&lt;/item-menu&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">&#x27;item-menu&#x27;</span>,&#123;</span><br><span class="line">            props:[<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;name&#x27;</span>],</span><br><span class="line">            data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    msg:<span class="string">&#x27;子组件本身数据&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template:<span class="string">`&lt;div&gt;&#123;&#123;msg + &#x27;---&#x27; + title + &#x27;---&#x27; + name&#125;&#125;&lt;/div&gt;`</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                name:<span class="string">&#x27;父组件name数据&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>item-menu</code>作为vm组件的子组件</p>
</li>
<li><p>```<br><item-menu title='父组件传递给子组件数据' :name='name'></item-menu></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - &#96;title&#x3D;&#39;父组件传递给子组件数据&#39;&#96;和&#96;:name&#x3D;&#39;name&#39;&#96;即为vm组件向子组件传递的数据</span><br><span class="line"></span><br><span class="line">- &#96;&#96;&#96;js</span><br><span class="line">  props:[&#39;title&#39;,&#39;name&#39;]</span><br><span class="line">  template:&#96;&lt;div&gt;&#123;&#123;msg + &#39;---&#39; + title + &#39;---&#39; + name&#125;&#125;&lt;&#x2F;div&gt;&#96;</span><br></pre></td></tr></table></figure>

<ul>
<li>子组件通过<code>props</code>字段接收数据后在template使用</li>
</ul>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920215504245.png" alt="image-20210920215504245"></p>
<center>图十二</center>

<h4 id="4-1-1-传递静态数据"><a href="#4-1-1-传递静态数据" class="headerlink" title="4.1.1 传递静态数据"></a>4.1.1 传递静态数据</h4><p><code>title=&#39;父组件传递给子组件数据&#39;</code></p>
<h4 id="4-1-2-传递动态数据"><a href="#4-1-2-传递动态数据" class="headerlink" title="4.1.2 传递动态数据"></a>4.1.2 传递动态数据</h4><p><code>:name=&#39;name&#39;</code></p>
<ul>
<li><p>通过给子组件HTML标签进行<strong>属性绑定</strong>动态传递数据</p>
</li>
<li><p>name即为vm组件的<strong>模板数据</strong></p>
<ul>
<li>```js<pre><code>    data:&#123;
            name:&#39;父组件name数据&#39;
        &#125;
</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">#### 4.1.3 props字段命名规则</span><br><span class="line"></span><br><span class="line">1. 当**子组件标签在HTML文档中**，此时向子组件传递数据时**属性使用短横线命名方式**，子组件**仍使用驼峰接收**数据</span><br><span class="line">   - 浏览器**对于属性名大小写并不区分**</span><br><span class="line"></span><br><span class="line">2. 当子组件标签**在template字段的字符串中使用时**，使用驼峰命名没有影响</span><br><span class="line">   - 字符串中区分属性名大小写</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">&lt;u&gt;子组件标签在HTML文档中&lt;&#x2F;u&gt;</span><br><span class="line"></span><br><span class="line">- 向子组件传递数据时属性**使用短横线命名方式**</span><br><span class="line">- 子组件**接收时仍使用驼峰命名接收**</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line"> &lt;!-- 子组件标签在HTML文档时使用驼峰命名属性名容易导致错误 --&gt;</span><br><span class="line">&lt;item-menu titleOne&#x3D;&#39;父组件传递给子组件数据&#39;&gt;&lt;&#x2F;item-menu&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;接收驼峰命名的属性</span><br><span class="line">props:[&#39;titleOne&#39;],</span><br><span class="line">&#x2F;&#x2F;使用时titleOne为undefined，浏览器显示警告</span><br><span class="line">template:&#96;&lt;div&gt;&#123;&#123;msg + &#39;---&#39; + titleOne &#125;&#125;&lt;&#x2F;div&gt;&#96;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210920221950937.png" alt="image-20210920221950937"></p>
<center>图十三</center>

<ul>
<li>因为浏览器不区分标签的大小写，<code>titleOne</code>的属性名被转换为<code>titleone</code>，接收出错</li>
</ul>
<br>

<p><u>子组件标签在template字段字符串中</u></p>
<ul>
<li>使用驼峰命名属性没有影响</li>
</ul>
<br>

<h4 id="4-1-4-props字段属性值类型"><a href="#4-1-4-props字段属性值类型" class="headerlink" title="4.1.4 props字段属性值类型"></a>4.1.4 props字段属性值类型</h4><p>父组件向子组件传递的<strong>数据类型有</strong>：</p>
<ul>
<li>Number</li>
<li>String</li>
<li>Boolean</li>
<li>Array</li>
<li>Object</li>
</ul>
<p>当父组件向子组件传递数据时<strong>不使用属性绑定</strong>，则传递的<strong>任何数据都被接受为字符串String</strong></p>
<p><strong>使用属性绑定</strong>，传递的数据<strong>保持原有类型</strong></p>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;item-menu title-msg=<span class="string">&#x27;&#123;name:&quot;yang&quot;&#125;&#x27;</span>&gt;&lt;/item-menu&gt;</span><br><span class="line">template:<span class="string">`&lt;div&gt;&#123;&#123;msg + &#x27;---&#x27; + typeof titleMsg &#125;&#125;&lt;/div&gt;`</span></span><br></pre></td></tr></table></figure>

<ul>
<li>不使用属性绑定，传递的数据<code>titleMsg</code>被接受为字符串String</li>
</ul>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;item-menu :title-msg=<span class="string">&#x27;title&#x27;</span>&gt;&lt;/item-menu&gt;</span><br><span class="line">template:<span class="string">`&lt;div&gt;&#123;&#123;msg + &#x27;---&#x27; + typeof titleMsg &#125;&#125;&lt;/div&gt;`</span></span><br><span class="line"> <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                title:&#123;<span class="attr">name</span>:<span class="string">&quot;yang&quot;</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>使用属性绑定，<code>titleMsg</code>接受后仍为对象类型Object<ul>
<li><code>title</code>为vm组件的模板数据</li>
</ul>
</li>
</ul>
<br>

<h3 id="4-2-子组件向父组件传递数据"><a href="#4-2-子组件向父组件传递数据" class="headerlink" title="4.2 子组件向父组件传递数据"></a>4.2 子组件向父组件传递数据</h3><p>props字段的原则为<strong>单向数据传递</strong>，只能接受父组件给子组件传递的数据</p>
<br>

<h4 id="4-2-1-使用自定义事件"><a href="#4-2-1-使用自定义事件" class="headerlink" title="4.2.1 使用自定义事件"></a>4.2.1 使用自定义事件</h4><ul>
<li>子组件<strong>触发自定义事件</strong><ul>
<li><code>@click=&quot;$emit(&#39;change-font&#39;)&quot;</code> 点击后触发change-font事件</li>
<li><code>$emit()</code>触发自定义事件<ul>
<li><strong>第一个参数即为事件名</strong></li>
</ul>
</li>
</ul>
</li>
<li>父组件监听该<strong>自定义事件</strong>，使用处理函数获取子组件传递的值<ul>
<li>监听自定义事件<code>@change-font=&#39;change&#39;</code></li>
<li><code>change-font</code>事件触发时执行<code>change</code>处理函数</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span> style=<span class="string">&quot;font-size: 0px;&quot;</span>&gt;</span><br><span class="line">        &lt;div :style=<span class="string">&quot;&#123;fontSize:fontSize + &#x27;px&#x27;&#125;&quot;</span>&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;</span><br><span class="line">		&lt;!-- 监听自定义事件change-font的发生 --&gt;</span><br><span class="line">        &lt;item-menu :title-msg=<span class="string">&#x27;msg&#x27;</span> @change-font=<span class="string">&#x27;change&#x27;</span>&gt;&lt;/item-menu&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Vue.component(<span class="string">&#x27;item-menu&#x27;</span>,&#123;</span><br><span class="line">            props:[<span class="string">&#x27;titleMsg&#x27;</span>],</span><br><span class="line">            data:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    msg:<span class="string">&#x27;子组件本身数据&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                        &#123;&#123;msg&#125;&#125;</span></span><br><span class="line"><span class="string">						//设定自定义事件change-font</span></span><br><span class="line"><span class="string">                        &lt;button @click=&quot;$emit(&#x27;change-font&#x27;)&quot;&gt;修改父组件fontSize&lt;/button&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;`</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">                change:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="comment">//字体增大</span></span><br><span class="line">                    vm.fontSize+=<span class="number">5</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>每单击一次按钮，父组件第一个div中的字体就增大5px</li>
</ul>
<p><strong>注意：</strong></p>
<ul>
<li>HTML标签的style属性<strong>进行属性绑定时</strong>，值采取如下格式（对象）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:style=&quot;&#123;fontSize:fontSize + &#x27;px&#x27;&#125;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>font-size采取驼峰表示法为fontSize</li>
</ul>
<h4 id="4-2-2-子组件使用自定义事件传递数据"><a href="#4-2-2-子组件使用自定义事件传递数据" class="headerlink" title="4.2.2 子组件使用自定义事件传递数据"></a>4.2.2 子组件使用自定义事件传递数据</h4><ul>
<li><code>$emit()</code>方法的<strong>第二个参数</strong>即为<strong>子组件向父组件传递的数据</strong>(Number,String,Object等)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- $emit()第二个参数num即为子组件传递的数据--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;change-font&#x27;,num)&quot;</span>&gt;</span>修改父组件fontSize<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 父组件使用事件处理函数参数的形式接受子组件数据 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">item-menu</span> <span class="attr">:title-msg</span>=<span class="string">&#x27;msg&#x27;</span> @<span class="attr">change-font</span>=<span class="string">&#x27;change($event)&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">item-menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>@change-font=&#39;change($event)</code><ul>
<li><code>$event</code>为固定写法(<strong>只能接收一个参数</strong>)</li>
<li><code>$event</code>即为子组件传递来的数据</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">change:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">                   vm.fontSize+=val</span><br><span class="line">               &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>接受子组件传递的数据后修改父组件fontSize数据值</li>
</ul>
<br>

<h3 id="4-3-兄弟组件间传值"><a href="#4-3-兄弟组件间传值" class="headerlink" title="4.3 兄弟组件间传值"></a>4.3 兄弟组件间传值</h3><p>使用<strong>事件中心</strong>（一个Vue实例）的方式传值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//事件中心</span></span><br><span class="line"><span class="keyword">var</span> hub = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure>

<ul>
<li>事件中心实际就是一个<strong>全局的Vue实例组件</strong></li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210922103557235.png" alt="image-20210922103557235"></p>
<center>图十四</center>

<ul>
<li><p>通过<span style="color:red;">事件中心hub</span>进行<strong>自定义事件</strong>的监听和触发</p>
</li>
<li><p><strong>监听</strong>($on)：在接收数据的组件的<code>mounted</code>函数中使用</p>
<ul>
<li>```js<br>//在处理函数中接受兄弟组件传递的值<br>$on(‘自定义事件’,’处理函数’)        //注册（监听）事件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **触发**($emit)：在传递数据的组件中调用(通过&#96;@click&#96;的回调调用等)</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;</span><br><span class="line">    $emit(&#39;自定义事件&#39;,&#39;传递的值&#39;)	&#x2F;&#x2F;触发自定义事件</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                      &#123;&#123;num&#125;&#125;</span></span><br><span class="line"><span class="string">                      &lt;button @click=&#x27;handle&#x27;&gt;点击&lt;/button&gt;</span></span><br><span class="line"><span class="string">                  &lt;/div&gt;`</span>,</span><br><span class="line">          methods:&#123;</span><br><span class="line">              handle:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                  <span class="comment">//点击时触发自定义事件并传值</span></span><br><span class="line">                  hub.$emit(<span class="string">&#x27;two-change&#x27;</span>,<span class="number">2</span>)</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          mounted:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          	<span class="comment">//初始化完成后开始监听事件</span></span><br><span class="line">              hub.$on(<span class="string">&#x27;one-change&#x27;</span>,<span class="function">(<span class="params">val</span>)=&gt;</span>&#123;</span><br><span class="line">                  <span class="built_in">this</span>.num += val</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>上述代码为兄弟组件<code>item-one</code>的部分代码，在被点击时触发向<code>item-two</code>兄弟组件传值的事件<code>two-change</code></li>
<li>并在自己的mounted函数中监听<code>item-two</code>兄弟组件触发的自定义事件<code>one-change</code></li>
</ul>
<br>

<p>自定义事件通过<code>$off(&#39;自定义事件名&#39;)</code>进行销毁</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">des:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                  hub.$off(<span class="string">&#x27;two-change&#x27;</span>)</span><br><span class="line">                  hub.$off(<span class="string">&#x27;one-change&#x27;</span>)</span><br><span class="line">              &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>执行上述函数即销毁了两个传值的自定义函数</li>
</ul>
<br>

<h3 id="4-4-组件插槽"><a href="#4-4-组件插槽" class="headerlink" title="4.4 组件插槽"></a>4.4 组件插槽</h3><p>组件插槽(<code>slot</code>)可以<strong>接收组件使用时传递来的值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    	<span class="comment">//使用时传递的值 &#x27;一个错误&#x27;</span></span><br><span class="line">        &lt;alert-box&gt;一个错误&lt;/alert-box&gt;</span><br><span class="line">        &lt;alert-box&gt;一个警告&lt;/alert-box&gt;</span><br><span class="line">        &lt;alert-box&gt;&lt;/alert-box&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">&#x27;alert-box&#x27;</span>,&#123;</span><br><span class="line">    		<span class="comment">//slot即为插槽 &#x27;一个错误&#x27;等内容会覆盖对应的slot插槽</span></span><br><span class="line">            template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                        &lt;strong&gt;Error:&lt;/strong&gt;</span></span><br><span class="line"><span class="string">                        &lt;slot&gt;默认内容&lt;/slot&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;`</span>,</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>使用子组件时，在<strong>子组件标签中填充内容</strong></li>
<li>填充的内容会被<strong>子组件模板中的固定标签slot接受</strong>（覆盖slot标签）</li>
<li>slot标签就称为<strong>组件插槽</strong>，可以接受向子组件标签填充的内容<ul>
<li>当<strong>有填充内容</strong>时，slot标签中<strong>原本的内容被覆盖</strong></li>
<li>若<strong>没有填充内容</strong>，则<strong>显示slot标签原本的内容</strong></li>
</ul>
</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210922105448642.png" alt="image-20210922105448642"></p>
<center>图十五</center>

<h4 id="4-4-1-具名插槽用法"><a href="#4-4-1-具名插槽用法" class="headerlink" title="4.4.1 具名插槽用法"></a>4.4.1 具名插槽用法</h4><p>向子组件填充插槽内容时，可以<strong>使用slot属性指定插入哪个插槽中</strong></p>
<p>子组件给slot标签设定name属性可以<strong>定义多个具名插槽</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> &lt;alert-box&gt;</span><br><span class="line">            &lt;p slot=<span class="string">&#x27;header&#x27;</span>&gt;header&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;main&lt;/p&gt;</span><br><span class="line">            &lt;p slot=<span class="string">&#x27;footer&#x27;</span>&gt;footer&lt;/p&gt;</span><br><span class="line">&lt;/alert-box&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                        &lt;header&gt;</span></span><br><span class="line"><span class="string">                            &lt;slot name=&#x27;header&#x27;&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">                        &lt;/header&gt;</span></span><br><span class="line"><span class="string">                        &lt;main&gt;</span></span><br><span class="line"><span class="string">                            &lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">                        &lt;/main&gt;</span></span><br><span class="line"><span class="string">                        &lt;footer&gt;    </span></span><br><span class="line"><span class="string">                            &lt;slot name=&#x27;footer&#x27;&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">                        &lt;/footer&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;`</span>,</span><br></pre></td></tr></table></figure>

<p><code>&lt;p slot=&#39;header&#39;&gt;header&lt;/p&gt;</code>即用这个p标签<strong>覆盖name为header的slot插槽</strong></p>
<p>当填充插槽时<strong>不使用slot属性指定名称</strong>，则<strong>覆盖默认的slot标签</strong></p>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210922111030038.png" alt="image-20210922111030038"></p>
<center>图十六</center>

<br>

<p>使用<code>template</code>标签<strong>包裹填充内容</strong>可以<strong>向一个插槽填充多条内容</strong></p>
<p><span style="color:red">注意：</span>使用template时，<strong>即使template内容为空</strong>，<strong>slot插槽也不会显示默认内容(此时以空白填充slot)</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;alert-box&gt;</span><br><span class="line">          &lt;template slot=<span class="string">&quot;header&quot;</span>&gt;</span><br><span class="line">              &lt;p&gt;header1&lt;/p&gt;</span><br><span class="line">              &lt;p&gt;header2&lt;/p&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;p&gt;main&lt;/p&gt;</span><br><span class="line">          &lt;p slot=<span class="string">&#x27;footer&#x27;</span>&gt;footer&lt;/p&gt;</span><br><span class="line">      &lt;/alert-box&gt;</span><br></pre></td></tr></table></figure>

<p><code>&lt;template slot=&quot;header&quot;&gt;</code> ：将此标签中的内容填充到name为header的插槽中</p>
<ul>
<li><strong>一次填充两个p标签</strong>到name为header的插槽中</li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20210922111546791.png" alt="image-20210922111546791"></p>
<center>图十七</center>

<br>

<h4 id="4-4-2-作用域插槽"><a href="#4-4-2-作用域插槽" class="headerlink" title="4.4.2 作用域插槽"></a>4.4.2 作用域插槽</h4><p><strong>插槽工作原理：</strong>将<code>template</code>的内容插入到<code>slot</code>处 (使用<code>template</code>的内容来覆盖<code>slot</code>)</p>
<p><strong>作用域插槽：</strong><code>slot</code>可以向<code>template</code>传值(<code>slot</code>标签通过属性绑定传值，<code>template</code>标签通过<code>slot-scope</code>接收)</p>
<ul>
<li>目的：<span style="color:red;">根据slot插槽传递的值自定义template填充内容</span></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">alert-box</span> <span class="attr">:list</span>=<span class="string">&#x27;list&#x27;</span>&gt;</span></span><br><span class="line">    		//slot-scope接收slot传递的对象</span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&#x27;slotinfo&#x27;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 向传递info.id = 1的slot插槽填充strong标签 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">strong</span> <span class="attr">v-if</span>=<span class="string">&#x27;slotinfo.info.id == 1&#x27;</span> <span class="attr">class</span>=<span class="string">&quot;current&quot;</span>&gt;</span>&#123;&#123;slotinfo.info.name&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 向其他slot插槽填充span标签 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>&#123;&#123;slotinfo.info.name&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alert-box</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//子组件模板</span><br><span class="line">template:`<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">:key</span>=<span class="string">&#x27;item.id&#x27;</span> <span class="attr">v-for</span>=<span class="string">&#x27;item in list&#x27;</span>&gt;</span></span><br><span class="line">                    //向template传递一个名为info的值 所有值被统一包裹为对象后传递</span><br><span class="line">					<span class="tag">&lt;<span class="name">slot</span> <span class="attr">:info</span>=<span class="string">&#x27;item&#x27;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span><br><span class="line"></span><br><span class="line">	//父组件数据</span><br><span class="line">	data:&#123;</span><br><span class="line">                list:[&#123;</span><br><span class="line">                    id:1,</span><br><span class="line">                    name:&#x27;apple&#x27;</span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:2,</span><br><span class="line">                    name:&#x27;pear&#x27;</span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:3,</span><br><span class="line">                    name:&#x27;orange&#x27;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>

<p><code>&lt;slot :info=&#39;item&#39;&gt;&#123;&#123;item.name&#125;&#125;&lt;/slot&gt;</code></p>
<ul>
<li>slot插槽将<span style="color:red"><code>&#123;info:item&#125;</code></span>传递给<code>template</code></li>
</ul>
<p><code>&lt;template slot-scope=&#39;slotinfo&#39;&gt;</code></p>
<ul>
<li>template接收传递的值，<code>slotinfo = &#123;info:item&#125;</code></li>
</ul>
<br>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&#x27;slotinfo&#x27;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">strong</span> <span class="attr">v-if</span>=<span class="string">&#x27;slotinfo.info.id == 1&#x27;</span> <span class="attr">class</span>=<span class="string">&quot;current&quot;</span>&gt;</span></span><br><span class="line">                    &#123;&#123;slotinfo.info.name&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>父组件通过template标签的 <strong>固定属性</strong><code>slot-scope</code>接受<code>slot</code>传递的值</p>
</li>
<li><p>上述<code>template</code>中对于<code>slot</code>传递来的item数据</p>
<ul>
<li><p>若<code>item.id === 1</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 向传递info.id = 1的slot插槽填充strong标签 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">&quot;current&quot;</span>&gt;</span></span><br><span class="line">	&#123;&#123;slotinfo.info.name&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>则上述标签覆盖到slot插槽处</p>
</li>
<li><p>若<code>item.id !== 1</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 向其他slot插槽填充span标签 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>&#123;&#123;slotinfo.info.name&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将上述标签覆盖到slot处</p>
</li>
</ul>
<br></li>
</ul>
<p><img data-src="/images/03-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/image-20220423230723538.png" alt="image-20220423230723538"></p>
<center>图十八</center>

<ul>
<li>第一个<code>li</code>中的插槽由<code>template</code>内容覆盖，<strong>字体加粗颜色为红色</strong>。</li>
<li>后续<code>li</code>中的插槽显示<code>item.name</code></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/" class="post-title-link" itemprop="url">05-Vue前后端交互</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:35:07" itemprop="dateModified" datetime="2022-07-12T07:35:07+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue前后端交互"><a href="#Vue前后端交互" class="headerlink" title="Vue前后端交互"></a>Vue前后端交互</h1><p>浏览器通过<strong>调用后台接口获取数据</strong>后<strong>在前端进行渲染</strong></p>
<h2 id="1-接口调用方式"><a href="#1-接口调用方式" class="headerlink" title="1. 接口调用方式"></a>1. 接口调用方式</h2><p>向服务器<strong>发起请求的方式</strong></p>
<ul>
<li>原生<code>ajax</code></li>
<li><code>jQuery</code>的<code>ajax</code></li>
<li><code>fetch</code>：标准化组织制定的新规则，可以理解为<code>ajax</code>的升级版</li>
<li><code>axios</code>：第三方库，基于<code>ajax</code>，更加方便的调用接口</li>
</ul>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210923153138393.png" alt="image-20210923153138393"></p>
<center>图一</center>

<h2 id="2-URL地址格式"><a href="#2-URL地址格式" class="headerlink" title="2. URL地址格式"></a>2. URL地址格式</h2><p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210923153350428.png" alt="image-20210923153350428"></p>
<center>图二</center>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210923153441636.png" alt="image-20210923153441636"></p>
<center>图三</center>

<ul>
<li>Restful形式的URL<strong>与请求方式密切相关</strong>（同样的URL，不同的请求方式，是两个请求）</li>
<li>Restful形式的URL，请求参数<strong>直接以’/‘分隔后加在url末尾</strong></li>
<li><code>nodejs</code>在后台接收 Restful URL的请求时，用<code>req.params.&#39;属性名&#39;</code>获取请求参数</li>
</ul>
<h2 id="3-Promise对象"><a href="#3-Promise对象" class="headerlink" title="3. Promise对象"></a>3. Promise对象</h2><p>多次异步编程，<strong>不能保证结果返回的顺序</strong></p>
<p>如果要求顺序，就要使用<strong>回调函数嵌套的方式</strong></p>
<p>这种方式嵌套层数多时，会导致代码可读性下降，维护困难，造成<strong>回调地狱的问题</strong></p>
<br>

<p><strong>Promise的提出就是为了解决上述回调地狱问题</strong></p>
<ul>
<li><p>Promise是异步编程的一种解决方案</p>
</li>
<li><p>Promise是一个对象，有简洁的API来控制异步操作，获取结果和处理错误等</p>
</li>
</ul>
<h2 id="4-基于Promise对象处理Ajax请求"><a href="#4-基于Promise对象处理Ajax请求" class="headerlink" title="4. 基于Promise对象处理Ajax请求"></a>4. 基于Promise对象处理Ajax请求</h2><p>原本的Ajax请求是异步操作，若需要多个异步AJax请求顺序返回结果，使用回调函数嵌套会<strong>引起回调地狱问题</strong></p>
<p>使用Promise对象包裹异步Ajax请求，使用Promise的<code>.then</code>方法按顺序发起ajax请求</p>
<ul>
<li>这样在多个ajax请求需要顺序执行时，可以<strong>链式调用.then方法</strong>，避免了回调地狱，提升程序可读性</li>
</ul>
<br>

<h3 id="4-1-promise对象处理一个ajax请求"><a href="#4-1-promise对象处理一个ajax请求" class="headerlink" title="4.1 promise对象处理一个ajax请求"></a>4.1 promise对象处理一个ajax请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseAjax</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//返回一个Promise对象</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">//在promise对象中进行异步AJAX请求</span></span><br><span class="line">                <span class="keyword">var</span> XHR = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">                XHR.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(XHR.readyState != <span class="number">4</span>) <span class="keyword">return</span></span><br><span class="line">                    <span class="keyword">if</span>(XHR.status == <span class="number">200</span>)&#123;</span><br><span class="line">                        resolve(XHR.responseText)	<span class="comment">//成功</span></span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        reject(<span class="string">&#x27;出错&#x27;</span>)	<span class="comment">//失败</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                XHR.open(<span class="string">&#x27;get&#x27;</span>,url)</span><br><span class="line">                XHR.send(<span class="literal">null</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//通过promise对象的.then方法处理异步AJAX请求的结果或者错误信息</span></span><br><span class="line">        promiseAjax(<span class="string">&#x27;http://localhost/data&#x27;</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;,<span class="function">(<span class="params">info</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(info);</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>promiseAjax函数返回一个promise对象，</p>
<ul>
<li><p>该promise对象<strong>状态变为成功时</strong>（调用resolve函数），成功回调函数<strong>接受服务器端传来的数据并处理</strong></p>
</li>
<li><p>该promise对象<strong>状态变为失败时</strong>（调用reject函数），失败回调函数<strong>接受错误信息并处理</strong></p>
</li>
</ul>
</li>
<li><p><code>.then</code>方法的第一个参数为成功回调函数，第二个参数为失败回调函数</p>
</li>
</ul>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924111144099.png" alt="image-20210924111144099"></p>
<center>图四</center>

<ul>
<li>图四即为服务器端将状态码手动设置为404时，<ul>
<li>promise对象调用<code>reject(&#39;错误&#39;)</code>后<strong>经错误回调函数处理后的结果</strong></li>
</ul>
</li>
</ul>
<h3 id="4-2-promise对象处理多个AJAX请求顺序返回结果"><a href="#4-2-promise对象处理多个AJAX请求顺序返回结果" class="headerlink" title="4.2 promise对象处理多个AJAX请求顺序返回结果"></a>4.2 promise对象处理多个AJAX请求顺序返回结果</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">promiseAjax(<span class="string">&#x27;http://localhost/data&#x27;</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello data</span></span><br><span class="line">                <span class="keyword">return</span> promiseAjax(<span class="string">&#x27;http://localhost/data1&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">			<span class="comment">//对上一个.then方法返回的promise对象调用.then方法</span></span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello data1</span></span><br><span class="line">                <span class="keyword">return</span> promiseAjax(<span class="string">&#x27;http://localhost/data2&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello data2</span></span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>此处删除了错误回调函数方便观察</p>
</li>
<li><p>在上一个<code>.then</code>方法的成功回调函数中<strong>再次调用promiseAjax函数并将其返回值return</strong></p>
</li>
<li><p>下一个<code>.then</code>方法对前面返回的promise对象调用(处理第二个ajax请求的结果)</p>
</li>
<li><p>这样通过<strong>3个.then方法链式调用</strong>就完成了三个ajax请求顺序返回结果</p>
</li>
</ul>
<p style="color:red;">将回调函数嵌套转换为.then方法的链式调用</p>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924112213973.png" alt="image-20210924112213973"></p>
<center>图五</center>

<p>图五即为三个ajax请求顺序返回结果</p>
<br>

<h2 id="5-promise对象-then方法返回值问题"><a href="#5-promise对象-then方法返回值问题" class="headerlink" title="5. promise对象.then方法返回值问题"></a>5. promise对象.then方法返回值问题</h2><p>.then方法可以有两种返回值：</p>
<ul>
<li>promise对象</li>
<li>普通数据类型</li>
</ul>
<h3 id="5-1-上一个-then返回promise对象"><a href="#5-1-上一个-then返回promise对象" class="headerlink" title="5.1 上一个.then返回promise对象"></a>5.1 上一个.then返回promise对象</h3><p>此时<strong>下一个.then就在返回的promise对象上调用</strong>，处理该promise对象中异步操作的结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">promiseAjax(<span class="string">&#x27;http://localhost/data&#x27;</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	</span><br><span class="line">                <span class="keyword">return</span> promiseAjax(<span class="string">&#x27;http://localhost/data1&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">			<span class="comment">//对上一个.then方法返回的promise对象调用.then方法</span></span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;	<span class="comment">//data即为上一个返回的promise对象中异步操作的结果</span></span><br><span class="line">                <span class="built_in">console</span>.log(data);	</span><br><span class="line">                <span class="keyword">return</span> promiseAjax(<span class="string">&#x27;http://localhost/data2&#x27;</span>)</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>上述代码<strong>第二个.then</strong>中成功回调函数的参数<strong>data</strong><ul>
<li>即为上一个返回的promise对象（<code>promiseAjax(&#39;http://localhost/data1&#39;)</code>）中异步操作的结果</li>
</ul>
</li>
</ul>
<h3 id="5-2-上一个-then返回普通数据类型"><a href="#5-2-上一个-then返回普通数据类型" class="headerlink" title="5.2 上一个.then返回普通数据类型"></a>5.2 上一个.then返回普通数据类型</h3><p>此时下一个.then方法会<strong>将这个普通数据类型包裹为promise对象</strong>并在其上调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">promiseAjax(<span class="string">&#x27;http://localhost/data&#x27;</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello data</span></span><br><span class="line">                <span class="keyword">return</span> promiseAjax(<span class="string">&#x27;http://localhost/data1&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello data1</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">123</span>	<span class="comment">//返回普通数据类型</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;	<span class="comment">//data即为上个.then返回的普通数据类型</span></span><br><span class="line">                <span class="built_in">console</span>.log(data); <span class="comment">//123</span></span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>上述第二个.then返回普通数据类型 <code>123</code></li>
<li>第三个.then在<strong>被promise对象包裹的 123</strong> 上调用，此时成功回调函数的<strong>参数data即接收 普通数据类型</strong> <code>123</code></li>
</ul>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924113915375.png" alt="image-20210924113915375"></p>
<center>图六</center>

<h2 id="6-promise对象常用API-实例方法"><a href="#6-promise对象常用API-实例方法" class="headerlink" title="6. promise对象常用API (实例方法)"></a>6. promise对象常用API (实例方法)</h2><p>首先使用<code>console.dir(Promise)</code>查看Promise对象</p>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924150401787.png" alt="image-20210924150401787"></p>
<center>图七</center>

<p>红框标注的方法在<code>Promise.prototype</code>下，属于Promise<strong>对象实例的方法</strong></p>
<br>

<ul>
<li><strong>then</strong>：获取异步操作的<strong>正确结果或者错误信息</strong><ul>
<li>第一个参数为成功回调函数</li>
<li>第二个参数为失败回调函数（可选）</li>
</ul>
</li>
<li><strong>catch</strong>：获取异步操作的<strong>错误信息</strong><ul>
<li>参数为失败回调函数（与then方法第二个参数相同）</li>
</ul>
</li>
<li><strong>finally</strong>：无论成功与否都会执行<ul>
<li>promise对象<strong>无论成功与否</strong>，都会在最后执行finally方法的回调函数</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseAjax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="comment">//返回一个Promise对象</span></span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">               <span class="comment">//延时1s后返回promise对象结果</span></span><br><span class="line">               <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                   <span class="comment">// resolve(&#x27;123&#x27;)	//成功时异步操作结果为&#x27;123&#x27;</span></span><br><span class="line">                   reject(<span class="string">&#x27;Error&#x27;</span>)		<span class="comment">//失败时错误信息为&#x27;Error&#x27;</span></span><br><span class="line">               &#125;, <span class="number">1000</span>)</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">       promiseAjax()</span><br><span class="line">           .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(data);	<span class="comment">//输出成功时的结果 &#x27;123&#x27;</span></span><br><span class="line">           &#125;)</span><br><span class="line">           .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">               <span class="built_in">console</span>.log(err);	<span class="comment">//输出错误信息&#x27;Error&#x27;</span></span><br><span class="line">           &#125;)</span><br><span class="line">           .finally(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(<span class="string">&#x27;finished&#x27;</span>);	<span class="comment">//无论成功与否都会输出&#x27;finished&#x27;</span></span><br><span class="line">           &#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924132853216.png" alt="image-20210924132853216"></p>
<center>图八</center>

<ul>
<li>图七即为异步操作失败后<strong>调用catch方法输出 ‘Error’</strong> </li>
<li>然后<strong>调用finally方法输出 ‘finished’</strong></li>
</ul>
<br>

<h2 id="7-Promise对象常用API（对象方法）"><a href="#7-Promise对象常用API（对象方法）" class="headerlink" title="7. Promise对象常用API（对象方法）"></a>7. Promise对象常用API（对象方法）</h2><p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924150617500.png" alt="image-20210924150617500"></p>
<center>图九</center>

<p>红框标注的<code>all</code>和<code>race</code>方法都是<strong>Promise对象</strong>下的方法</p>
<p>这样的方法称为<strong>对象方法（静态方法）</strong></p>
<p>直接使用Promise对象调用</p>
<h3 id="7-1-all方法"><a href="#7-1-all方法" class="headerlink" title="7.1 all方法"></a>7.1 all方法</h3><p><code>Promise.all(&#39;Array&#39;)</code>    并发处理多个异步任务</p>
<ul>
<li>参数为一个<strong>元素为Promise实例对象的数组</strong></li>
<li>返回值为一个新的Promise对象</li>
<li>当数组中<strong>所有promise实例都返回正确结果时</strong>，all方法返回的新promise对象<strong>状态变为成功</strong><ul>
<li>新Promise对象then方法的成功回调函数<strong>接受一个数组作为参数</strong></li>
<li>数组元素为<strong>每一个promise实例的正确结果</strong>（顺序与Array中相同）</li>
</ul>
</li>
<li>当数组中有一个promise对象错误，则新promise对象状态变为错误，并将数组中首个出错promise对象的错误信息作为自己的错误信息</li>
</ul>
<h3 id="7-2-race方法"><a href="#7-2-race方法" class="headerlink" title="7.2 race方法"></a>7.2 race方法</h3><p><code>Promise.race(&#39;Array&#39;)</code>    并发处理多个异步任务</p>
<ul>
<li>参数与all方法相同</li>
<li>当数组中<strong>有一个promise实例成功时，新promise对象立即成功</strong>，并将首个成功promise实例的结果作为新promise对象成功的结果</li>
<li>当数组有一个promise实例错误时，与all方法执行同样操作</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              resolve(<span class="string">&#x27;HelloWorld&#x27;</span>)</span><br><span class="line">          &#125;, <span class="number">1000</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              resolve(<span class="string">&#x27;Hello Tom&#x27;</span>)</span><br><span class="line">          &#125;, <span class="number">2000</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">var</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              resolve(<span class="string">&#x27;Hello Jerry&#x27;</span>)</span><br><span class="line">          &#125;, <span class="number">3000</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">//所有promise对象都返回结果后 新promise成功</span></span><br><span class="line">      <span class="built_in">Promise</span>.all([p1,p2,p3])</span><br><span class="line">          .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(data);	</span><br><span class="line">          &#125;)</span><br><span class="line"><span class="comment">//只要有一个成功返回 新pormise实例立即成功</span></span><br><span class="line">      <span class="built_in">Promise</span>.race([p1,p2,p3])</span><br><span class="line">          .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(data);</span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924150819517.png" alt="image-20210924150819517"></p>
<center>图十</center>

<ul>
<li>因为race方法返回的promise实例在第数组一个实例成功后就立即成功</li>
<li>所以race方法结果打印在all方法之前</li>
</ul>
<br>

<h2 id="8-fetch-API-接口调用"><a href="#8-fetch-API-接口调用" class="headerlink" title="8. fetch API 接口调用"></a>8. fetch API 接口调用</h2><h3 id="8-1-fetch-API概述"><a href="#8-1-fetch-API概述" class="headerlink" title="8.1 fetch API概述"></a>8.1 fetch API概述</h3><ul>
<li><strong>提供了一个获取资源的接口</strong>：更加简单的数据获取方式，功能更强大，更灵活，可以看作是<strong>普通Ajax的升级版</strong></li>
<li><strong>基于Promise实现</strong></li>
<li>标准化组织制定的新规则，<strong>内置对象</strong></li>
<li>返回值为promise对象</li>
</ul>
<h3 id="8-2-语法结构"><a href="#8-2-语法结构" class="headerlink" title="8.2 语法结构"></a>8.2 语法结构</h3><p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924153158556.png" alt="image-20210924153158556"></p>
<center>图十一</center>

<h3 id="8-3-使用fetch-API-简单实例"><a href="#8-3-使用fetch-API-简单实例" class="headerlink" title="8.3 使用fetch API 简单实例"></a>8.3 使用fetch API 简单实例</h3><p><code>fetch(&#39;url&#39;).then().catch()</code></p>
<ul>
<li>传入一个url作为参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;http://localhost/fetchdata&#x27;</span>)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">    			<span class="comment">//获取服务器传来的数据</span></span><br><span class="line">                <span class="built_in">console</span>.log(data);	<span class="comment">//hello fetch</span></span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>上述代码向<code>&#39;http://localhost/fetchdata&#39;</code>发送请求</p>
</li>
<li><p>第一个then方法中data并不是获取的数据，<code>data.text()</code>方法返回一个promise实例</p>
<ul>
<li>text()方法是<strong>属于fetch的方法</strong></li>
</ul>
</li>
<li><p>第二个then方法才能获取到服务器发来的数据</p>
</li>
</ul>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924153543646.png" alt="image-20210924153543646"></p>
<center>图十二</center>

<br>

<h3 id="8-4-fetch-配置选项"><a href="#8-4-fetch-配置选项" class="headerlink" title="8.4 fetch 配置选项"></a>8.4 fetch 配置选项</h3><p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924154338161.png" alt="image-20210924154338161"></p>
<center>图十三</center>

<ul>
<li>fetch方法的第二个参数为一个对象，<strong>对象中属性为配置项</strong></li>
</ul>
<h3 id="8-5-fetch-请求参数"><a href="#8-5-fetch-请求参数" class="headerlink" title="8.5 fetch 请求参数"></a>8.5 fetch 请求参数</h3><h4 id="8-5-1-GET-请求参数"><a href="#8-5-1-GET-请求参数" class="headerlink" title="8.5.1 GET 请求参数"></a>8.5.1 GET 请求参数</h4><p><strong>使用传统url方式传参</strong></p>
<ul>
<li>请求参数直接使用<code>?</code>接在URL后面</li>
<li>服务器后台程序接受参数使用<code>req.query.&#39;参数名&#39;</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;http://localhost/fetchdata?id=123&#x27;</span>,&#123;</span><br><span class="line">            method:<span class="string">&#x27;get&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/fetchdata&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;传统URL传参:&#x27;</span>+ req.query.id)	<span class="comment">//传统URL传参:123</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<br>

<p><strong>使用Restful url方式传参</strong></p>
<ul>
<li>请求参数以<code>&#39;/&#39;</code>隔开接在URL后面（不需要设定参数名字）</li>
<li>接受请求参数时在中间件地址参数最后加上 <code>/:&#39;参数名&#39;</code><ul>
<li>参数名自定义</li>
<li>使用<code>req.params.&#39;参数名&#39;</code>获取对应请求参数</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;http://localhost/fetchdata/456&#x27;</span>,&#123;</span><br><span class="line">            method:<span class="string">&#x27;get&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/fetchdata/:id&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">        res.send(<span class="string">&#x27;Restful URL传参:&#x27;</span>+ req.params.id)	<span class="comment">//Restful URL传参:456</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<br>

<h4 id="8-5-2-DELETE-请求参数"><a href="#8-5-2-DELETE-请求参数" class="headerlink" title="8.5.2 DELETE 请求参数"></a>8.5.2 DELETE 请求参数</h4><p>DELETE是删除请求</p>
<p>DELETE请求方式传参与GET方式类似</p>
<ul>
<li>仍使用restful URL传参 (传统URL传参方式与GET请求也相同)</li>
<li>method配置项设置为<code>&#39;delete&#39;</code></li>
<li>接受时使用<code>app.delete()</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;http://localhost/fetchdata/789&#x27;</span>,&#123;</span><br><span class="line">            method:<span class="string">&#x27;delete&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">app.delete(<span class="string">&#x27;/fetchdata/:id&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;DELETE请求传参:&#x27;</span>+ req.params.id)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="8-5-3-POST请求参数"><a href="#8-5-3-POST请求参数" class="headerlink" title="8.5.3 POST请求参数"></a>8.5.3 POST请求参数</h4><ul>
<li>post请求参数写在body配置项中</li>
<li>请求参数的格式可以为<ul>
<li>普通字符串    <code>&quot;name=zhangsan&amp;age=20&quot;</code></li>
<li>JSON对象   <code>&#123;name:&#39;lisi&#39;,age:30&#125;</code><ul>
<li>JSON对象格式的参数在传递时要转换为JSON字符串传送</li>
</ul>
</li>
</ul>
</li>
<li>post请求使用body配置项传递参数时，<strong>必须</strong>使用headers配置项<strong>设定content-type请求头字段</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//POST请求 普通字符串传参</span></span><br><span class="line">      fetch(<span class="string">&#x27;http://localhost/fetchdata&#x27;</span>,&#123;</span><br><span class="line">          method:<span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">          <span class="comment">//普通字符串参数</span></span><br><span class="line">          body:<span class="string">&quot;uname=zhagsan&amp;age=20&quot;</span>,</span><br><span class="line">          headers:&#123;</span><br><span class="line">              <span class="comment">//设定请求头content-type字段</span></span><br><span class="line">              <span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="keyword">return</span> data.text()</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(data);</span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>

<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//POST请求 JSON对象传参</span></span><br><span class="line">        fetch(<span class="string">&#x27;http://localhost/fetchdata&#x27;</span>,&#123;</span><br><span class="line">            method:<span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="comment">//传递时转化为JSON字符串</span></span><br><span class="line">            body:<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">                uname:<span class="string">&#x27;lisi&#x27;</span>,</span><br><span class="line">                age:<span class="number">30</span></span><br><span class="line">            &#125;),</span><br><span class="line">            headers:&#123;</span><br><span class="line">                <span class="comment">//content-type字段设置为json</span></span><br><span class="line">                <span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<br>

<p>服务端接受请求参数时使用 node的<code>第三方模块 body-parser</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//接收以json格式和普通字符串格式传递的post参数</span></span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;<span class="attr">extended</span>:<span class="literal">false</span>&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用req.body.&#x27;参数名&#x27; 接受POST请求参数</span></span><br><span class="line">app.post(<span class="string">&#x27;/fetchdata&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;POST请求传参:&#x27;</span>+ req.body.uname + <span class="string">&#x27;-------&#x27;</span> + req.body.age)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<br>

<h4 id="8-5-4-PUT-请求参数"><a href="#8-5-4-PUT-请求参数" class="headerlink" title="8.5.4 PUT 请求参数"></a>8.5.4 PUT 请求参数</h4><p>PUT是修改请求</p>
<p>PUT请求参数的设置方式与POST类似</p>
<ul>
<li>唯一不同的是PUT请求是<strong>修改请求</strong>，需要传递<strong>修改数据的id</strong></li>
<li>id可以通过URL传递</li>
<li>服务端接受body配置项的参数时，也可以接受url中的参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PUT修改请求 需要传递待修改数据的id</span></span><br><span class="line">        fetch(<span class="string">&#x27;http://localhost/fetchdata/?id=1&#x27;</span>,&#123;	<span class="comment">//id=1</span></span><br><span class="line">            method:<span class="string">&#x27;put&#x27;</span>,</span><br><span class="line">            body:<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">                uname:<span class="string">&#x27;lisi&#x27;</span>,</span><br><span class="line">                age:<span class="number">30</span></span><br><span class="line">            &#125;),</span><br><span class="line">            headers:&#123;</span><br><span class="line">                <span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<br>

<h3 id="8-6-fetch-响应结果"><a href="#8-6-fetch-响应结果" class="headerlink" title="8.6 fetch 响应结果"></a>8.6 fetch 响应结果</h3><p>使用fetch API向后台发送请求时</p>
<ul>
<li>后台可以返回<strong>普通字符串</strong>或者<strong>JSON对象格式</strong>的数据</li>
<li>fetch API使用<code>.then</code>方法处理后台响应的数据时<ul>
<li><code>text()</code>方法将数据转换为<strong>普通字符串</strong></li>
<li><code>json()</code>方法将数据转换为<strong>JSON对象格式</strong>（相当于使用<code>JSON.parse()</code>）</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        fetch(<span class="string">&#x27;http://localhost/fetchResponse&#x27;</span>,&#123;</span><br><span class="line">            method:<span class="string">&#x27;get&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> data.text()  <span class="comment">//将响应数据转换为字符串类型</span></span><br><span class="line">            	<span class="comment">//return data.json() //将响应数据转换为JSON对象类型</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);			<span class="comment">//&quot;&#123;name:&#x27;yang&#x27;,age:20&#125;&quot; 或 &#123;name:&#x27;yang&#x27;,age:20&#125;</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">typeof</span> data);   <span class="comment">//String 或 Object</span></span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/fetchResponse&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//服务器响应JSON对象格式数据，传送时转换为JSON字符串传送</span></span><br><span class="line">    res.send(&#123;</span><br><span class="line">        name:<span class="string">&#x27;yang&#x27;</span>,</span><br><span class="line">        age:<span class="number">20</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924170522698.png" alt="image-20210924170522698"></p>
<center>图十四</center>

<ul>
<li>图十四即为将响应数据使用<code>text()</code>方法<strong>转换为字符串后的输出结果</strong></li>
</ul>
<br>

<h2 id="9-axios-API接口调用"><a href="#9-axios-API接口调用" class="headerlink" title="9. axios API接口调用"></a>9. axios API接口调用</h2><p>axios是一个基于Promise对象 用于浏览器和node.js的HTTP客户端</p>
<p>第三方库 通过<code>script</code>标签引入，比fetch的功能更强大</p>
<p>特征：</p>
<ul>
<li>支持<strong>浏览器和Nodejs</strong></li>
<li><strong>基于promise</strong></li>
<li>能拦截请求和响应</li>
<li>自动转换JSON数据</li>
<li>返回值为promise对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入axios库</span></span><br><span class="line">&lt;script src=<span class="string">&quot;./js/axios.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用axios API发送GET请求</span></span><br><span class="line">axios.get(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>)</span><br><span class="line">			<span class="comment">//使用then方法处理异步操作结果</span></span><br><span class="line">            .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(res);</span><br><span class="line">                <span class="built_in">console</span>.log(res.data);</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924200701733.png" alt="image-20210924200701733"></p>
<center>图十五</center>

<ul>
<li><code>axios API</code> 异步操作成功时结果为<strong>一个对象（res）</strong>（对象中记录了请求和响应的相关信息）</li>
<li>对象中的<strong>data属性</strong>为服务端返回的数据</li>
</ul>
<br>

<h3 id="9-1-axios-请求参数传递"><a href="#9-1-axios-请求参数传递" class="headerlink" title="9.1 axios 请求参数传递"></a>9.1 axios 请求参数传递</h3><p>axios有四个常用API，分别对应四种HTTP请求方式</p>
<ul>
<li><code>axios.get()</code></li>
<li><code>axios.delete()</code></li>
<li><code>axios.post()</code></li>
<li><code>axios.put()</code></li>
</ul>
<h4 id="9-1-1-GET和DELETE请求参数传递"><a href="#9-1-1-GET和DELETE请求参数传递" class="headerlink" title="9.1.1 GET和DELETE请求参数传递"></a>9.1.1 GET和DELETE请求参数传递</h4><p>GET和DELETE请求参数传递方法类似</p>
<ul>
<li>使用URL传递：与<strong>fetch API的传递方式相同</strong><ul>
<li>传统URL</li>
<li>Restful URL</li>
</ul>
</li>
</ul>
<br>

<ul>
<li>使用<code>params</code>配置项传递<ul>
<li><code>axios.get</code>方法<strong>第二个参数配置对象</strong>中使用<strong>params属性</strong>传递GET或DELETE请求参数</li>
<li>服务端接受<code>params</code>配置项传递的参数使用<code>req.query.&#39;属性名&#39;</code></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>,&#123;</span><br><span class="line">			<span class="comment">//params配置项传递参数</span></span><br><span class="line">            params:&#123;</span><br><span class="line">                name:<span class="string">&#x27;yang&#x27;</span>,</span><br><span class="line">                age:<span class="number">20</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(res);</span><br><span class="line">                <span class="built_in">console</span>.log(res.data);</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/axiosdata&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;GET请求参数:&#x27;</span>+req.query.name+<span class="string">&#x27;----&#x27;</span>+req.query.age)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924204045271.png" alt="image-20210924204045271"></p>
<center>图十六</center>

<br>

<h4 id="9-1-2-POST和PUT请求参数传递"><a href="#9-1-2-POST和PUT请求参数传递" class="headerlink" title="9.1.2 POST和PUT请求参数传递"></a>9.1.2 POST和PUT请求参数传递</h4><p>POST和PUT请求参数传递方法<strong>类似</strong></p>
<p>post请求参数有<strong>两种方式传递</strong></p>
<ul>
<li><p>使用对象传递参数：通过<code>axios.post()</code>方法第二个参数传递</p>
<ul>
<li>第二个参数<strong>对象中直接写请求参数</strong></li>
<li>这种方法传递的是<strong>JSON对象格式的请求参数</strong><ul>
<li>服务端需要提前设置接受JSON对象格式的参数</li>
</ul>
</li>
</ul>
</li>
<li><p>通过<code>URLSearchParams</code>对象的实例对象传递</p>
<ul>
<li>向实例中添加属性（属性即为请求参数）</li>
<li>最后将实例作为<code>axios.post()</code>的第二个参数</li>
<li>传递的是<strong>字符串类型的请求参数</strong></li>
</ul>
</li>
</ul>
<p>服务器端使用<code>req.body.&#39;属性名&#39;</code>接受请求参数()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.使用选项传递参数</span></span><br><span class="line">axios.post(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>,&#123;	<span class="comment">//第二个参数对象中直接写请求参数</span></span><br><span class="line">                name:<span class="string">&#x27;yang&#x27;</span>,</span><br><span class="line">                age:<span class="number">20</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(res);</span><br><span class="line">                <span class="built_in">console</span>.log(res.data);</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.使用URLSearchParams对象的实例对象传递</span></span><br><span class="line">		<span class="keyword">var</span> params = <span class="keyword">new</span> URLSearchParams()</span><br><span class="line">        <span class="comment">//给params实例添加属性（请求参数）</span></span><br><span class="line">        params.append(<span class="string">&#x27;name&#x27;</span>,<span class="string">&quot;xiao&quot;</span>)</span><br><span class="line">        params.append(<span class="string">&#x27;age&#x27;</span>,<span class="number">30</span>)</span><br><span class="line">		<span class="comment">//params作为API第二个参数</span></span><br><span class="line">        axios.post(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>,params)</span><br><span class="line">            .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(res);</span><br><span class="line">                <span class="built_in">console</span>.log(res.data);</span><br><span class="line">            &#125;)    </span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/axiosdata&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;POST请求参数:&#x27;</span>+req.body.name+<span class="string">&#x27;----&#x27;</span>+req.body.age)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924210152233.png" alt="image-20210924210152233"></p>
<center>图十七</center>

<p>图十七，使用原生对象方式传递post请求参数时<strong>格式为JSON对象</strong></p>
<br>

<h3 id="9-2-axios响应结果"><a href="#9-2-axios响应结果" class="headerlink" title="9.2 axios响应结果"></a>9.2 axios响应结果</h3><p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924210639384.png" alt="image-20210924210639384"></p>
<center>图十八</center>

<p><code>axios API</code> 接受服务器响应数据为一个对象，对象中常用属性如下</p>
<ul>
<li><strong>data</strong>：服务器返回的数据</li>
<li><strong>status</strong>：HTTP响应状态码</li>
<li><strong>headers</strong>：响应头中的字段</li>
<li><strong>statusText</strong>：响应状态码文字说明</li>
</ul>
<p>当服务端响应的数据为JSON对象格式时，axios会<strong>自动进行格式转换</strong>（不需要手动将JSON字符串转换为JSON对象）</p>
<p>接受的data属性即为JS对象，可以直接获取对象中的属性</p>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924211334446.png" alt="image-20210924211334446"></p>
<center>图十九</center>

<h3 id="9-3-axios的全局配置"><a href="#9-3-axios的全局配置" class="headerlink" title="9.3 axios的全局配置"></a>9.3 axios的全局配置</h3><ul>
<li><p><code>axios.defaults.timeout = &#39;时间&#39;</code></p>
<ul>
<li>超出设定的时间服务器还没有响应就认为请求出错</li>
</ul>
</li>
<li><p><code>axios.defaults.baseURL = &#39;url&#39;</code></p>
<ul>
<li>设置默认基准URL</li>
<li>调用axios方法发送请求时，第一个参数(url)<strong>若简写</strong>，则会<strong>自动在前方拼接基准URL</strong></li>
</ul>
</li>
<li><p><code>axios.defaults.headers[&#39;请求头名&#39;] = ’值‘</code></p>
<ul>
<li>设定请求头中的字段</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置基准URL</span></span><br><span class="line">      axios.defaults.baseURL = <span class="string">&#x27;http://localhost/&#x27;</span></span><br><span class="line">      <span class="comment">//添加请求头字段</span></span><br><span class="line">      axios.defaults.headers[<span class="string">&#x27;mytoken&#x27;</span>] = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="comment">//简写URL 自动拼接基准URL</span></span><br><span class="line">      axios.get(<span class="string">&#x27;axiosdata&#x27;</span>)</span><br><span class="line">          .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(res.data);</span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924212353264.png" alt="image-20210924212353264"></p>
<center>图二十</center>

<ul>
<li>图二十红框即为添加的请求头字段<ul>
<li>添加请求头字段时若请求发生跨域，要允许新增的请求头字段跨域</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//允许mytoken请求头字段跨域传送</span></span><br><span class="line">res.header(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>,<span class="string">&#x27;mytoken&#x27;</span>)</span><br></pre></td></tr></table></figure>

<br>

<h3 id="9-4-axios拦截器"><a href="#9-4-axios拦截器" class="headerlink" title="9.4 axios拦截器"></a>9.4 axios拦截器</h3><p>axios拦截器分为两种</p>
<ul>
<li><strong>请求拦截器</strong>：在请求发送前修改请求</li>
<li><strong>响应拦截器</strong>：在客户端接受响应数据前修改数据</li>
</ul>
<p><img data-src="/images/05-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/image-20210924213909471.png" alt="image-20210924213909471"></p>
<center>图二十一</center>

<ul>
<li>图二十一为请求拦截器图示，响应拦截器类似</li>
</ul>
<br>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//处理请求</span></span><br><span class="line">	<span class="keyword">return</span> config</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>上述方法定义axios请求拦截器，响应拦截器将 <code>request</code> 换成 <code>response</code><ul>
<li>方法传递<strong>两个函数作为参数</strong><ul>
<li>第一个函数中处理请求或者响应数据（参数即为请求或者响应对象）<ul>
<li>第一个函数最后要<strong>将处理后的请求或数据返回</strong></li>
<li>返回值才是<code>axios API</code><strong>真正发送的请求或者接受的数据</strong></li>
</ul>
</li>
<li>第二个函数为错误处理函数</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//请求拦截器 在请求发送前进行操作</span></span><br><span class="line">      axios.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">          <span class="comment">//输出url</span></span><br><span class="line">          <span class="built_in">console</span>.log(config.url);</span><br><span class="line">          <span class="comment">//增加请求头字段</span></span><br><span class="line">          config.headers[<span class="string">&#x27;mytoken&#x27;</span>] = <span class="string">&#x27;nihao&#x27;</span></span><br><span class="line">          <span class="comment">//return 后修改生效</span></span><br><span class="line">          <span class="keyword">return</span> config</span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(err);</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//响应拦截器</span></span><br><span class="line">      axios.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">          <span class="comment">//在客户端接受响应数据前 提取出响应对象中的data</span></span><br><span class="line">          <span class="keyword">return</span> res.data</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      axios.get(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>)</span><br><span class="line">          .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(res);	<span class="comment">//直接输出响应数据（响应拦截器提取了数据）</span></span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>拦截器相对于全局配置可以<strong>更方便</strong>的对于<strong>特定请求或者响应</strong>进行处理</li>
</ul>
<br>

<h2 id="10-async-await-接口调用"><a href="#10-async-await-接口调用" class="headerlink" title="10. async/await 接口调用"></a>10. async/await 接口调用</h2><p>async/await 是ES7提出的异步编程<strong>进一步的解决方案</strong></p>
<p>相对于promise对象可以更加方便的处理异步操作</p>
<ul>
<li>await会<span style="color:red">阻塞当前的异步函数</span>，等待await后的promise正确返回或者发生错误再继续执行<ul>
<li>保证多个异步操作的执行顺序</li>
</ul>
</li>
</ul>
<p><strong>可以将异步操作写成同步的形式</strong></p>
<ul>
<li>异步函数返回值为promise对象<ul>
<li><strong>当retrun一个非promise对象时，会被包裹为promise对象返回</strong></li>
</ul>
</li>
<li>await只能在异步函数中使用<ul>
<li>await 后跟一个promise对象时<ul>
<li>若promise状态变为成功，则<strong>提取</strong>promise对象中异步操作的<strong>正确结果</strong></li>
<li>若promise状态变为错误，则<strong>程序终止报错</strong> 错误信息为promise对象的错误信息</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接在异步函数中处理异步操作结果</span></span><br><span class="line">      <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">          <span class="comment">//直接获取promise对象中异步操作成功的结果</span></span><br><span class="line">          <span class="comment">//res即为服务端响应的数据对象</span></span><br><span class="line">          <span class="keyword">let</span> res = <span class="keyword">await</span> axios.get(url)</span><br><span class="line">          <span class="built_in">console</span>.log(res);</span><br><span class="line">          <span class="built_in">console</span>.log(res.data);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将异步操作的结果返回 使用then方法处理结果</span></span><br><span class="line">      <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">let</span> res = <span class="keyword">await</span> axios.get(url)</span><br><span class="line">          <span class="keyword">return</span> res	<span class="comment">//res被包裹为promise对象</span></span><br><span class="line">      &#125;</span><br><span class="line">      send(<span class="string">&#x27;http://localhost/axiosdata&#x27;</span>)</span><br><span class="line">      .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res.data);</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/20/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/20/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/" class="post-title-link" itemprop="url">07-Vue前端路由</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-20 18:36:19" itemprop="dateCreated datePublished" datetime="2021-09-20T18:36:19+08:00">2021-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-12 07:35:18" itemprop="dateModified" datetime="2022-07-12T07:35:18+08:00">2022-07-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue前端路由"><a href="#Vue前端路由" class="headerlink" title="Vue前端路由"></a>Vue前端路由</h1><h2 id="1-路由"><a href="#1-路由" class="headerlink" title="1. 路由"></a>1. 路由</h2><p>路由的本质是<strong>对应关系</strong></p>
<p>路由分为<strong>前端路由</strong>和<strong>后端路由</strong></p>
<h3 id="1-1-后端路由"><a href="#1-1-后端路由" class="headerlink" title="1.1 后端路由"></a>1.1 后端路由</h3><p>后端路由：根据不同的请求URL，服务器端返回不同的资源</p>
<p><strong>本质</strong>：<strong>URL请求地址</strong>与<strong>服务器资源</strong>的对应关系</p>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926161658262.png" alt="image-20210926161658262"></p>
<center>图一</center>

<h3 id="1-2-SPA"><a href="#1-2-SPA" class="headerlink" title="1.2 SPA"></a>1.2 SPA</h3><ul>
<li><strong>后端渲染</strong>：使用后端路由进行<strong>后端渲染</strong>存在<strong>性能问题</strong>：频繁提交表单时，页面会频繁刷新影响用户体验</li>
<li><strong>Ajax前端渲染</strong>：可以局部刷新页面，提高了性能（但是不支持浏览器前进后退操作）</li>
</ul>
<p><strong>SPA</strong>(<u>Single Page Application</u>)：单页面应用程序，<strong>整个网站只有一个页面</strong>，内容变化通过前端路由<strong>切换组件</strong>实现，同时支持浏览器的前进后退操作。(解决了Ajax前端渲染的缺点)</p>
<ul>
<li>SPA路由实现原理之一：<span style="color:red">基于URL地址的hash值路由（锚链接）</span><ul>
<li>hash的变化会导致浏览器<strong>访问历史的变化</strong>，但是<strong>不会触发新HTTP请求</strong></li>
</ul>
</li>
<li>SPA核心的技术点就是<strong>前端路由</strong><ul>
<li><u>基于URL地址的hash</u> 是<strong>最常见的前端路由实现方案</strong></li>
<li>另一个前端路由方案：基于H5 <code>historyAPI</code>的路由</li>
</ul>
</li>
</ul>
<br>

<h3 id="1-3-前端路由"><a href="#1-3-前端路由" class="headerlink" title="1.3 前端路由"></a>1.3 前端路由</h3><ul>
<li>单页面应用中<strong>对于多个组件切换管理的需求</strong>催生了<strong>前端路由</strong></li>
</ul>
<p><strong>前端路由：</strong>根据不同用户事件<strong>修改路由路径</strong>，显示不同的页面内容(通过<strong>切换组件</strong>显示不同的视图)</p>
<p>本质：<strong>路由路径</strong>与<strong>组件</strong>的对应关系</p>
<ul>
<li>通过用户事件修改路径，根据路径渲染不同的组件</li>
</ul>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926162728869.png" alt="image-20210926162728869"></p>
<center>图二</center>

<ul>
<li>前端路由负责事件监听，触发事件后通过事件处理函数<strong>修改路径以渲染不同组件内容</strong></li>
</ul>
<br>

<h3 id="1-4-Vue前端路由简单使用"><a href="#1-4-Vue前端路由简单使用" class="headerlink" title="1.4 Vue前端路由简单使用"></a>1.4 Vue前端路由简单使用</h3><p>使用<strong>基于URL地址的hash</strong>实现前端路由</p>
<ul>
<li>通过点击4个a标签修改hash值</li>
<li>hash值改变触发<code>window.onhashchange</code>事件</li>
<li>在事件处理函数中根据hash值修改html页面中使用的<strong>组件</strong>，以此实现页面局部刷新</li>
</ul>
<p><code>location.hash</code>可以获取当前的hash值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    	<span class="comment">&lt;!-- #/zhuye即为hash值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/zhuye&quot;</span>&gt;</span>主页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/caijing&quot;</span>&gt;</span>财经<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/tiyu&quot;</span>&gt;</span>体育<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/junshi&quot;</span>&gt;</span>军事<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- comName为存储组件名的变量 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&#x27;comName&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                comName:<span class="string">&#x27;zhuye&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            components:&#123;</span><br><span class="line">                zhuye,</span><br><span class="line">                caijing,</span><br><span class="line">                tiyu,</span><br><span class="line">                junshi</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">		<span class="comment">//hash值改变事件</span></span><br><span class="line">        <span class="built_in">window</span>.onhashchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//打印hash值</span></span><br><span class="line">            <span class="built_in">console</span>.log(location.hash);</span><br><span class="line">            <span class="comment">//获取hash值</span></span><br><span class="line">            <span class="keyword">let</span> hash = location.hash</span><br><span class="line">            <span class="keyword">switch</span>(hash.slice(<span class="number">1</span>))&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/zhuye&#x27;</span>:</span><br><span class="line">                    <span class="comment">//修改comName数据的值</span></span><br><span class="line">                    vm.comName = <span class="string">&#x27;zhuye&#x27;</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/caijing&#x27;</span>:</span><br><span class="line">                    vm.comName = <span class="string">&#x27;caijing&#x27;</span></span><br><span class="line">                    <span class="keyword">break</span>    </span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/tiyu&#x27;</span>:</span><br><span class="line">                    vm.comName = <span class="string">&#x27;tiyu&#x27;</span></span><br><span class="line">                    <span class="keyword">break</span>   </span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/junshi&#x27;</span>:</span><br><span class="line">                    vm.comName = <span class="string">&#x27;junshi&#x27;</span></span><br><span class="line">                <span class="keyword">break</span>   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926170719277.png" alt="image-20210926170719277"></p>
<center>图三</center>

<p>图三中<strong>红框即为hash值(锚链接)</strong></p>
<br>

<h2 id="2-Vue-Router"><a href="#2-Vue-Router" class="headerlink" title="2. Vue Router"></a>2. Vue Router</h2><p>Vue Router是Vue.js<strong>官方的路由管理器</strong></p>
<p>可以方便的应用于SPA应用程序的开发</p>
<h3 id="2-1-功能"><a href="#2-1-功能" class="headerlink" title="2.1 功能"></a>2.1 功能</h3><ul>
<li><p>支持HTML5历史模式(<code>history API</code>)和<u>hash模式(锚链接)</u></p>
</li>
<li><p>支持嵌套路由</p>
</li>
<li><p>支持路由参数</p>
</li>
<li><p>支持编程式路由</p>
</li>
<li><p>支持命名路由</p>
</li>
</ul>
<h3 id="2-2-基本使用样例"><a href="#2-2-基本使用样例" class="headerlink" title="2.2 基本使用样例"></a>2.2 基本使用样例</h3><p><strong>使用步骤：</strong></p>
<ul>
<li>引入<code>vue-router.js</code>库文件</li>
<li>添加路由链接 (router-link)</li>
<li>添加路由填充位（router-view）</li>
<li>配置路由规则并创建路由实例（<code>new VueRouter</code>）</li>
<li>把路由实例挂载在Vue根实例中</li>
</ul>
<br>

<h4 id="2-2-1-引入库文件"><a href="#2-2-1-引入库文件" class="headerlink" title="2.2.1 引入库文件"></a>2.2.1 引入库文件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Vue router 在 vue后引入 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/vue-router.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Vue Router依赖于Vue.js</li>
</ul>
<br>

<h4 id="2-2-2-添加路由链接和填充位"><a href="#2-2-2-添加路由链接和填充位" class="headerlink" title="2.2.2 添加路由链接和填充位"></a>2.2.2 添加路由链接和填充位</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 添加路由链接 --&gt;</span><br><span class="line">        &lt;router-link to=<span class="string">&#x27;/user&#x27;</span>&gt;User&lt;/router-link&gt;</span><br><span class="line">        &lt;router-link to=<span class="string">&#x27;/register&#x27;</span>&gt;Register&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 添加路由填充位 --&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<center>添加路由链接和填充位</center>

<ul>
<li><p>路由链接使用<code>&lt;router-link&gt;</code>标签，此标签在解析时会<strong>被解析为a标签</strong>，<strong>to属性会被解析为href属性</strong></p>
<ul>
<li>to属性的值即为URL中的锚链接（解析为href属性后**自动在前方拼接”#”**）</li>
</ul>
</li>
<li><p>路由占位符<code>&lt;route-view&gt;</code>在对应路由触发时会<strong>被组件template字段覆盖</strong></p>
</li>
</ul>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926195654336.png" alt="image-20210926195654336"></p>
<center>图四</center>

<br>

<h4 id="2-2-3-创建组件-创建路由实例并配置路由规则"><a href="#2-2-3-创建组件-创建路由实例并配置路由规则" class="headerlink" title="2.2.3 创建组件 创建路由实例并配置路由规则"></a>2.2.3 创建组件 创建路由实例并配置路由规则</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由组件</span></span><br><span class="line">      <span class="keyword">var</span> user = &#123;</span><br><span class="line">          template:<span class="string">&#x27;&lt;h1&gt;User&lt;/h1&gt;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> register = &#123;</span><br><span class="line">          template:<span class="string">&#x27;&lt;h1&gt;Register&lt;/h1&gt;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//创建路由实例配置路由规则</span></span><br><span class="line">      <span class="keyword">var</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">          routes:[&#123;</span><br><span class="line">              path:<span class="string">&#x27;/user&#x27;</span>,<span class="attr">component</span>:user</span><br><span class="line">          &#125;,&#123;</span><br><span class="line">              path:<span class="string">&#x27;/register&#x27;</span>,<span class="attr">component</span>:register</span><br><span class="line">          &#125;]</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>路由组件中包含将要填充到<code>&lt;router-view&gt;</code>的html代码段</li>
<li>创建路由实例使用<code>Vue-Router.js</code>提供的构造函数 <code>VueRouter</code><ul>
<li><code>VueRouter</code>构造函数<strong>接受一个对象</strong>作为配置项</li>
<li>配置对象中routes为配置数组<ul>
<li>数组中每个对象即为一条<strong>路由规则</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>路由规则</strong>对象两个属性：</p>
<ul>
<li>path：<strong>锚链接(hash)<strong>或者</strong>history 路径</strong></li>
<li>component：路由组件</li>
</ul>
<br>

<h4 id="2-2-4-路由实例挂载在Vue根实例中"><a href="#2-2-4-路由实例挂载在Vue根实例中" class="headerlink" title="2.2.4 路由实例挂载在Vue根实例中"></a>2.2.4 路由实例挂载在Vue根实例中</h4><p>路由实例挂载与data同级</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;,</span><br><span class="line">    		<span class="comment">//挂载路由实例	</span></span><br><span class="line">            router:router</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>在Vue根实例的<strong>router选项上挂载</strong></li>
</ul>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926200606243.png" alt="image-20210926200606243"></p>
<center>图五</center>

<p>图五即为最终效果，点击User或者Register <strong>a标签</strong>，下方的标题文字变换</p>
<br>

<h3 id="2-3-路由重定向"><a href="#2-3-路由重定向" class="headerlink" title="2.3 路由重定向"></a>2.3 路由重定向</h3><p>页面打开时默认的锚链接为**#/**</p>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926201046355.png" alt="image-20210926201046355"></p>
<p>路由重定向：在访问一个路由时<strong>强制跳转到另一个路由</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由实例配置路由规则</span></span><br><span class="line">        <span class="keyword">var</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">            routes:[&#123;</span><br><span class="line">                <span class="comment">//路由重定向</span></span><br><span class="line">                path:<span class="string">&#x27;/&#x27;</span>,<span class="attr">redirect</span>:<span class="string">&#x27;/user&#x27;</span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                path:<span class="string">&#x27;/user&#x27;</span>,<span class="attr">component</span>:user</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                path:<span class="string">&#x27;/register&#x27;</span>,<span class="attr">component</span>:register</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p>在<strong>routes路由规则中</strong>添加路由重定向规则</p>
<p><code>path</code>即为访问的原路由，<code>redirect</code>为重定向到的路由</p>
<p>此时页面打开时默认访问<code>#/</code>路由后重定向到<code>#/user</code>路由</p>
<br>

<h3 id="2-4-路由嵌套"><a href="#2-4-路由嵌套" class="headerlink" title="2.4 路由嵌套"></a>2.4 路由嵌套</h3><p>在<strong>父级组件中</strong>可以<strong>设置路由占位符</strong>实现路由嵌套</p>
<ul>
<li>在register<strong>父级组件的template字段</strong>中进行<strong>子级路由链接和填充位的设置</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> register = &#123;</span><br><span class="line">           template:<span class="string">`</span></span><br><span class="line"><span class="string">               &lt;div&gt;</span></span><br><span class="line"><span class="string">                   &lt;h1&gt;Register&lt;/h1&gt;</span></span><br><span class="line"><span class="string">                   &lt;hr/&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                   &lt;router-link to=&#x27;/register/tab1&#x27;&gt;tab1&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">                   &lt;router-link to=&#x27;/register/tab2&#x27;&gt;tab2&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">                   &lt;br&gt;</span></span><br><span class="line"><span class="string">                   &lt;router-view/&gt;</span></span><br><span class="line"><span class="string">               &lt;/div&gt;    </span></span><br><span class="line"><span class="string">               `</span></span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>创建子路由匹配的组件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子路由组件</span></span><br><span class="line">        <span class="keyword">var</span> tab1 = &#123;</span><br><span class="line">            template:<span class="string">&#x27;&lt;span&gt;tab1&lt;/span&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> tab2 = &#123;</span><br><span class="line">            template:<span class="string">&#x27;&lt;span&gt;tab2&lt;/span&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>子路由规则在父路由规则对象的<code>children</code>属性数组中定义</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">            routes:[&#123;</span><br><span class="line">                path:<span class="string">&#x27;/&#x27;</span>,<span class="attr">redirect</span>:<span class="string">&#x27;/user&#x27;</span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                path:<span class="string">&#x27;/user&#x27;</span>,<span class="attr">component</span>:user</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                <span class="comment">//子路由规则在父路由规则的children数组中设置</span></span><br><span class="line">                path:<span class="string">&#x27;/register&#x27;</span>,<span class="attr">component</span>:register,<span class="attr">children</span>:[&#123;</span><br><span class="line">                    <span class="comment">//子路由path要拼接父路由path</span></span><br><span class="line">                    path:<span class="string">&#x27;/register/tab1&#x27;</span>,<span class="attr">component</span>:tab1</span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    path:<span class="string">&#x27;/register/tab2&#x27;</span>,<span class="attr">component</span>:tab2</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926202914732.png" alt="image-20210926202914732"></p>
<center>图六</center>

<ul>
<li>图六红框即为register父级路由中的子路由组件渲染结果</li>
</ul>
<br>

<h3 id="2-5-动态路由匹配"><a href="#2-5-动态路由匹配" class="headerlink" title="2.5 动态路由匹配"></a>2.5 动态路由匹配</h3><p>当有多个相似路由时（例如多个路由有一部分相同，id值动态变化），此时一条条设定路由规则明显不合适</p>
<p>可以使用<strong>路由参数</strong>完成动态路由匹配</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--三条部分相同的路由链接--&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/user/1&#x27;</span>&gt;User1&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/user/2&#x27;</span>&gt;User2&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/user/3&#x27;</span>&gt;User3&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//路由规则中使用路由参数动态匹配</span></span><br><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//路由组件中获取路由参数</span></span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">            template:<span class="string">&#x27;&lt;h1&gt;User----id:&#123;&#123;$route.params.id&#125;&#125;&lt;/h1&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<br>

<p><strong>路由参数</strong>：在路由规则对象的path属性末尾加上 <code>/:&#39;参数名&#39;</code></p>
<ul>
<li><p>参数名自定义 </p>
</li>
<li><p>上述代码的<code>/user/1 or 2 or 3</code>三条路由链接都将会匹配这条规则<code>&#123;path:&#39;/user/:id&#39;,component:user&#125;</code></p>
</li>
<li><p>在路由组件中可以通过<code>$route.params.’参数名‘</code>，<strong>获取路由中的参数值</strong></p>
</li>
</ul>
<p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926205305355.png" alt="image-20210926205305355"></p>
<center>图七</center>

<br>

<h3 id="2-6-向路由组件传递参数"><a href="#2-6-向路由组件传递参数" class="headerlink" title="2.6 向路由组件传递参数"></a>2.6 向路由组件传递参数</h3><p>2.5中可以使用<code>$route</code>将动态路由参数传递给路由组件</p>
<p>但是这种方式不够灵活，只能传递动态的路由参数，不能传递静态参数</p>
<p><strong>使用props属性可以更灵活的进行参数传递</strong></p>
<ul>
<li><strong>路由规则</strong>中使用<strong>props属性定义要传递的参数</strong></li>
<li><strong>路由组件</strong>中使用<strong>props属性数组接受参数</strong></li>
</ul>
<br>

<h4 id="2-6-1-props属性值为布尔值"><a href="#2-6-1-props属性值为布尔值" class="headerlink" title="2.6.1 props属性值为布尔值"></a>2.6.1 props属性值为布尔值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">var</span> user = &#123;</span><br><span class="line">        	<span class="comment">//路由组件使用props属性接受params参数</span></span><br><span class="line">            props:[<span class="string">&#x27;id&#x27;</span>],</span><br><span class="line">            template:<span class="string">&#x27;&lt;h1&gt;User----id:&#123;&#123;id&#125;&#125;&lt;/h1&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//true代表将params参数传递给路由对应组件的props 此处id为params参数</span></span><br><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user,<span class="attr">props</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>可以更方便的传递<code>params</code>参数，组件中使用<code>props</code>获取<code>params</code>参数</li>
<li>(替代了<code>$route.params.&#39;...&#39;</code>的方式)</li>
</ul>
<br>

<h4 id="2-6-2-props属性为对象"><a href="#2-6-2-props属性为对象" class="headerlink" title="2.6.2 props属性为对象"></a>2.6.2 props属性为对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> props:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>],</span><br><span class="line"> template:<span class="string">&#x27;&lt;h1&gt;User----name:&#123;&#123;name&#125;&#125;----age:&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//props为对象</span></span><br><span class="line">path:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user,<span class="attr">props</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>组件通过<code>props</code>接收路由规则设置的参数name和age</li>
<li>组件接收<strong>动态参数id</strong>时仍然使用<code>$route.params.id</code></li>
</ul>
<br>

<h4 id="2-6-3-props属性为函数"><a href="#2-6-3-props属性为函数" class="headerlink" title="2.6.3 props属性为函数"></a>2.6.3 props属性为函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">props:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;id&#x27;</span>],</span><br><span class="line">template:<span class="string">&#x27;&lt;h1&gt;User----name:&#123;&#123;name&#125;&#125;----age:&#123;&#123;age&#125;&#125;----id:&#123;&#123;id&#125;&#125;&lt;/h1&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//props属性为函数</span></span><br><span class="line">path:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user,<span class="attr">props</span>: <span class="function"><span class="params">route</span> =&gt;</span> (&#123;<span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">id</span>:route.params.id&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>props属性为<strong>函数</strong><ul>
<li>接收<code>$route</code>作为参数，<code>$route.params</code> 和 <code>$route.query</code>可以接收<code>params</code>和<code>query</code>类型的参数</li>
</ul>
</li>
<li>函数返回一个对象，<strong>该对象即为传递给组件props的数据</strong><ul>
<li><p style="color:red;">该对象使用`()`包裹</p></li>
</ul>
</li>
<li>这种方式既可以传递<strong>静态路由参数</strong>(name,age)还可以传递<strong>动态路由参数(id等)</strong></li>
</ul>
<br>

<h4 id="2-6-4-路由传参的几种方式"><a href="#2-6-4-路由传参的几种方式" class="headerlink" title="2.6.4 路由传参的几种方式"></a>2.6.4 路由传参的几种方式</h4><p><strong>1. router-link标签的to属性通过<code>restfulURL</code>传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由规则</span></span><br><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user&#125;</span><br><span class="line"><span class="comment">//路由链接 传递id = 1 id为params参数</span></span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/user/1&#x27;</span>&gt;User1&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<p><strong>2. 通过在路由规则设置对象类型的props传参</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//props即为参数 此处为静态参数</span></span><br><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/user/:id&#x27;</span>,<span class="attr">component</span>:user,<span class="attr">props</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;yx&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    		<span class="comment">//prop接收参数name,age </span></span><br><span class="line">    		<span class="comment">//$route.params.id接收id参数</span></span><br><span class="line">            props: [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>],</span><br><span class="line">            template: <span class="string">&#x27;&lt;h1&gt;name:&#123;&#123;name&#125;&#125; age:&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><strong>3. router-link标签to属性为对象 在对象中设置参数(params,query)和path或者name</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用params和query传递两类参数 注意to属性绑定 path和params同时出现时params失效</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;&#123;name:&#x27;user&#x27;,params:&#123;id:4&#125;,query:&#123;qid:5&#125;&#125;&quot;</span>&gt;命名路由传参&lt;/router-link&gt;</span><br><span class="line"><span class="comment">//$route.params/query.&#x27;...&#x27;获取参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//路由规则</span></span><br><span class="line">&#123;<span class="attr">name</span>:<span class="string">&#x27;user&#x27;</span>, <span class="attr">path</span>: <span class="string">&#x27;/user/:id&#x27;</span>, <span class="attr">component</span>: user, <span class="attr">props</span>: <span class="function"><span class="params">route</span> =&gt;</span> (&#123; <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">id</span>:route.params.id &#125;)&#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="2-7-命名路由"><a href="#2-7-命名路由" class="headerlink" title="2.7 命名路由"></a>2.7 命名路由</h3><p><strong>命名路由</strong>：给<strong>路由规则</strong>起一个别名，可以更加方便的匹配路由规则</p>
<p>路由链接<code>&lt;router-link&gt;</code>可以使用命名路由进行<strong>路由匹配和参数传递</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- 匹配命名路由并传参 --&gt;</span><br><span class="line">&lt;router-link :to=<span class="string">&quot;&#123;name:&#x27;user&#x27;,params:&#123;id:3&#125;&#125;&quot;</span>&gt;User3&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line">                <span class="comment">//命名路由</span></span><br><span class="line">                name:<span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">                path:<span class="string">&#x27;/user/:id&#x27;</span>,</span><br><span class="line">                component:user</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在路由规则对象中<strong>使用name属性给规则起一个别名</strong></li>
<li>路由链接匹配命名路由时<ul>
<li>属性绑定to</li>
<li>to的值为一个对象<ul>
<li><strong>name属性</strong>，路由规则别名（使用名字代替锚链接）</li>
<li><strong>params属性</strong>(值为对象)，传递给组件的动态参数  (组件中接收动态参数使用<code>$route.params.&#39;参数名&#39;</code>)</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>

<h3 id="2-8-Vue-Router编程式导航"><a href="#2-8-Vue-Router编程式导航" class="headerlink" title="2.8 Vue-Router编程式导航"></a>2.8 Vue-Router编程式导航</h3><p>页面导航的两种方式：<strong>声明式</strong>导航和<strong>编程式</strong>导航</p>
<h4 id="2-8-1声明式导航"><a href="#2-8-1声明式导航" class="headerlink" title="2.8.1声明式导航"></a>2.8.1声明式导航</h4><p><strong>声明式导航：</strong>通过点击链接进行导航跳转</p>
<p>使用页面中的<strong>a标签</strong>或者Vue中的**路由链接(router-link)**实现导航</p>
<p>导航通过点击声明好的标签进行</p>
<br>

<h4 id="2-8-2-编程式导航"><a href="#2-8-2-编程式导航" class="headerlink" title="2.8.2 编程式导航"></a>2.8.2 编程式导航</h4><p><strong>编程式导航：</strong>调用<code>JavaScript</code>的API进行导航</p>
<p>例如：通过<code>location.href()</code>进行页面导航跳转</p>
<br>

<h4 id="2-8-3-Vue-Router编程式导航的方式"><a href="#2-8-3-Vue-Router编程式导航的方式" class="headerlink" title="2.8.3 Vue-Router编程式导航的方式"></a>2.8.3 Vue-Router编程式导航的方式</h4><ul>
<li><p><code>this.$router.push()</code></p>
</li>
<li><p><code>this.$router.go()</code></p>
</li>
<li><p style="color:red;">注意：此处的`$router`与组件中接受参数的`$route`不同</p></li>
</ul>
<br>

<p>通过push方法可以<strong>根据hash值进行路由跳转</strong>和<strong>参数传递</strong></p>
<p>通过go方法可以实现<strong>页面在历史中前进和后退</strong>（类似于<code>history.go()</code>方法）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//点击按钮后返回上一级页面</span></span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">          template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                  &lt;h1&gt;User&lt;/h1&gt;</span></span><br><span class="line"><span class="string">                  &lt;button @click=&#x27;back&#x27;&gt;返回上一个页面&lt;/button&gt;</span></span><br><span class="line"><span class="string">              &lt;/div&gt;`</span>,</span><br><span class="line">              methods:&#123;</span><br><span class="line">                  back:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                      <span class="comment">//返回</span></span><br><span class="line">                      <span class="built_in">this</span>.$router.go(-<span class="number">1</span>)</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">              </span><br><span class="line">      &#125;</span><br><span class="line">  	<span class="comment">//点击按钮后跳转到/user路由</span></span><br><span class="line">      <span class="keyword">var</span> register = &#123;</span><br><span class="line">          template:<span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">                  &lt;h1&gt;Register&lt;/h1&gt;</span></span><br><span class="line"><span class="string">                  &lt;button @click=&#x27;go&#x27;&gt;跳转到user&lt;/button&gt;</span></span><br><span class="line"><span class="string">              &lt;/div&gt;`</span>,</span><br><span class="line">          methods:&#123;</span><br><span class="line">              go:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                  <span class="comment">//跳转</span></span><br><span class="line">                  <span class="comment">//this指向register组件</span></span><br><span class="line">                  <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/user&#x27;</span>)</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="router-push-方法的参数规则"><a href="#router-push-方法的参数规则" class="headerlink" title="$router.push()方法的参数规则"></a><code>$router.push()</code>方法的参数规则</h5><p><img data-src="/images/07-Vue%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/image-20210926214049337.png" alt="image-20210926214049337"></p>
<ol>
<li>使用<code>params</code>向路由组件传值</li>
</ol>
<ul>
<li>params与path<strong>同时使用时params不生效</strong>，利用<strong>命名路由</strong></li>
<li>组件中使用<code>$route.params.&#39;参数名&#39;</code>获取参数值</li>
</ul>
<ol start="2">
<li>使用<code>query</code>向路由组件传值</li>
</ol>
<ul>
<li>组件中使用<code>$route.query.&#39;参数名&#39;</code>获取参数值</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/19/02-Vue%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="杨骁">
      <meta itemprop="description" content="学习博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="杨骁的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/19/02-Vue%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">02-Vue简单案例图书管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-09-19 20:36:19 / 修改时间：21:09:34" itemprop="dateCreated datePublished" datetime="2021-09-19T20:36:19+08:00">2021-09-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">前端框架</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue图书管理简单案例"><a href="#Vue图书管理简单案例" class="headerlink" title="Vue图书管理简单案例"></a>Vue图书管理简单案例</h1><p><img data-src="/images/02-Vue%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/image-20210919200854285.png" alt="效果图"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/09/19/02-Vue%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="杨骁"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">杨骁</p>
  <div class="site-description" itemprop="description">学习博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Templar136" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Templar136" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨骁</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
